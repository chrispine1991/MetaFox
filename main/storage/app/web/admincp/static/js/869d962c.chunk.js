"use strict";(self.webpackChunk_metafox_react=self.webpackChunk_metafox_react||[]).push([["metafox-chatplus-components-Avatar"],{6867:function(r,t,e){e.d(t,{Z:function(){return R}});var o=e(63366),a=e(87462),n=e(67294),i=e(86010),l=e(2097),s=e(94780),c=e(1588),d=e(34867);function g(r){return(0,d.Z)("MuiBadge",r)}(0,c.Z)("MuiBadge",["root","badge","invisible"]);var p=e(34261),h=e(85893);let u=["badgeContent","component","children","invisible","max","slotProps","slots","showZero"],m=r=>{let{invisible:t}=r;return(0,s.Z)({root:["root"],badge:["badge",t&&"invisible"]},g,void 0)},v=n.forwardRef(function(r,t){let{component:e,children:n,max:i=99,slotProps:s={},slots:c={},showZero:d=!1}=r,g=(0,o.Z)(r,u),{badgeContent:v,max:f,displayValue:b,invisible:Z}=function(r){let{badgeContent:t,invisible:e=!1,max:o=99,showZero:a=!1}=r,n=(0,l.Z)({badgeContent:t,max:o}),i=e;!1!==e||0!==t||a||(i=!0);let{badgeContent:s,max:c=o}=i?n:r,d=s&&Number(s)>c?`${c}+`:s;return{badgeContent:s,invisible:i,max:c,displayValue:d}}((0,a.Z)({},r,{max:i})),O=(0,a.Z)({},r,{badgeContent:v,invisible:Z,max:f,showZero:d}),x=m(O),$=e||c.root||"span",y=(0,p.Z)({elementType:$,externalSlotProps:s.root,externalForwardedProps:g,additionalProps:{ref:t},ownerState:O,className:x.root}),w=c.badge||"span",P=(0,p.Z)({elementType:w,externalSlotProps:s.badge,ownerState:O,className:x.badge});return(0,h.jsxs)($,(0,a.Z)({},y,{children:[n,(0,h.jsx)(w,(0,a.Z)({},P,{children:b}))]}))});var f=e(81719),b=e(78884),Z=e(69633),O=e(36622);function x(r){return(0,d.Z)("MuiBadge",r)}let $=(0,c.Z)("MuiBadge",["root","badge","dot","standard","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft","invisible","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","overlapRectangular","overlapCircular","anchorOriginTopLeftCircular","anchorOriginTopLeftRectangular","anchorOriginTopRightCircular","anchorOriginTopRightRectangular","anchorOriginBottomLeftCircular","anchorOriginBottomLeftRectangular","anchorOriginBottomRightCircular","anchorOriginBottomRightRectangular"]),y=["anchorOrigin","className","component","components","componentsProps","overlap","color","invisible","max","badgeContent","slots","slotProps","showZero","variant"],w=r=>{let{color:t,anchorOrigin:e,invisible:o,overlap:a,variant:n,classes:i={}}=r,l={root:["root"],badge:["badge",n,o&&"invisible",`anchorOrigin${(0,O.Z)(e.vertical)}${(0,O.Z)(e.horizontal)}`,`anchorOrigin${(0,O.Z)(e.vertical)}${(0,O.Z)(e.horizontal)}${(0,O.Z)(a)}`,`overlap${(0,O.Z)(a)}`,"default"!==t&&`color${(0,O.Z)(t)}`]};return(0,s.Z)(l,x,i)},P=(0,f.ZP)("span",{name:"MuiBadge",slot:"Root",overridesResolver:(r,t)=>t.root})({position:"relative",display:"inline-flex",verticalAlign:"middle",flexShrink:0}),C=(0,f.ZP)("span",{name:"MuiBadge",slot:"Badge",overridesResolver:(r,t)=>{let{ownerState:e}=r;return[t.badge,t[e.variant],t[`anchorOrigin${(0,O.Z)(e.anchorOrigin.vertical)}${(0,O.Z)(e.anchorOrigin.horizontal)}${(0,O.Z)(e.overlap)}`],"default"!==e.color&&t[`color${(0,O.Z)(e.color)}`],e.invisible&&t.invisible]}})(({theme:r,ownerState:t})=>(0,a.Z)({display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignContent:"center",alignItems:"center",position:"absolute",boxSizing:"border-box",fontFamily:r.typography.fontFamily,fontWeight:r.typography.fontWeightMedium,fontSize:r.typography.pxToRem(12),minWidth:20,lineHeight:1,padding:"0 6px",height:20,borderRadius:10,zIndex:1,transition:r.transitions.create("transform",{easing:r.transitions.easing.easeInOut,duration:r.transitions.duration.enteringScreen})},"default"!==t.color&&{backgroundColor:(r.vars||r).palette[t.color].main,color:(r.vars||r).palette[t.color].contrastText},"dot"===t.variant&&{borderRadius:4,height:8,minWidth:8,padding:0},"top"===t.anchorOrigin.vertical&&"right"===t.anchorOrigin.horizontal&&"rectangular"===t.overlap&&{top:0,right:0,transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${$.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}},"bottom"===t.anchorOrigin.vertical&&"right"===t.anchorOrigin.horizontal&&"rectangular"===t.overlap&&{bottom:0,right:0,transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${$.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}},"top"===t.anchorOrigin.vertical&&"left"===t.anchorOrigin.horizontal&&"rectangular"===t.overlap&&{top:0,left:0,transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${$.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}},"bottom"===t.anchorOrigin.vertical&&"left"===t.anchorOrigin.horizontal&&"rectangular"===t.overlap&&{bottom:0,left:0,transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${$.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}},"top"===t.anchorOrigin.vertical&&"right"===t.anchorOrigin.horizontal&&"circular"===t.overlap&&{top:"14%",right:"14%",transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${$.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}},"bottom"===t.anchorOrigin.vertical&&"right"===t.anchorOrigin.horizontal&&"circular"===t.overlap&&{bottom:"14%",right:"14%",transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${$.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}},"top"===t.anchorOrigin.vertical&&"left"===t.anchorOrigin.horizontal&&"circular"===t.overlap&&{top:"14%",left:"14%",transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${$.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}},"bottom"===t.anchorOrigin.vertical&&"left"===t.anchorOrigin.horizontal&&"circular"===t.overlap&&{bottom:"14%",left:"14%",transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${$.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}},t.invisible&&{transition:r.transitions.create("transform",{easing:r.transitions.easing.easeInOut,duration:r.transitions.duration.leavingScreen})})),z=n.forwardRef(function(r,t){var e,n,s,c,d,g;let p;let u=(0,b.Z)({props:r,name:"MuiBadge"}),{anchorOrigin:m={vertical:"top",horizontal:"right"},className:f,component:O="span",components:x={},componentsProps:$={},overlap:z="rectangular",color:R="default",invisible:S=!1,max:k,badgeContent:B,slots:E,slotProps:T,showZero:N=!1,variant:W="standard"}=u,M=(0,o.Z)(u,y),F=(0,l.Z)({anchorOrigin:m,color:R,overlap:z,variant:W}),L=S;!1!==S||(0!==B||N)&&(null!=B||"dot"===W)||(L=!0);let{color:I=R,overlap:_=z,anchorOrigin:j=m,variant:A=W}=L?F:u,D=(0,a.Z)({},u,{anchorOrigin:j,invisible:L,color:I,overlap:_,variant:A}),U=w(D);"dot"!==A&&(p=B&&Number(B)>k?`${k}+`:B);let H=null!=(e=null!=(n=null==E?void 0:E.root)?n:x.Root)?e:P,K=null!=(s=null!=(c=null==E?void 0:E.badge)?c:x.Badge)?s:C,q=null!=(d=null==T?void 0:T.root)?d:$.root,G=null!=(g=null==T?void 0:T.badge)?g:$.badge;return(0,h.jsx)(v,(0,a.Z)({invisible:S,badgeContent:p,showZero:N,max:k},M,{slots:{root:H,badge:K},className:(0,i.default)(null==q?void 0:q.className,U.root,f),slotProps:{root:(0,a.Z)({},q,(0,Z.Z)(H)&&{as:O,ownerState:(0,a.Z)({},null==q?void 0:q.ownerState,{anchorOrigin:j,color:I,overlap:_,variant:A})}),badge:(0,a.Z)({},G,{className:(0,i.default)(U.badge,null==G?void 0:G.className)},(0,Z.Z)(K)&&{ownerState:(0,a.Z)({},null==G?void 0:G.ownerState,{anchorOrigin:j,color:I,overlap:_,variant:A})})},ref:t}))});var R=z},69633:function(r,t,e){var o=e(28442);let a=r=>{return!r||!(0,o.Z)(r)};t.Z=a},69709:function(r,t,e){e.r(t);var o=e(85597),a=e(27274),n=e(7961),i=e(6867),l=e(81719),s=e(62097),c=e(67294),d=e(93836),g=e(42977),p=e(17563);let h=(0,l.ZP)(n.Z,{name:"AvatarWrapper"})(({theme:r})=>({borderWidth:"thin",borderStyle:"solid",borderColor:r.palette.border.secondary})),u=(0,l.ZP)(o.rUS,{name:"Link"})(({theme:r})=>({"&:hover":{textDecoration:"none"}})),m=(0,l.ZP)(i.Z,{shouldForwardProp:r=>"status"!==r})(({theme:r,status:t})=>({"& .MuiBadge-badge":{...0===t&&{display:"none"},...1===t&&{color:r.palette.success.main,backgroundColor:r.palette.success.main},...2===t&&{color:r.palette.warning.main,backgroundColor:r.palette.warning.main},...3===t&&{color:r.palette.error.main,backgroundColor:r.palette.error.main},boxShadow:"dark"===r.palette.mode?"none":`0 0 0 2px ${r.palette.background.paper}`,"&::after":{position:"absolute",top:0,left:0,width:"100%",height:"100%",borderRadius:"50%",animation:"ripple 1.2s infinite ease-in-out",border:"1px solid currentColor",content:'""'}}})),v=(0,l.ZP)("div",{shouldForwardProp:r=>"sizeProps"!==r})(({theme:r,sizeProps:t})=>({position:"relative",width:"32px",height:"32px",...t&&{width:t,height:t}})),f=(0,l.ZP)(n.Z,{shouldForwardProp:r=>"sizeProps"!==r})(({theme:r,sizeProps:t})=>({position:"absolute",bottom:0,left:0,width:"26px",height:"26px",backgroundColor:"dark"===r.palette.mode?r.palette.grey["600"]:r.palette.grey["300"],borderWidth:1,borderStyle:"solid",borderColor:"light"===r.palette.mode?r.palette.grey["50"]:r.palette.grey["800"],zIndex:2,...t&&{width:t-6,height:t-6}})),b=(0,l.ZP)(n.Z,{shouldForwardProp:r=>"sizeProps"!==r})(({theme:r,sizeProps:t})=>({position:"relative",top:-2,left:6,width:"26px",height:"26px",...t&&{width:`${t-6}px !important`,height:`${t-6}px !important`}}));t.default=(0,c.memo)(function({username:r="Name",name:t="Name",src:e,size:i,to:l,onClick:Z,status:O=0,room:x,uploadLocal:$=!1,roomType:y=null,avatarETag:w,hoverCard:P=!1,component:C="span",target:z="_self"}){var R,S;let{getSetting:k}=(0,o.OgA)(),B=(0,s.Z)(),E=y||(null==x?void 0:x.t),T=(0,a.vK)(t),N={width:i,height:i,color:B.palette.grey["50"],fontSize:i/3},W=k("chatplus"),M=null==W?void 0:null===(R=W.server)||void 0===R?void 0:R.replace(/\/$/,""),F=e;if(F||(F=w?`${M}/avatar/${r}?${p.stringify({etag:w})}`:""),T&&(N.backgroundColor=a.kU.hex(T)),l)return c.createElement(u,{target:z,to:l||`/${r}`},c.createElement(h,{src:F,alt:t,style:N,component:C,children:T}));if([d.n.Private,d.n.Public].includes(E)){if($)return c.createElement(h,{src:F,alt:t,style:N,component:C,children:T});if(null==x?void 0:x.avatarETag)return F=`${M}/avatar/room/${null==x?void 0:x.id}?${p.stringify({etag:null==x?void 0:x.avatarETag})}`,c.createElement(h,{src:F,alt:t,style:N,component:C,children:T});{let L=`${M}/avatar/${null==x?void 0:null===(S=x.u)||void 0===S?void 0:S.username}`;return c.createElement(v,{sizeProps:i},c.createElement(f,{sizeProps:i,src:L,alt:t,component:C,children:T}),c.createElement(b,{sizeProps:i,src:F,alt:t,style:N,component:C,children:T}))}}if(E===d.n.Direct&&O){let I=(0,g.xW)(O);return c.createElement(m,{overlap:"circular",anchorOrigin:{vertical:"bottom",horizontal:"right"},variant:"dot",status:I},c.createElement(n.Z,{src:F,alt:t,style:N,component:C,children:T,hoverCard:P}))}return c.createElement(h,{src:F,alt:t,style:N,component:C,children:T,onClick:Z,to:r,hoverCard:P})})}}]);