"use strict";(self.webpackChunk_metafox_react=self.webpackChunk_metafox_react||[]).push([["metafox-user-components-AccountMenuPopper-index"],{88009:function(e,t,n){n.r(t),n.d(t,{default:function(){return x}});var a=n(85597),o=n(21241),r=n(16473),i=n(27274),l=n(25722),c=n(62937),p=n(81719),s=n(22410),m=n(73327),d=n(67294);function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}let g=(0,s.Z)(e=>{var t;return(0,m.Z)({root:{},paper:{width:e.popoverWidth.appbar,overflow:"hidden",paddingBottom:e.spacing(1)},menu:{minWidth:"296px"},menuItem:{color:e.palette.text.secondary,padding:e.spacing(1.5)},menuItemLink:{padding:0},link:{color:e.palette.text.secondary,textDecoration:"none",padding:e.spacing(1.5),display:"block",flexGrow:1},divider:{margin:`${e.spacing(.5)}px ${e.spacing(2)}px ${e.spacing(.5)}px ${e.spacing(2)}px`},icon:{textAlign:"center",marginRight:e.spacing(1.5)},iconButton:{color:e.palette.text.secondary,fontSize:e.mixins.pxToRem(16),marginLeft:e.spacing(1),width:"32px"},accountItem:{position:"relative",borderBottom:"1px solid",borderBottomColor:null===(t=e.palette.border)||void 0===t?void 0:t.secondary,cursor:"pointer",marginBottom:e.spacing(1)},userAvatar:{},profileLink:{display:"flex",padding:e.spacing(2),alignItems:"center","&:hover":{backgroundColor:"rgba(0,0,0,0.04)"}},userInfo:{maxWidth:"calc(100% - 56px)"},viewProfileText:{fontSize:e.mixins.pxToRem(15),color:e.palette.text.secondary},fullName:{fontSize:e.mixins.pxToRem(18),fontWeight:e.typography.fontWeightBold,textTransform:"capitalize",marginBottom:"2px",display:"block",whiteSpace:"nowrap",overflowX:"hidden",textOverflow:"ellipsis",color:e.palette.text.primary}})},{name:"MuiAppBarAccountMenu"}),f=(0,p.ZP)("div",{name:"AvatarWrapper"})(({theme:e})=>({marginRight:e.spacing(1)}));var x=function({anchorRef:e,closePopover:t,...n}){var p;let s=(0,a.oRt)("core","accountMenu"),m=(0,a.kPO)(),{user:x}=m,v=g(),{useActionControl:h,jsxBackend:y,i18n:k,getAcl:w,getSetting:E}=(0,a.OgA)(),[b]=h(null,{}),A=E(),B=w(),N=(0,i.W$)(s.items,{setting:A,acl:B,session:m});return d.createElement(c.Z,u({id:"menuAccount","data-testid":"menuAccount",anchorEl:e.current,className:v.root},n),d.createElement(l.Z,{className:v.paper},d.createElement(o.l$,{autoHide:!0,autoHeight:!0,autoHeightMax:500},d.createElement("div",null,d.createElement(a.rUS,{to:x.link,underline:"none"},d.createElement("div",{className:v.accountItem},d.createElement("div",{className:v.profileLink},d.createElement(f,null,d.createElement(r.Yt,{user:x,size:48})),d.createElement("div",{className:v.userInfo},d.createElement("span",{className:v.fullName},x.full_name),d.createElement("span",{className:v.viewProfileText},(null==x?void 0:null===(p=x.role)||void 0===p?void 0:p.name)||k.formatMessage({id:"view_profile"})))))),N.filter(Boolean).map((e,n)=>y.render({component:`menuItem.as.${e.as||"normal"}`,props:{key:n.toString(),item:e,variant:"contained",handleAction:b,closePopover:t}}))))))}}}]);