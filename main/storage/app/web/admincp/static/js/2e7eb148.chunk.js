"use strict";(self.webpackChunk_metafox_react=self.webpackChunk_metafox_react||[]).push([["metafox-form-elements-UploadPhotoAlbum-SimpleUploadPhotos"],{35043:function(e,o,t){t.r(o),t.d(o,{default:function(){return g}});var r=t(85597),l=t(21241),a=t(16473),i=t(21822),n=t(17888),s=t(81719),u=t(18948),p=t(67294);let m="simpleUploadPhotos",d=(0,s.ZP)("div",{name:m,slot:"root"})(({theme:e})=>({display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"})),c=(0,s.ZP)(i.Z,{name:m,slot:"root"})(({theme:e})=>({fontWeight:e.typography.fontWeightBold,fontSize:e.typography.pxToRem(18)})),h=(0,s.ZP)("div",{name:m,slot:"ButtonWrap",shouldForwardProp:e=>"size"!==e&&"isProfilePage"!==e})(({theme:e,size:o,isProfilePage:t})=>({display:"flex",alignItems:"center",justifyContent:"center",border:e.mixins.border("primary"),height:e.spacing(4.75),marginTop:e.spacing(1),..."small"===o&&{borderRadius:e.shape.borderRadius,padding:e.spacing(0,1)},..."small"!==o&&{height:125,width:"100%"},..."small"!==o&&{height:t?170:125,width:"100%"},"&:hover":{cursor:"pointer",backgroundColor:e.palette.button.hover},"& .MuiButton-root.MuiButton-text:hover":{backgroundColor:"transparent"}})),f=(0,s.ZP)(n.Z,{name:m,slot:"FormControl",shouldForwardProp:e=>"size"!==e})(({theme:e,size:o})=>({..."small"!==o&&{marginTop:e.spacing(0),marginBottom:e.spacing(0)}}));function g({name:e,formik:o,config:t}){let{size:i=null}=t,{i18n:n,dialogBackend:s}=(0,r.OgA)(),m=(0,l.N6)(),[,g,{setValue:b}]=(0,u.U$)(null!=e?e:"simpleUploadPhotos"),[P,v]=p.useState([]),[C,y]=p.useState(!1);p.useEffect(()=>{"user"===(null==m?void 0:m.resource_name)&&(null==m?void 0:m.profile_page)&&(null==m?void 0:m.album_id)&&y(!0)},[m]);let x=t.placeholder||"add_photos_video";p.useEffect(()=>{b(P)},[P]);let _=(0,p.useCallback)(()=>{s.present({component:"photo.dialog.ChooseAlbumItemDialog",props:{config:t,fileItems:P,setFileItems:v,isDetailAlbum:!0,formik:o}})},[]),k=Boolean(g.error&&(g.touched||o.submitCount));return p.useEffect(()=>{k&&(s.alert({message:g.error}),b([]))},[k,null==g?void 0:g.error,P]),p.createElement(f,{size:i,error:k,fullWidth:!0,margin:"normal"},p.createElement(d,null,p.createElement(h,{size:i,isProfilePage:C,onClick:_},p.createElement(c,{size:"medium",color:"primary",startIcon:p.createElement(a.zb,{icon:"ico-photos-plus-o"})},n.formatMessage({id:x})))))}}}]);