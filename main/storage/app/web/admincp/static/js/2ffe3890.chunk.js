"use strict";(self.webpackChunk_metafox_react=self.webpackChunk_metafox_react||[]).push([["metafox-core-blocks-SearchBox-Block"],{15049:function(e,t,a){a.r(t),a.d(t,{default:function(){return S}});var r=a(85597),n=a(21241),l=a(16473),c=a(81719),o=a(38790),m=a(17673),i=a(67294),s=a(84635),u=a(41609),h=a.n(u),p=a(18446),f=a.n(p);let d=(0,c.ZP)(l.zb,{name:"IconClearStyled"})(({theme:e})=>({marginRight:e.spacing(.5),cursor:"pointer"})),g=(0,c.ZP)(l.zb,{name:"IconPlusStyled"})(({theme:e})=>({color:e.palette.text.secondary,fontSize:e.mixins.pxToRem(16),marginLeft:e.spacing(2),"&:hover":{color:e.palette.primary.main}})),b=(0,c.ZP)("form",{name:"FormStyled"})(({theme:e})=>({display:"flex",alignItems:"center"})),E=(0,r.LeK)(function(e){let{eventCenter:t,usePageParams:a,navigate:c,i18n:u}=(0,r.OgA)(),{search:p,appName:E,resourceName:S}=a(),{icon:x,titleIcon:y,action:k}=e,v=(0,r.oHF)(E,S,"searchItem"),C=(0,r.gM1)(E,S,"search_simple"),[U,Z]=(0,i.useState)(""),[_,q]=(0,i.useState)();if((0,i.useEffect)(()=>{t.dispatch("minimizeGlobalSearchForm",!0)}),(0,i.useEffect)(()=>{Z(p||"")},[p]),!v)return null;let{placeholder:z,pageParams:B={}}=v,I=({values:e})=>{var t;if(f()(e,_))return;let a=null!==(t=v.pageUrl)&&void 0!==t?t:"/appName/search";h()(e)||c({pathname:a,search:m.stringify({...B,q:e.q})},{replace:!0})},O=e=>{var t;e&&e.preventDefault();let a=null!==(t=v.pageUrl)&&void 0!==t?t:"/appName/search";c({pathname:a,search:m.stringify({...B,q:U})})},P=()=>{Z("")};return C?i.createElement(n.gO,{testid:"blockSearch"},i.createElement(n.sU,null,i.createElement(s.qu,{noHeader:!0,noBreadcrumb:!0,formSchema:C,onChange:I}))):i.createElement(n.gO,null,i.createElement(n.sU,null,i.createElement(b,{onSubmit:O,"data-testid":"formSearch"},i.createElement(l.Rj,{name:"search",value:U,onChange:e=>Z(e.target.value),placeholder:z,endAdornment:U?i.createElement(d,{icon:"ico-close",onClick:P}):null}),i.createElement("button",{type:"submit",className:"srOnly","aria-hidden":"true"}),x&&y&&i.createElement(o.Z,{title:u.formatMessage({id:y})},i.createElement(r.rUS,{to:k,sx:{textDecoration:"none!important"}},i.createElement(g,{icon:x}))))))});var S=(0,r.j4Z)({extendBlock:E,defaults:{placeholder:"Search",blockLayout:"sidebar search box"}})}}]);