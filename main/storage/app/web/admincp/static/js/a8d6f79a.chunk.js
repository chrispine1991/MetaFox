"use strict";(self.webpackChunk_metafox_react=self.webpackChunk_metafox_react||[]).push([["metafox-user-blocks-EmailVerification-Block"],{56401:function(e,t,r){r.r(t);var l=r(85597),n=r(21241),a=r(87620),i=r(30120),c=r(35705),u=r(61394),o=r(81719),m=r(91647),s=r(67294),f=r(86706);let E=(0,o.ZP)(u.Z)(({theme:e})=>({marginTop:e.spacing(2),color:e.palette.primary.main})),d=(0,o.ZP)(i.Z)(({theme:e})=>({display:"flex",justifyContent:"center"})),p=({loading:e,error:t,success:r})=>{let{i18n:n,navigate:i}=(0,l.OgA)(),[u,o]=s.useState(!1),f=()=>{o(!0)};if(e)return s.createElement(d,null,s.createElement(c.Z,{variant:"indeterminate",size:38}));if(r)return s.createElement(m.Z,null,n.formatMessage({id:"your_email_has_been_verified_successfully"}));if(!t)return i("/",{replace:!0}),null;let{title:p,resend:_,redirect:y}=t;return y?(i("/",{replace:!0}),null):p&&!_?s.createElement(m.Z,null,p):_?s.createElement(s.Fragment,null,s.createElement(m.Z,{component:"h1",variant:"h3"},p),s.createElement(E,{component:"button",variant:"body2",onClick:f},n.formatMessage({id:"did_not_receive_resend_email"})),u?s.createElement(a.Z,null):null):null};t.default=(0,l.j4Z)({extendBlock:function({title:e}){let{usePageParams:t,dispatch:r,navigate:a}=(0,l.OgA)(),i=t(),{loading:c,error:u,success:o}=(0,f.v9)(e=>e.user.verifyEmail),m=u&&JSON.parse(u),{hash:E}=i;return s.useEffect(()=>{r({type:"user/verify/email",payload:{hash:E}})},[E]),o&&window.setTimeout(()=>a("/login",{replace:!0}),5e3),s.createElement(n.gO,null,s.createElement(n.ti,{title:e}),s.createElement(n.sU,null,s.createElement(p,{loading:c,error:m,success:o})))},defaults:{title:"Verification",blockLayout:"Blocker"}})},87620:function(e,t,r){var l=r(84635),n=r(85597),a=r(30120),i=r(67294);let c=()=>{let e=(0,n.gM1)("user","user_verify","resend");return i.createElement(a.Z,{mt:2},i.createElement(l.qu,{navigationConfirmWhenDirty:!1,formSchema:e}))};t.Z=c}}]);