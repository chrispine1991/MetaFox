"use strict";(self.webpackChunk_metafox_react=self.webpackChunk_metafox_react||[]).push([["formExtras","first"],{18037:function(e,t,l){l.d(t,{Z:function(){return C}});var n=l(63366),r=l(87462),a=l(67294),i=l(86010),o=l(94780),u=l(59711),s=l(91647),d=l(36622),c=l(81719),m=l(78884),p=l(1588),f=l(34867);function v(e){return(0,f.Z)("MuiFormControlLabel",e)}let g=(0,p.Z)("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error"]);var h=l(56594),b=l(85893);let y=["checked","className","componentsProps","control","disabled","disableTypography","inputRef","label","labelPlacement","name","onChange","value"],E=e=>{let{classes:t,disabled:l,labelPlacement:n,error:r}=e,a={root:["root",l&&"disabled",`labelPlacement${(0,d.Z)(n)}`,r&&"error"],label:["label",l&&"disabled"]};return(0,o.Z)(a,v,t)},Z=(0,c.ZP)("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:l}=e;return[{[`& .${g.label}`]:t.label},t.root,t[`labelPlacement${(0,d.Z)(l.labelPlacement)}`]]}})(({theme:e,ownerState:t})=>(0,r.Z)({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${g.disabled}`]:{cursor:"default"}},"start"===t.labelPlacement&&{flexDirection:"row-reverse",marginLeft:16,marginRight:-11},"top"===t.labelPlacement&&{flexDirection:"column-reverse",marginLeft:16},"bottom"===t.labelPlacement&&{flexDirection:"column",marginLeft:16},{[`& .${g.label}`]:{[`&.${g.disabled}`]:{color:(e.vars||e).palette.text.disabled}}})),x=a.forwardRef(function(e,t){let l=(0,m.Z)({props:e,name:"MuiFormControlLabel"}),{className:o,componentsProps:d={},control:c,disabled:p,disableTypography:f,label:v,labelPlacement:g="end"}=l,x=(0,n.Z)(l,y),C=(0,u.Z)(),S=p;void 0===S&&void 0!==c.props.disabled&&(S=c.props.disabled),void 0===S&&C&&(S=C.disabled);let P={disabled:S};["checked","name","onChange","value","inputRef"].forEach(e=>{void 0===c.props[e]&&void 0!==l[e]&&(P[e]=l[e])});let O=(0,h.Z)({props:l,muiFormControl:C,states:["error"]}),$=(0,r.Z)({},l,{disabled:S,labelPlacement:g,error:O.error}),k=E($),w=v;return null==w||w.type===s.Z||f||(w=(0,b.jsx)(s.Z,(0,r.Z)({component:"span",className:k.label},d.typography,{children:w}))),(0,b.jsxs)(Z,(0,r.Z)({className:(0,i.default)(k.root,o),ownerState:$,ref:t},x,{children:[a.cloneElement(c,P),w]}))});var C=x},52922:function(e,t,l){l.d(t,{Z:function(){return E}});var n=l(63366),r=l(87462),a=l(67294),i=l(86010),o=l(94780),u=l(81719),s=l(78884),d=l(1588),c=l(34867);function m(e){return(0,c.Z)("MuiFormGroup",e)}(0,d.Z)("MuiFormGroup",["root","row","error"]);var p=l(59711),f=l(56594),v=l(85893);let g=["className","row"],h=e=>{let{classes:t,row:l,error:n}=e;return(0,o.Z)({root:["root",l&&"row",n&&"error"]},m,t)},b=(0,u.ZP)("div",{name:"MuiFormGroup",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:l}=e;return[t.root,l.row&&t.row]}})(({ownerState:e})=>(0,r.Z)({display:"flex",flexDirection:"column",flexWrap:"wrap"},e.row&&{flexDirection:"row"})),y=a.forwardRef(function(e,t){let l=(0,s.Z)({props:e,name:"MuiFormGroup"}),{className:a,row:o=!1}=l,u=(0,n.Z)(l,g),d=(0,p.Z)(),c=(0,f.Z)({props:l,muiFormControl:d,states:["error"]}),m=(0,r.Z)({},l,{row:o,error:c.error}),y=h(m);return(0,v.jsx)(b,(0,r.Z)({className:(0,i.default)(y.root,a),ownerState:m,ref:t},u))});var E=y},41470:function(e,t,l){var n=l(87462),r=l(63366),a=l(67294),i=l(52922),o=l(84771),u=l(42293),s=l(17361),d=l(49669),c=l(85893);let m=["actions","children","defaultValue","name","onChange","value"],p=a.forwardRef(function(e,t){let{actions:l,children:p,defaultValue:f,name:v,onChange:g,value:h}=e,b=(0,r.Z)(e,m),y=a.useRef(null),[E,Z]=(0,u.Z)({controlled:h,default:f,name:"RadioGroup"});a.useImperativeHandle(l,()=>({focus:()=>{let e=y.current.querySelector("input:not(:disabled):checked");e||(e=y.current.querySelector("input:not(:disabled)")),e&&e.focus()}}),[]);let x=(0,o.Z)(t,y),C=(0,d.Z)(v),S=a.useMemo(()=>({name:C,onChange(e){Z(e.target.value),g&&g(e,e.target.value)},value:E}),[C,g,Z,E]);return(0,c.jsx)(s.Z.Provider,{value:S,children:(0,c.jsx)(i.Z,(0,n.Z)({role:"radiogroup",ref:x},b,{children:p}))})});t.Z=p},83229:function(e,t,l){l.r(t),l.d(t,{default:function(){return w}});var n=l(85597),r=l(16473),a=l(27274),i=l(30120),o=l(21822),u=l(17888),s=l(81719),d=l(18948),c=l(12902),m=l(68929),p=l.n(m),f=l(27361),v=l.n(f),g=l(73955),h=l.n(g),b=l(18446),y=l.n(b),E=l(67294),Z=l(90798);let x={width:2,position:"absolute",right:0,opacity:0},C=(0,s.ZP)(r.zb,{name:"AttachmentIcon"})(({theme:e})=>({paddingRight:e.spacing(.5),fontSize:e.mixins.pxToRem(15)})),S=(0,s.ZP)(o.Z,{name:"AttachmentButton"})(({theme:e})=>({fontWeight:"bold"})),P=(0,s.ZP)("div",{name:"AttachmentAction"})(({theme:e})=>({color:e.palette.primary.main,marginLeft:e.spacing(1.5),cursor:"pointer","&:hover":{textDecoration:"underline"}})),O=(0,s.ZP)(i.Z,{name:"AttachmentItem",slot:"FormItem"})(({theme:e})=>({display:"flex",marginTop:e.spacing(1),fontSize:e.mixins.pxToRem(13),lineHeight:1.5,"& .info":{display:"flex"}})),$=(0,s.ZP)("div")(({theme:e})=>({overflowWrap:"anywhere"}));function k({item:e,index:t,handleDelete:l,error:r}){let{i18n:a}=(0,n.OgA)();return"remove"===e.status?null:E.createElement("div",null,E.createElement(O,null,E.createElement("div",{className:"info"},E.createElement(C,{icon:"ico-paperclip-alt"}),E.createElement($,null,e.file_name)),E.createElement(P,{onClick:()=>l(t)},a.formatMessage({id:"remove"}))),r?E.createElement(Z.Z,{error:r}):null)}function w({config:e,name:t,disabled:l,formik:i}){let{dialogBackend:o,i18n:s}=(0,n.OgA)(),[m,f,{setValue:g}]=(0,d.U$)(null!=t?t:"AttachmentField"),{upload_url:b,item_type:Z,fullWidth:C=!0,margin:P="normal",size:O,max_upload_filesize:$,maxFiles:w,disabled:_,accept:I}=e,[F,z]=(0,E.useState)(m.value||[]),[R,M]=(0,E.useState)(Array.isArray(F)&&F.length>0),B=(0,E.useRef)(),T=e.placeholder||"attach_files";(0,E.useEffect)(()=>{g(F),M(F.length>0)},[F]),(0,E.useEffect)(()=>{y()(m.value,F)||z(m.value||[])},[m.value]);let A=e=>{e.currentTarget.value=null},L=(0,E.useCallback)(e=>{o.confirm({message:s.formatMessage({id:"are_you_sure_you_want_to_delete_attachment_file"}),title:s.formatMessage({id:"are_you_sure"})}).then(t=>{t&&(z(t=>(0,c.ZP)(t,t=>{t[e].id?t[e].status="remove":t.splice(e,1)})),M(F.length>0))})},[]),j=(0,E.useCallback)(()=>{let e=F.filter(e=>"remove"!==e.status),t=B.current.files;if(!(null==t?void 0:t.length))return;let l=e.length+t.length;if(l>w){o.alert({message:s.formatMessage({id:"maxfile_upload"},{maxFiles:w})});return}let n=[];for(let r of Object.keys(t)){let i={item:{id:0,status:"create",upload_url:b,download_url:URL.createObjectURL(t[r]),source:URL.createObjectURL(t[r]),file:t[r],file_name:t[r].name,file_size:t[r].size,file_type:t[r].type,uid:h()("file"),fileItemType:Z,extension:(0,a.mD)(t[r].name)}},u=i.item.file.size,d=i.item.file_name;if(u>$&&0!==$){o.alert({message:s.formatMessage({id:"warning_upload_limit_one_file"},{fileName:(0,a.TX)(d,30),fileSize:(0,a.jA)(i.item.file.size),maxSize:(0,a.jA)($)})});break}n.push(i)}n.length&&(n.forEach(e=>{z(t=>(0,c.ZP)(t,t=>{t.push(e.item)}))}),M(F.length>0))},[F]),U=(0,E.useCallback)(()=>{B.current.click()},[]);return E.createElement(u.Z,{fullWidth:C,margin:P,size:O,"data-testid":p()(`field ${t}`)},E.createElement("div",null,E.createElement(S,{variant:"outlined",size:"small",color:"primary","data-testid":p()(`button ${t}`),onClick:U,disabled:_||l||i.isSubmitting,startIcon:E.createElement(r.zb,{icon:"ico-paperclip-alt"})},s.formatMessage({id:T}))),R&&F.map((e,t)=>{return E.createElement(k,{key:t.toString(),handleDelete:L,index:t,item:e,error:v()(f.error,t)})}),E.createElement("input",{onClick:A,"data-testid":p()(`input ${t}`),ref:B,style:x,accept:I,"aria-hidden":!0,type:"file",multiple:!0,onChange:j,hidden:!0}))}},27215:function(e,t,l){l.r(t);var n=l(85597),r=l(16473),a=l(39348),i=l(30120),o=l(35705),u=l(17888),s=l(22949),d=l(42853),c=l(18948),m=l(68929),p=l.n(m),f=l(67294);function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n])}return e}).apply(this,arguments)}let g=(e,t)=>{return f.createElement("li",v({},e),f.createElement(i.Z,{sx:{overflow:"hidden"}},f.createElement(r.Ys,{lines:1},t.label),t.caption?f.createElement(i.Z,null,f.createElement(r.Ys,{lines:1,color:"text.secondary",variant:"body2",fontSize:12,component:"span"},t.caption)):null))},h=({config:e,name:t,disabled:l,formik:r})=>{let{variant:m="outlined",label:h,size:b="medium",fieldValue:y="value",margin:E="normal",disabled:Z,placeholder:x,required:C,fullWidth:S=!0,search_endpoint:P,search_params:O}=e,{values:$}=(0,c.u6)(),{compactData:k,i18n:w}=(0,n.OgA)(),[_,I,{setValue:F,setTouched:z}]=(0,c.U$)(t||"autoComplete"),[R,M]=f.useState(null),B=!!(I.error&&(I.touched||r.submitCount)),T=f.useMemo(()=>{return k(O,$)},[O,$]),[A,L]=(0,n.fBB)({apiUrl:P,initialParams:T});f.useEffect(()=>{F(_.value?_.value[y]:null)},[]),f.useEffect(()=>{if(!_.value){M(null);return}if("object"!=typeof _.value||Array.isArray(_.value)||M(_.value),A.items.length){let e=A.items.filter(e=>e.value==_.value)[0];M(e)}},[_.value,A.items]);let j=e=>{_.onBlur(e),z(!0)};return f.createElement(u.Z,{variant:m,margin:E,fullWidth:S,required:C,size:b,"data-testid":p()(`field ${t}`),error:B},f.createElement(a.Z,{autoHighlight:!0,openOnFocus:!0,onBlur:j,onInputChange:(e,t)=>{L(t)},onChange:(e,t)=>{F((null==t?void 0:t[y])||null),M(t)},noOptionsText:w.formatMessage({id:"no_options"}),disabled:Z||l||r.isSubmitting,value:R,placeholder:x,getOptionLabel:e=>{return null==e?void 0:e.label},options:A.items,loading:A.loading,renderOption:g,loadingText:f.createElement(i.Z,{sx:{display:"flex",justifyContent:"center"}},f.createElement(o.Z,null)),renderInput:e=>f.createElement(s.Z,v({onFocus:()=>L("")},e,{label:h,"data-testid":p()(`field ${t}`),error:B,InputProps:{...e.InputProps}}))}),B&&f.createElement(d.Z,null,null==I?void 0:I.error))};t.default=h},90437:function(e,t,l){l.r(t),l.d(t,{default:function(){return x}});var n=l(85597),r=l(16473),a=l(27274),i=l(17888),o=l(81719),u=l(30120),s=l(50130),d=l(18948),c=l(68929),m=l.n(c),p=l(73955),f=l.n(p),v=l(67294),g=l(90798);let h=e=>{return new Promise(t=>{let l=new FileReader;l.addEventListener("load",()=>t(l.result),!1),l.readAsDataURL(e)})},b={width:2,position:"absolute",right:0,opacity:0},y=(0,o.ZP)(u.Z,{name:"AvatarWrapper"})(({theme:e})=>({borderRadius:"100%",position:"relative",background:"dark"===e.palette.mode?e.palette.grey[600]:e.palette.grey[100]})),E=(0,o.ZP)(s.Z,{name:"AvatarButtonIcon"})(({theme:e})=>({width:"100%",height:"100%",fontSize:"40px",position:"absolute",left:0,top:0,zIndex:3})),Z=(0,o.ZP)(s.Z,{name:"AvatarRemoveButton"})(({theme:e})=>({width:"100%",height:"100%",fontSize:"40px",position:"absolute",left:0,top:0,zIndex:3,opacity:0,"&:hover":{opacity:1}}));function x({config:e,name:t,disabled:l,formik:o}){let{dialogBackend:u,i18n:s}=(0,n.OgA)(),[c,p,{setValue:x}]=(0,d.U$)(null!=t?t:"avatarUpload"),{item_type:C,max_upload_filesize:S,disabled:P,accept:O,margin:$}=e,[k,w]=(0,v.useState)(c.value),_=(0,v.useRef)();(0,v.useEffect)(()=>{(null==k?void 0:k.file)?R(null==k?void 0:k.file,e=>{x({base64:e})}):(null==k?void 0:k.url)?x({}):x({is_delete:!0})},[k]);let I=e=>{return!O||O.replace(/\s/g,"").split(",").filter(t=>{return RegExp(t.replace("*",".*")).test(e)}).length>0},F=e=>{e.currentTarget.value=null},z=(0,v.useCallback)(()=>{w(null)},[]),R=async(e,t)=>{if(e){let l=await h(e);t(l)}},M=(0,v.useCallback)(()=>{let e=_.current.files;if(0===e.length)return;if(!I(e.item(0).type)){u.alert({message:s.formatMessage({id:"picture_format_is_not_correct"})}),_.current.value=null;return}let t={file_name:e.item(0).name,download_url:URL.createObjectURL(e.item(0)),file:e.item(0),key:f()("file"),fileItemType:C},l=t.file.size,n=t.file_name;if(l>S&&0!==S){u.alert({message:s.formatMessage({id:"warning_upload_limit_one_file"},{fileName:(0,a.TX)(n,30),fileSize:(0,a.jA)(t.file.size),maxSize:(0,a.jA)(S)})});return}t&&w(t)},[k]),B=(0,v.useCallback)(()=>{_.current.click()},[]),T=!!(p.error&&(p.touched||o.submitCount));return v.createElement(i.Z,{margin:$,"data-testid":m()(`field ${t}`)},v.createElement(y,{sx:{width:"160px",height:"160px"}},(null==k?void 0:k.download_url)||(null==k?void 0:k.url)?v.createElement(v.Fragment,null,v.createElement(r.Gy,{shape:"circle",src:(null==k?void 0:k.download_url)||(null==k?void 0:k.url),aspectRatio:"11"}),v.createElement(Z,{onClick:()=>z(),sx:{color:"white",background:"rgba(0,0,0,0.3)"}},v.createElement(r.zb,{icon:"ico-trash"}))):v.createElement(E,{"data-testid":m()(`button ${t}`),onClick:B,disabled:P||l||o.isSubmitting},v.createElement(r.zb,{icon:"ico-camera"}))),T&&v.createElement(g.Z,{error:p.error}),v.createElement("input",{onClick:F,"data-testid":m()(`input ${t}`),ref:_,style:b,accept:O,"aria-hidden":!0,type:"file",multiple:!1,onChange:M}))}},10284:function(e,t,l){l.r(t);var n=l(30120),r=l(33483),a=l(9144),i=l(81719),o=l(91647),u=l(18948),s=l(67294);let d=(0,i.ZP)(a.Z,{slot:"StackContent"})(({theme:e})=>({flexWrap:"wrap","& .MuiChip-root":{margin:e.spacing(.5)}})),c=({config:e,name:t})=>{let[l,,{setValue:a}]=(0,u.U$)(null!=t?t:"ChipField"),{options:i=[],direction:c="row",spacing:m=1,label:p}=e;if(!l.value){var f;l.value=null!==(f=e.defaultValue)&&void 0!==f?f:""}let v=e=>{a(e)};return console.log(c,m),s.createElement(n.Z,null,p&&s.createElement(o.Z,{sx:{paddingBottom:1},variant:"h5"},p),s.createElement(d,{direction:c,spacing:m},i.map((e,t)=>s.createElement(r.Z,{onClick:()=>v(e),key:t,label:e.title,variant:"outlined"}))))};t.default=c},11855:function(e,t,l){l.r(t);var n=l(85597),r=l(39348),a=l(17888),i=l(22949),o=l(30120),u=l(18948),s=l(68929),d=l.n(s),c=l(67294);function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n])}return e}).apply(this,arguments)}let p=({name:e,config:t,disabled:l,formik:s})=>{let{margin:p="normal",fieldLabel:f="label",fieldValue:v="value",options:g,disabled:h,suboptions:b,countryFieldName:y,stateFieldName:E,required:Z,label:x,size:C,sx:S,sxFieldWrapper:P,fullWidth:O,inline:$}=t,{i18n:k}=(0,n.OgA)(),[w,_,{setValue:I,setTouched:F}]=(0,u.U$)(y),[z,,{setValue:R}]=(0,u.U$)(E),M=c.useMemo(()=>{return w.value?g.find(e=>{return(null==e?void 0:e.value)===w.value}):null},[w.value,g]),B=c.useMemo(()=>{return w.value&&b[w.value].find(e=>{return(null==e?void 0:e.value)==z.value})||null},[z.value,b,w]),T=b[w.value],A=e=>{I((null==e?void 0:e[v])||null),R(null),s.setFieldValue("country_city_code",null)},L=e=>{return e[f]},j=()=>{F(!0)},U=!!(_.error&&(_.touched||s.submitCount));return $?c.createElement(c.Fragment,null,c.createElement(a.Z,{margin:p,fullWidth:O,"data-testid":d()(`field ${e}`),sx:P},c.createElement(r.Z,{sx:S,openOnFocus:!0,autoHighlight:!0,value:M,disabled:h||l||s.isSubmitting,onChange:(e,t)=>A(t),onBlur:w.onBlur,id:d()(`select-${e}`),multiple:!1,options:g,getOptionLabel:L,renderInput:t=>c.createElement(i.Z,m({"data-testid":d()(`field ${e}`),label:x,required:Z,error:U,helperText:U?_.error:null,onBlur:j},t,{size:C}))})),(null==T?void 0:T.length)>0&&c.createElement(a.Z,{margin:p,fullWidth:O,"data-testid":d()(`field ${E}`),sx:P},c.createElement(o.Z,null,c.createElement(r.Z,{sx:S,openOnFocus:!0,autoHighlight:!0,disabled:h||l||s.isSubmitting,value:B,onChange:(e,t)=>{return R((null==t?void 0:t[v])||null)},onBlur:z.onBlur,id:`select-${e}`,multiple:!1,getOptionLabel:L,options:T,renderInput:e=>c.createElement(i.Z,m({label:k.formatMessage({id:"state"})},e,{size:C}))})))):c.createElement(a.Z,{margin:p,fullWidth:O,"data-testid":d()(`field ${e}`),sx:P},c.createElement(r.Z,{sx:S,openOnFocus:!0,autoHighlight:!0,value:M,disabled:h||l||s.isSubmitting,onChange:(e,t)=>A(t),onBlur:w.onBlur,id:d()(`select-${e}`),multiple:!1,options:g,getOptionLabel:L,renderInput:t=>c.createElement(i.Z,m({"data-testid":d()(`field ${e}`),label:x,required:Z,error:U,helperText:U?_.error:null,onBlur:j},t,{size:C}))}),(null==T?void 0:T.length)>0&&c.createElement(o.Z,{mt:2},c.createElement(r.Z,{sx:S,openOnFocus:!0,autoHighlight:!0,disabled:h||l||s.isSubmitting,value:B,onChange:(e,t)=>{return R((null==t?void 0:t[v])||null)},onBlur:z.onBlur,id:`select-${e}`,multiple:!1,getOptionLabel:L,options:T,renderInput:e=>c.createElement(i.Z,m({label:k.formatMessage({id:"state"})},e,{size:C}))})))};t.default=p},90798:function(e,t,l){l.d(t,{Z:function(){return o}});var n=l(67294),r=l(13218),a=l.n(r);let i=e=>{return e?a()(e)?i(Object.values(e)[0]):e.toString():null};function o({error:e,className:t="invalid-feedback order-last"}){return e?n.createElement("div",{"data-testid":"error",className:t},i(e)):null}},81200:function(e,t,l){l.r(t),l.d(t,{StyledTextField:function(){return Z},default:function(){return S}});var n=l(85597),r=l(39348),a=l(81719),i=l(22949),o=l(18948),u=l(68929),s=l.n(u),d=l(23279),c=l.n(d),m=l(1469),p=l.n(m),f=l(67294),v=l(16473),g=l(30120);function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n])}return e}).apply(this,arguments)}let b=(0,a.ZP)("div",{name:"ItemWrapper"})(({theme:e})=>({marginLeft:e.spacing(1)})),y=({props:e,value:t})=>{if(!t)return null;let{statistic:l,full_name:n}=t;return f.createElement(g.Z,h({component:"div"},e),f.createElement(v.vk,null,f.createElement(v.Yt,{user:t,size:40})),f.createElement(b,null,f.createElement(v.eT,null,f.createElement(v.XQ,null,n),f.createElement(v.pn,null,f.createElement(v.$k,{values:l,display:"total_mutual"})))))};function E(){return(E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n])}return e}).apply(this,arguments)}let Z=(0,a.ZP)(i.Z,{name:"StyledTextField"})(({theme:e})=>({"& .MuiInputLabel-outlined":{transform:"translate(16px, 16px)"},"& .MuiInputLabel-outlined.MuiInputLabel-shrink":{transform:"translate(14px, -6px) scale(0.8667)",backgroundColor:e.palette.background.paper,paddingRight:e.spacing(.5)},"& .MuiOutlinedInput-root":{minHeight:e.spacing(6),borderRadius:e.spacing(.5),paddingTop:e.spacing(1),paddingBottom:e.spacing(1)},"& .MuiFormHelperText-root":{color:e.palette.grey[500]},"& .MuiOutlinedInput-input":{padding:e.spacing(0,2),height:13,WebkitBoxShadow:`0 0 0 1000px ${e.palette.background.paper} inset`},"& .MuiAutocomplete-endAdornment":{top:"auto"}})),x=(0,a.ZP)("div",{name:"FriendPickerField"})(({theme:e})=>({padding:e.spacing(2,0,1)})),C=({config:e,name:t,disabled:l,formik:a})=>{let{label:i,placeholder:u,multiple:d,disabled:m,apiUrl:v="/friend",apiParams:g={limit:10},resetWhenUnmount:h=!1}=e,b=f.useRef(""),[C,,{setValue:S}]=(0,o.U$)(null!=t?t:"FriendPickerField"),{apiClient:P,i18n:O}=(0,n.OgA)(),[$,k]=f.useState([]),[w,_]=f.useState(d?[]:null),[I,F]=f.useState(!1),z=f.useMemo(()=>{let e=()=>{F(!0),P.get(v,{params:{...g,q:b.current||void 0}}).then(e=>e.data.data).then(e=>p()(e)&&k(e)).finally(()=>{F(!1)})};return c()(e,200)},[P,b]),R=(e,t)=>{b.current=t,z()},M=e=>{13===e.keyCode&&e.preventDefault()},B=(e,t)=>{t&&(_(t),S(t))};return(0,f.useEffect)(()=>{z()},[]),(0,f.useEffect)(()=>{if(C.value)return _(C.value),()=>{h&&S({})}},[]),f.createElement(x,null,f.createElement(r.Z,{multiple:d,id:C.name,options:$,loading:I,disabled:m||l||a.isSubmitting,value:w,onChange:B,onInputChange:R,"data-testid":s()(`field ${t}`),disableCloseOnSelect:d,limitTags:3,isOptionEqualToValue:(e,t)=>{return(null==e?void 0:e.id)===(null==t?void 0:t.id)},getOptionLabel:e=>{return(null==e?void 0:e.full_name)||""},filterSelectedOptions:d,noOptionsText:O.formatMessage({id:"no_friends_found"}),renderOption:(e,t)=>f.createElement(y,{key:t.id,props:e,value:t}),renderInput:e=>f.createElement(Z,E({},e,{onKeyDown:M,variant:"outlined",label:i,"data-testid":s()(`input ${t}`),placeholder:u}))}))};var S=C},5685:function(e,t,l){l.d(t,{Z:function(){return a}});var n=l(85597),r=l(67294);function a({text:e}){let{i18n:t}=(0,n.OgA)();return e?e.startsWith("<html>")?r.createElement(r.Fragment,null,t.formatMessage({id:"[placeholder]",defaultMessage:e})):r.createElement(r.Fragment,null,e):null}},37094:function(e,t,l){l.r(t);var n=l(16473),r=l(30120),a=l(17888),i=l(18037),o=l(20399),u=l(41470),s=l(81719),d=l(91647),c=l(18948),m=l(68929),p=l.n(m),f=l(67294),v=l(90798),g=l(5685);function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n])}return e}).apply(this,arguments)}let b=(0,s.ZP)(d.Z,{name:"Title",shouldForwardProp:e=>"styleGroup"!==e})(({theme:e,styleGroup:t})=>({..."question"===t&&{color:e.palette.text.secondary,fontWeight:e.typography.fontWeightBold},..."review_post"===t&&{color:e.palette.text.hint},..."normal"===t&&{}})),y=(0,s.ZP)(r.Z)(({theme:e})=>({display:"flex",alignItems:"center"})),E=(0,s.ZP)(o.Z)(({theme:e})=>({height:42,width:42})),Z=(0,s.ZP)(d.Z)(({theme:e})=>({marginLeft:e.spacing(3.75)})),x=({config:e,name:t,disabled:l,formik:o})=>{var s;let[m,x]=(0,c.U$)(null!=t?t:"RadioGroupField"),{options:C,label:S,margin:P="normal",variant:O,fullWidth:$,disabled:k,labelPlacement:w,inline:_,size:I,required:F,hasFormOrder:z=!1,order:R,styleGroup:M="normal",description:B,titleConfig:T,descriptionConfig:A}=e,L=z&&R?`${R}. `:null,j=!!(x.error&&(x.touched||o.submitCount));return f.createElement(a.Z,{component:"fieldset",margin:P,variant:O,disabled:k||l||o.isSubmitting,fullWidth:$,size:I,error:j,"data-testid":p()(`field ${t}`),required:F},S||L?f.createElement(b,h({mb:1},T,{styleGroup:M}),L,S):null,B?f.createElement(d.Z,h({my:1,color:"text.secondary",variant:"body2"},A),B):null,f.createElement(u.Z,{"aria-label":S,name:m.name,value:null===(s=m.value)||void 0===s?void 0:s.toString(),onChange:m.onChange,style:_?{flexDirection:"row"}:void 0,sx:{alignItems:"start"}},C?C.map((e,t)=>{var a;return f.createElement(r.Z,{key:t.toString()},f.createElement(i.Z,{sx:{alignItems:"center"},labelPlacement:w,value:null===(a=e.value)||void 0===a?void 0:a.toString(),disabled:k||e.disabled||l||o.isSubmitting,control:f.createElement(E,{disabled:e.disabled}),label:f.createElement(y,null,e.icon?f.createElement(n.zb,{sx:{marginRight:"8px"},icon:e.icon}):null,f.createElement(g.Z,{text:e.label,hint:e.hint}))}),(null==e?void 0:e.description)?f.createElement(Z,{variant:"body2",color:k||e.disabled||l||o.isSubmitting?"text.disabled":"text.secondary"},e.description):null)}):null),j?f.createElement(v.Z,{error:x.error}):null)};t.default=x},80767:function(e,t,l){l.r(t);var n=l(40684);let r=(0,n.ZP)({resolved:{},chunkName(){return"FormEditor"},isReady(e){let t=this.resolve(e);return!0===this.resolved[t]&&!!l.m[t]},importAsync:()=>Promise.all([l.e("vendors-node_modules_mui_lab_TabList_TabList_js-node_modules_mui_lab_TabPanel_TabPanel_js-nod-ce0afd"),l.e("FormEditor")]).then(l.bind(l,60752)),requireAsync(e){let t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then(e=>{return this.resolved[t]=!0,e})},requireSync(e){let t=this.resolve(e);return l(t)},resolve(){return 60752}});t.default=r},82985:function(e,t,l){l.r(t);var n=l(17888),r=l(42853),a=l(84917),i=l(74825),o=l(12501),u=l(18948),s=l(68929),d=l.n(s),c=l(67294);let m=({config:e,disabled:t,name:l,formik:s})=>{var m,p;let{label:f,margin:v,disabled:g,fullWidth:h,hiddenLabel:b,required:y,options:E=[],variant:Z,size:x,style:C,sx:S,sxFieldWrapper:P,description:O,autoComplete:$="off",placement:k,className:w}=e,[_,I,{setValue:F,setTouched:z}]=(0,u.U$)(null!=l?l:"DropdownField"),R=!!(I.error&&(I.touched||s.submitCount));if(!E.length)return null;let M=e=>{let{value:t}=e.target;F(t)},B=e=>{_.onBlur(e),z(!0)};return c.createElement(n.Z,{margin:null!=v?v:"normal",disabled:g,fullWidth:h,hiddenLabel:b,required:y,style:C,error:R,size:x,variant:Z,"data-testid":d()(`field ${l}`),sx:P},c.createElement(a.Z,null,f),c.createElement(o.Z,{onBlur:B,value:null!==(p=_.value)&&void 0!==p?p:"",displayEmpty:!0,label:f,defaultValue:null===(m=E[0])||void 0===m?void 0:m.value,disabled:g||t||s.isSubmitting,onChange:M,id:`select-${l}`,sx:S,className:w,MenuProps:"right"===k?{anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"}}:{},inputProps:{label:f,variant:Z,size:x,fullWidth:h,error:R||void 0,autoComplete:$,required:y},"data-testid":d()(`input ${l}`)},E.map((e,t)=>c.createElement(i.Z,{value:e.value,key:t},e.label))),O&&c.createElement(r.Z,{children:O}),(null==I?void 0:I.error)&&c.createElement(r.Z,null,null==I?void 0:I.error))};t.default=m},15457:function(e,t,l){l.r(t),l.d(t,{default:function(){return E}});var n=l(30120),r=l(44373),a=l(91647),i=l(18948),o=l(68929),u=l.n(o),s=l(67294),d=l(85597),c=l(16473),m=l(50130),p=l(86010),f=l(41609),v=l.n(f);function g({item:e,handleSelect:t,active:l,classes:n}){var r;let[a,i]=s.useState(!1),{usePageParams:o}=(0,d.OgA)(),{category_id:u,forum_id:f}=o(),h=null!=u?u:f,[b,y]=s.useState(!1);s.useEffect(()=>{var t;if((null==e?void 0:null===(t=e.subs)||void 0===t?void 0:t.length)>0&&e.subs.filter(e=>e.id.toString()===h).length>0){i(!0),y(!0);return}y(!1)},[h]);let E=s.useCallback(()=>{i(e=>!e)},[]);return s.createElement("div",{className:n.item},s.createElement("div",{className:(0,p.default)(!v()(e.subs)&&n.hasSubs,(l||b&&!a)&&n.itemActive)},s.createElement("div",{"data-testid":"itemCategory",onClick:()=>t(e.id,e.resource_name),className:n.link,color:"inherit","aria-selected":l,"aria-label":e.name},s.createElement("span",{className:n.span},e.name)),v()(e.subs)?null:s.createElement(m.Z,{size:"small",className:n.icon,onClick:E},s.createElement(c.zb,{icon:a?"ico-angle-up":"ico-angle-down"}))),a&&(null==e?void 0:null===(r=e.subs)||void 0===r?void 0:r.length)>0?s.createElement("ul",{className:n.subCategory},null==e?void 0:e.subs.map((e,l)=>s.createElement(g,{item:e,key:l.toString(),classes:n,handleSelect:()=>t(e.id,e.resource_name),active:e.id.toString()===h}))):null)}var h=l(22410),b=l(73327),y=(0,h.Z)(e=>(0,b.Z)({item:{"& $link":{height:e.spacing(7),padding:e.spacing(0,0,0,2),flex:1,minWidth:0,"&:hover":{backgroundColor:e.palette.action.selected,borderRadius:e.shape.borderRadius}}},hasSubs:{display:"flex",alignItems:"center"},link:{cursor:"pointer",fontSize:e.mixins.pxToRem(15),display:"flex",flexDirection:"row",alignItems:"center",color:"light"===e.palette.mode?e.palette.text.primary:e.palette.text.secondary,textDecoration:"none",position:"relative"},itemActive:{"& $link":{color:e.palette.primary.main,fontWeight:e.typography.fontWeightBold}},span:{},subCategory:{paddingLeft:e.spacing(0),margin:0,listStyle:"none","& span":{paddingLeft:e.spacing(2)}},icon:{position:"absolute",width:32,height:32,right:e.spacing(1),"& .ico":{fontSize:e.mixins.pxToRem(15)}}}));function E({config:{label:e,dataSource:t=[],defaultValue:l},name:o}){let d=y(),[c,,{setValue:m}]=(0,i.U$)(o),p=s.useCallback(e=>{m(e)},[]);return s.createElement("div",{"data-testid":u()(`field ${o}`)},s.createElement(n.Z,{sx:{pt:2,pb:2}},s.createElement(r.Z,null)),s.createElement(a.Z,{component:"h4",variant:"h4",color:"textPrimary",sx:{pb:1}},e),s.createElement("div",null,t.map(e=>s.createElement(g,{classes:d,item:e,handleSelect:p,key:e.id,active:e.id===c.value}))))}},74775:function(e,t,l){l.r(t),l.d(t,{default:function(){return O}});var n=l(85597),r=l(72405),a=l(30120),i=l(21822),o=l(81719),u=l(91647),s=l(27361),d=l.n(s),c=l(41609),m=l.n(c),p=l(18446),f=l.n(p),v=l(57557),g=l.n(v),h=l(67294);function b(){return(b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n])}return e}).apply(this,arguments)}let y=(0,o.ZP)("div",{name:"StyledItemView"})(({theme:e})=>{var t;return{display:"flex",alignItems:"baseline",width:"100%",justifyContent:"flex-start",borderBottom:"solid 1px",borderBottomColor:null===(t=e.palette.border)||void 0===t?void 0:t.secondary,padding:e.spacing(2.75,0),[e.breakpoints.down("sm")]:{display:"block"}}}),E=(0,o.ZP)("div",{name:"StyledItemView",slot:"StyledTitle"})(({theme:e})=>({width:190,minWidth:190,fontSize:e.typography.body1.fontSize,lineHeight:1.6,fontWeight:e.typography.fontWeightBold,color:e.palette.text.primary})),Z=(0,o.ZP)("div",{name:"StyledItemView",slot:"StyledContent"})(({theme:e})=>({padding:e.spacing(0,2),width:"100%",fontSize:e.typography.body1.fontSize,lineHeight:1.6,color:e.palette.text.primary})),x=(0,o.ZP)("div",{name:"StyledItemView",slot:"StyledContentInner",shouldForwardProp:e=>"editComponent"!==e})(({theme:e,editComponent:t})=>({display:"flex",flexDirection:"column","& button":{marginRight:e.spacing(1)},"& div:first-of-type":{marginTop:0,..."Location"!==t&&{marginBottom:0}},..."RadioGroup"===t&&{"& .MuiFormGroup-root > div":{marginBottom:e.spacing(1)}}})),C=(0,o.ZP)(a.Z)(({theme:e})=>({padding:e.spacing(1,0)})),S=(0,o.ZP)(a.Z)(({theme:e})=>({fontSize:e.typography.body2.fontSize})),P=(e,t,l,n,a,i)=>{var o,u;let{appName:s,id:d}=i;switch(e){case"input":default:return t;case"Select":return null===(o=l.find(e=>e.value===t))||void 0===o?void 0:o.label;case"TypeCategory":{let c;let{category_id:m}=n;for(let p of l){let f=p.categories.find(e=>e.id===m);if(f){c=f;break}}return null==c?void 0:c.name}case"textarea":return h.createElement(r.default,{html:t});case"editor":return h.createElement("div",{dangerouslySetInnerHTML:{__html:t}});case"RadioGroup":return h.createElement(h.Fragment,null,h.createElement("span",null,l[t].label),(null===(u=l[t])||void 0===u?void 0:u.description)&&h.createElement(S,null,l[t].description));case"Location":return null==t?void 0:t.address;case"Text":if(a)return`${a}${t||`${s}/${d}`}`;return t}};function O({handleSubmitField:e,onReset:t,config:l,...r}){let{i18n:o,jsxBackend:s,usePageParams:c}=(0,n.OgA)(),p=c(),[v,S]=(0,h.useState)(!1),{formik:O,name:$}=r,{required:k,reloadOnSubmit:w}=l,_=d()(null==O?void 0:O.values,$),I=()=>{S(!0)},F=()=>{if("string"==typeof _&&""===_.trim()&&k&&m()(O.errors)){O.setFieldValue($,_.trim());return}if("RadioGroup"===l.editComponent&&d()(null==O?void 0:O.initialValues,$)===Number.parseInt(_)){S(!1);return}m()(O.errors[$])&&(e&&e({[$]:_},{...O,callbackOnSuccess:()=>{S(!1),w&&t(),setImmediate(()=>O.resetForm({values:O.values}))}}),f()(O.initialValues,O.values)&&O.resetForm({values:O.values}))},z=()=>{S(!1);let e=d()(null==O?void 0:O.initialValues,$);O.setFieldValue($,e)};(0,h.useEffect)(()=>{d()(O.errors,$)&&S(!0)},[O.errors,$]);let{label:R,options:M,editComponent:B,contextualDescription:T,descriptionSingleInput:A}=l,L=s.get(`form.element.${B}`),j=P(B,_,M,(null==O?void 0:O.values)||(null==O?void 0:O.initialValues),T,p);return h.createElement(y,null,h.createElement(E,null,R),h.createElement(Z,null,v?h.createElement(x,{editComponent:B},L?h.createElement(h.Fragment,null,h.createElement(L,b({},r,{config:g()(l,["label","descriptionSingleInput"])})),A&&h.createElement(C,null,h.createElement(u.Z,{variant:"body2",color:"text.hint"},A))):null,h.createElement(a.Z,{sx:{mb:1,mt:3}},h.createElement(i.Z,{variant:"contained",onClick:F},o.formatMessage({id:"save"})),h.createElement(i.Z,{variant:"outlined",onClick:z},o.formatMessage({id:"cancel"})))):h.createElement("p",null,j)),!v&&h.createElement(i.Z,{variant:"text",onClick:I},o.formatMessage({id:"edit"})))}},63359:function(e,t,l){l.r(t);var n=l(85597),r=l(39348),a=l(17888),i=l(42853),o=l(22949),u=l(18948),s=l(68929),d=l.n(s),c=l(1469),m=l.n(c),p=l(67294);function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n])}return e}).apply(this,arguments)}let v={size:"small",variant:"outlined"},g=e=>{let t=e.filter(e=>e.trim().length>0);return t};t.default=function({config:e,name:t,disabled:l,formik:s}){let{variant:c="outlined",label:h,size:b="medium",margin:y="normal",disabled:E,placeholder:Z,description:x,required:C,fullWidth:S=!0,search_endpoint:P,disableSuggestion:O=!1}=e,[$,k,{setValue:w}]=(0,u.U$)(null!=t?t:"tags"),_=!!(k.error&&(k.touched||s.submitCount)),I=p.useRef(),F=p.useMemo(()=>{return $.value&&m()($.value)?$.value:[]},[]),z=(e,t)=>{e.preventDefault(),("blur"!==e.type||""!==I.current.value)&&w(g(t))},[R,M]=(0,n.fBB)({apiUrl:P});return p.createElement(a.Z,{variant:c,margin:y,fullWidth:S,size:b,"data-testid":d()(`field ${t}`)},p.createElement(r.Z,{multiple:!0,freeSolo:!0,autoSelect:!0,value:$.value,selectOnFocus:!1,filterSelectedOptions:!0,onBlur:$.onBlur,id:`tags-${t}`,options:O?[]:R.items,ChipProps:v,disabled:E||l||s.isSubmitting,onInputChange:(e,t)=>{O||M(t)},defaultValue:F,onChange:(e,t)=>z(e,t),renderInput:e=>p.createElement(o.Z,f({},e,{inputRef:I,required:C,label:h,placeholder:Z,inputProps:{...e.inputProps,"data-testid":d()(`input ${t}`)},error:_,helperText:k.error}))}),x?p.createElement(i.Z,null,x):null)}},53296:function(e,t,l){l.r(t);var n=l(22949),r=l(18948),a=l(68929),i=l.n(a),o=l(67294);let u=({config:e,disabled:t,required:l,name:a,formik:u})=>{let[s,d]=(0,r.U$)(null!=a?a:"TextField"),{label:c,disabled:m,labelProps:p,placeholder:f,variant:v,margin:g="normal",fullWidth:h,type:b="text",rows:y=5,description:E,autoFocus:Z,required:x,maxLength:C}=e;if(!s.value){var S;s.value=null!==(S=e.defaultValue)&&void 0!==S?S:""}let P=Boolean(d.error&&(d.touched||u.submitCount));return(0,o.createElement)(n.Z,{...s,required:x||l,multiline:!0,disabled:m||t||u.isSubmitting,variant:v,label:c,"data-testid":i()(`field ${a}`),autoFocus:Z,inputProps:{"data-testid":i()(`input ${a}`),maxLength:C},rows:y,InputLabelProps:p,placeholder:f,margin:g,error:!!P&&d.error,fullWidth:h,type:b,helperText:P?d.error:E})};t.default=u},72405:function(e,t,l){l.r(t),l.d(t,{default:function(){return f}});var n=l(67294),r=l(30653),a=l(85597),i=l(84116),o=l(27274),u=l(91647);let s=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){let l;let n=[],r=!0,a=!1;try{for(var i,o=e[Symbol.iterator]();!(r=(i=o.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(u){a=!0,l=u}finally{try{!r&&o.return&&o.return()}finally{if(a)throw l}}return n}(e,t);throw TypeError("Invalid attempt to destructure non-iterable instance")};function d(e){return e?e.split(";").reduce((e,t)=>{let l=t.split(/^([^:]+):/).filter((e,t)=>{return t>0}).map(e=>{return e.trim().toLowerCase()}),n=s(l,2),r=n[0],a=n[1];return void 0===a||(e[r=r.replace(/^-ms-/,"ms-").replace(/-(.)/g,(e,t)=>{return t.toUpperCase()})]=a),e},{}):{}}let c=RegExp("^(http|https)?:?\\/\\/","s"),m=(e,t)=>{let{style:l}=e.attribs||{};if("tag"===e.type){var r;let s=e.children.map((e,t)=>(0,i.MF)(e,t,m)),p=null===(r=e.name)||void 0===r?void 0:r.toLowerCase();if(["h1","h2","h3","h4","h5","h6"].includes(p))return(0,n.createElement)(u.Z,{variant:p,...e.attribs,style:d(l)},s)}if("tag"===e.type&&"a"===e.name&&e.attribs&&e.attribs.href){let f=(0,o.Bm)(e.attribs.href);if(f||c.test(e.attribs.href))return(0,n.createElement)(a.dLw,{to:void 0,...e.attribs,className:"external-link",style:d(l)},e.children.map((e,t)=>(0,i.MF)(e,t,m)));if(e.attribs.id){let v=e.attribs.id,g=e.attribs.href,h=e.attribs.type;return(0,n.createElement)(a.QVN,{...e.attribs,target:e.attribs.target?e.attribs.target:void 0,to:g||`/user/${v}`,key:`n${t}`,className:"profileLink",hoverCard:`/${h||"user"}/${v}`,style:d(l)},e.children.map((e,t)=>(0,i.MF)(e,t,m)))}}},p=({html:e,decodeEntities:t=!0,transform:l=m,component:a=n.Fragment,disableNl2br:i,preprocessNodes:o})=>{return n.createElement(a,null,e?(0,r.ZP)(i?e:`${e}`.replace(/([^>\r\n]?)(\r\n|\n\r|\r|\n)/g,"$1<p></p>$2"),{decodeEntities:t,transform:l,preprocessNodes:o}):null)};var f=p},44544:function(e,t,l){l.r(t);var n=l(85597),r=l(39348),a=l(30120),i=l(35705),o=l(17888),u=l(42853),s=l(22949),d=l(18948),c=l(68929),m=l.n(c),p=l(67294);function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n])}return e}).apply(this,arguments)}let v=({config:e,name:t,disabled:l,formik:c})=>{let{variant:v="outlined",label:g,size:h="medium",margin:b="normal",disabled:y,placeholder:E,required:Z,fullWidth:x=!0,search_endpoint:C,search_params:S}=e,{values:P}=(0,d.u6)(),{compactData:O}=(0,n.OgA)(),[$,k,{setValue:w,setTouched:_}]=(0,d.U$)(t||"autoComplete"),[I,F]=p.useState(null),z=!!(k.error&&(k.touched||c.submitCount)),R=p.useMemo(()=>{return O(S,P)},[S,P]),[M,B]=(0,n.fBB)({apiUrl:C,initialParams:R});return p.useEffect(()=>{if(!$.value){F(null);return}if("object"!=typeof $.value||Array.isArray($.value)||F($.value),M.items.length){let e=M.items.filter(e=>e.value==$.value)[0];F(e)}},[$.value,M.items]),p.createElement(o.Z,{variant:v,margin:b,fullWidth:x,required:Z,size:h,"data-testid":m()(`field ${t}`),error:z},p.createElement(r.Z,{autoHighlight:!0,openOnFocus:!0,onBlur:$.onBlur,onInputChange:(e,t)=>{B(t)},onChange:(e,t)=>{w(t||null),F(t),_(!0)},disabled:y||l||c.isSubmitting,value:I||$.value,placeholder:E,getOptionLabel:e=>e.label,options:M.items,loading:M.loading,loadingText:p.createElement(a.Z,{sx:{display:"flex",justifyContent:"center"}},p.createElement(i.Z,null)),renderInput:e=>p.createElement(s.Z,f({onClick:()=>{B("")},onFocus:()=>{B("")}},e,{label:g,"data-testid":m()(`field ${t}`),error:z,InputProps:{...e.InputProps}}))}),z&&p.createElement(u.Z,null,null==k?void 0:k.error))};t.default=v},47145:function(e,t,l){l.r(t);var n=l(85597),r=l(39348),a=l(30120),i=l(35705),o=l(17888),u=l(42853),s=l(22949),d=l(18948),c=l(68929),m=l.n(c),p=l(27361),f=l.n(p),v=l(57557),g=l.n(v),h=l(13218),b=l.n(h),y=l(67294);function E(){return(E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n])}return e}).apply(this,arguments)}let Z=({config:e,name:t,disabled:l,formik:c})=>{let{variant:p="outlined",label:v,size:h="medium",margin:Z="normal",disabled:x,placeholder:C,required:S,fullWidth:P=!0,search_endpoint:O,search_params:$}=e,{values:k}=(0,d.u6)(),{compactData:w}=(0,n.OgA)(),[_,I,{setValue:F,setTouched:z}]=(0,d.U$)(t||"autoComplete"),R=y.useRef(!1),M=!!(I.error&&(I.touched||c.submitCount)),B=y.useMemo(()=>{let e=b()(k)?k:{};return w($,g()(e,["q"]))},[$,k]),[T,A]=(0,n.fBB)({apiUrl:O,initialParams:B}),L=y.useCallback((e,t)=>{return y.createElement(a.Z,E({component:"li"},e,{key:`${null==t?void 0:t.value}${null==t?void 0:t.label}`}),t.label)},[]);y.useEffect(()=>{A("")},[B]);let j=(e,t)=>{return f()(e,"value")==f()(t,"value")},U=(null==T?void 0:T.loading)&&_.value,W=!_.value||(null==T?void 0:T.loading)?"":T.items.find(e=>e.value==_.value);return y.useEffect(()=>{(null==T?void 0:T.loading)||null==_||!_.value||W||F("")},[null==T?void 0:T.loading,null==_?void 0:_.value,W]),y.createElement(o.Z,{variant:p,margin:Z,fullWidth:P,required:S,size:h,"data-testid":m()(`field ${t}`),error:M},y.createElement(r.Z,{autoHighlight:!0,openOnFocus:!0,onBlur:_.onBlur,onChange:(e,t)=>{R.current=!0,F(null==t?void 0:t.value),z(!0)},renderOption:L,disabled:x||l||c.isSubmitting||U,value:W||"",placeholder:C,getOptionLabel:e=>e.label||"",isOptionEqualToValue:j,options:T.items,loading:T.loading,loadingText:y.createElement(a.Z,{sx:{display:"flex",justifyContent:"center"}},y.createElement(i.Z,null)),renderInput:e=>y.createElement(s.Z,E({},e,{label:v,"data-testid":m()(`field ${t}`),error:M,InputProps:{...e.InputProps,endAdornment:y.createElement(y.Fragment,null,U?y.createElement(i.Z,{color:"inherit",size:20}):null,e.InputProps.endAdornment)}}))}),M&&y.createElement(u.Z,null,null==I?void 0:I.error))};t.default=Z}}]);