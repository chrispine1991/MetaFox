"use strict";(self.webpackChunk_metafox_react=self.webpackChunk_metafox_react||[]).push([["metafox-forum-blocks-ForumSlider-Block"],{28078:function(e,t,n){n.r(t),n.d(t,{default:function(){return b}});var i=n(85597),r=n(21241),a=n(16473),l=n(50130),o=n(81719),s=n(30120),c=n(67294),u=n(72770);n(16651),n(91259);var d=n(96026),m=n.n(d),f=n(27361),g=n.n(f);function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}let h="ForumItemMainCard",k=(0,o.ZP)(s.Z,{name:h,slot:"navSliderWrapperStyled"})(({theme:e})=>({display:"inline-flex",alignItems:"center"})),v=(0,o.ZP)(u.Z,{name:h,slot:"forumSliderStyled"})(({theme:e})=>({"& .slick-list":{margin:e.spacing(0,-1),"& .slick-slide":{padding:e.spacing(0,1)},"& .slick-track":{marginLeft:0,marginRight:0}},"& .slick-arrow":{display:"none !important"}}));function S({title:e,themeId:t,itemView:n}){let{jsxBackend:o,useFetchItems:s,getAcl:u,i18n:d}=(0,i.OgA)(),[f,h]=c.useState(!1),[S,b]=c.useState("start"),w=c.useRef(null),E=u(),y=g()(E,"forum.forum.view"),[C,T]=s({dataSource:{apiParams:"view=quick_navigation",apiUrl:"/forum"},normalize:!0,data:[],cache:!0}),Z=o.get(n),x=o.get(`${n}.skeleton`);c.useEffect(()=>{if(w&&w.current){var e,t;let n=w.current,i=null===(e=n.state)||void 0===e?void 0:e.breakpoint,r=n.props,a=null===(t=r.responsive.find(e=>e.breakpoint===i))||void 0===t?void 0:t.settings,l={...n.props,...a},o=l.slidesToShow;h(C.length>o)}},[C.length]);let z=(e,t)=>{let n="";switch(e){case 0:n="start";break;case C.length-t:n="end"}b(n)},O={dots:!1,infinite:!1,speed:500,slidesToShow:4,slidesToScroll:1,useTransform:!1,adaptiveHeight:!0,accessibility:!1,afterChange:e=>{z(e,4)},responsive:[{breakpoint:375,settings:{infinite:1<C.length,slidesToShow:1,afterChange:e=>{z(e,1)}}},{breakpoint:1024,settings:{infinite:2<C.length,slidesToShow:2,afterChange:e=>{z(e,2)}}},{breakpoint:1199,settings:{infinite:3<C.length,slidesToShow:3,afterChange:e=>{z(e,3)}}}]},P=()=>{w.current.slickNext()},_=()=>{w.current.slickPrev()};return y?c.createElement(r.gO,null,c.createElement(r.ti,null,c.createElement(r.bi,null,d.formatMessage({id:e})),f&&c.createElement(k,null,c.createElement(l.Z,{disabled:"start"===S,size:"small",color:"default",onClick:_},c.createElement(a.zb,{icon:"ico-angle-left"})),c.createElement(l.Z,{disabled:"end"===S,size:"small",color:"default",onClick:P},c.createElement(a.zb,{icon:"ico-angle-right"})))),c.createElement(r.sU,null,c.createElement(v,p({ref:e=>w.current=e},O),T&&x?m()(0,4).map(e=>c.createElement(x,null)):null,C&&C.map(e=>{var t;return c.createElement(Z,{identity:`forum.entities.forum.${e.id}`,key:null===(t=e.id)||void 0===t?void 0:t.toString()})})))):null}S.displayName="ForumSliderBlock";var b=(0,i.j4Z)({extendBlock:S,name:"forums",defaults:{gridLayout:"Forum - Slider",itemView:"forum.itemView.mainCard",dataSource:{apiUrl:"/forum"}}})}}]);