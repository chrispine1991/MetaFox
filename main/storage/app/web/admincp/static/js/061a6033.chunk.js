"use strict";(self.webpackChunk_metafox_react=self.webpackChunk_metafox_react||[]).push([["metafox-poll-components-StatusComposerControlAttachedPoll"],{76337:function(e,t,n){n.r(t),n.d(t,{default:function(){return b}});var l=n(85597),a=n(16473),o=n(30120),i=n(21822),r=n(91647),s=n(81719),m=n(27361),c=n.n(m),p=n(30381),d=n.n(p),u=n(67294);let g=(0,s.ZP)(o.Z,{name:"StatusPoll",slot:"Root"})(({theme:e})=>({borderRadius:e.spacing(1),border:e.mixins.border("secondary"),padding:e.spacing(3),margin:e.spacing(1.5,2)})),f=(0,s.ZP)(o.Z,{name:"StatusPoll",slot:"Answer"})(({theme:e})=>({borderRadius:4,border:e.mixins.border("secondary"),fontSize:e.mixins.pxToRem(15),height:e.spacing(6),display:"flex",alignItems:"center",marginBottom:e.spacing(2),color:e.palette.text.hint,padding:e.spacing(0,2)})),h=(0,s.ZP)(o.Z,{name:"AttachmentItem",slot:"FormItem"})(({theme:e})=>({display:"flex",margin:e.spacing(1,0),fontSize:e.mixins.pxToRem(13),lineHeight:1.5,"& .info":{display:"flex"}})),x=(0,s.ZP)(a.zb,{name:"AttachmentIcon"})(({theme:e})=>({paddingRight:e.spacing(.5),fontSize:e.mixins.pxToRem(15)}));function b({composerRef:e}){var t;let n=c()(e.current.state,"attachments.poll.value"),{i18n:o,dialogBackend:s}=(0,l.OgA)();if(!n)return null;let m=()=>{e.current.removeAttachments()},p=()=>{s.present({component:"poll.dialog.AddPollToStatusComposerDialog",props:{initialValues:n}}).then(t=>{t&&e.current.setAttachments("poll","poll",{value:t,as:"StatusComposerControlAttachedPoll"})})};return u.createElement(g,null,u.createElement(a.Ys,{showFull:!0,variant:"h4",fontSize:18,sx:{mb:2}},n.poll_question),u.createElement("div",null,null===(t=n.poll_answers)||void 0===t?void 0:t.map((e,t)=>{return e.answer?u.createElement(f,{key:t.toString()},e.answer):null})),n.poll_attachments&&n.poll_attachments.map((e,t)=>{return u.createElement(h,{key:t},u.createElement("div",{className:"info"},u.createElement(x,{icon:"ico-paperclip-alt"}),u.createElement("div",null,e.file_name)))}),u.createElement(a.ui,{sx:{pb:3,pt:1}},u.createElement(i.Z,{variant:"outlined",size:"smaller",sx:{fontWeight:"bold"},onClick:p},o.formatMessage({id:"edit"})),u.createElement(i.Z,{variant:"outlined",size:"smaller",sx:{fontWeight:"bold"},onClick:m},o.formatMessage({id:"remove"}))),n.poll_close_time&&n.enable_close?u.createElement(r.Z,{variant:"body2",color:"text.hint",fontWeight:"bold"},o.formatMessage({id:"expire_on"})," ",d()(n.poll_close_time).format("LLL")):null)}}}]);