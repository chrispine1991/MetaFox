"use strict";(self.webpackChunk_metafox_react=self.webpackChunk_metafox_react||[]).push([["metafox-user-blocks-AccountSettings-Block"],{68648:function(e,t,a){a.r(t),a.d(t,{default:function(){return A}});var n=a(85597),i=a(86706),l=a(21241),c=a(58314),d=a(67294),r=a(84635),m=a(21822),o=a(71682),s=a(30120);function u(){return d.createElement(s.Z,{"data-testid":"loadingIndicator"},d.createElement(o.Z,{animation:"wave",height:50,width:"50%"}),d.createElement(s.Z,{sx:{display:"flex",width:"150px",justifyContent:"space-between"}},d.createElement(o.Z,{height:50,width:"70px"}),d.createElement(o.Z,{height:50,width:"70px"})))}var E=a(22410),v=a(73327),g=(0,E.Z)(e=>{var t;return(0,v.Z)({root:{},item:{display:"flex",alignItems:"center",padding:"22px 0",justifyContent:"space-between",borderBottom:"solid 1px",borderBottomColor:null===(t=e.palette.border)||void 0===t?void 0:t.secondary,"&:first-of-type":{paddingTop:6},"&:last-child":{paddingBottom:6,borderBottom:"none"}},itemTitle:{width:210,fontSize:e.typography.body1.fontSize,lineHeight:1.6,fontWeight:e.typography.fontWeightBold,color:e.palette.text.primary},itemContentInner:{display:"flex",flexDirection:"column",[e.breakpoints.down("sm")]:{paddingTop:e.spacing(1)}},itemContent:{fontSize:e.typography.body1.fontSize,lineHeight:1.6,color:e.palette.text.primary,flex:1,"& .MuiFormControl-root":{padding:e.spacing(.5,0)}},itemButton:{display:"flex",justifyContent:"flex-end",width:200},btnEdit:{textTransform:"none",fontWeight:e.typography.fontWeightBold},inputEdit:{width:300,"& + $inputEdit":{marginTop:e.spacing(2)}},selectEdit:{width:300,height:40},itemText:{display:"flex",flex:1,[e.breakpoints.down("sm")]:{flexDirection:"column"}}})},{name:"AccountSetting"});function p({loaded:e,title:t,data:a}){let i=g(),{i18n:l}=(0,n.OgA)(),[s,E]=(0,d.useState)(!1);return d.createElement("div",{className:i.item,"data-testid":"editEmail"},d.createElement("div",{className:i.itemText},d.createElement("div",{className:i.itemTitle},t),d.createElement("div",{className:i.itemContent},s?d.createElement(r.dq,{successAction:c.Ov,dataSource:{apiUrl:"/user/account/email-form"},loadingComponent:u,onSuccess:()=>E(!1),onCancel:()=>E(!1)}):d.createElement("div",null,e?null==a?void 0:a.email:d.createElement(o.Z,{variant:"text",width:100})))),d.createElement("div",{className:i.itemButton},!s&&d.createElement(m.Z,{"data-testid":"buttonEdit",disabled:!e,className:i.btnEdit,size:"medium",variant:"outlined",color:"primary",onClick:()=>E(!0)},l.formatMessage({id:"edit"}))))}function f({title:e,data:t,loaded:a}){let i=g(),{i18n:l}=(0,n.OgA)(),[s,E]=(0,d.useState)(!1);return d.createElement("div",{className:i.item,"data-testid":"editName"},d.createElement("div",{className:i.itemText},d.createElement("div",{className:i.itemTitle},e),d.createElement("div",{className:i.itemContent},s?d.createElement(r.dq,{successAction:c.Ov,dataSource:{apiUrl:"/user/account/name-form"},onCancel:()=>E(!1),onSuccess:()=>E(!1),loadingComponent:u}):d.createElement("div",null,a?null==t?void 0:t.full_name:d.createElement(o.Z,{variant:"text",width:100})))),d.createElement("div",{className:i.itemButton},!s&&d.createElement(m.Z,{"data-testid":"buttonEdit",disabled:!a,className:i.btnEdit,size:"medium",variant:"outlined",color:"primary",onClick:()=>E(!0)},l.formatMessage({id:"edit"}))))}function N({title:e,loaded:t}){let a=g(),{i18n:i}=(0,n.OgA)(),[l,s]=(0,d.useState)(!1);return d.createElement("div",{className:a.item,"data-testid":"editPassword"},d.createElement("div",{className:a.itemText},d.createElement("div",{className:a.itemTitle},e),d.createElement("div",{className:a.itemContent},l?d.createElement(r.dq,{successAction:c.Ov,dataSource:{apiUrl:"/user/account/password-form"},loadingComponent:u,onSuccess:()=>s(!1),onCancel:()=>s(!1)}):d.createElement("div",null,t?"**************":d.createElement(o.Z,{variant:"text",width:100})))),d.createElement("div",{className:a.itemButton},!l&&d.createElement(m.Z,{"data-testid":"buttonEdit",disabled:!t,className:a.btnEdit,size:"medium",variant:"outlined",color:"primary",onClick:()=>s(!0)},i.formatMessage({id:"edit"}))))}function h({loaded:e,title:t,data:a}){let i=g(),{i18n:l}=(0,n.OgA)(),[s,E]=(0,d.useState)(!1);return d.createElement("div",{className:i.item,"data-testid":"editCurrency"},d.createElement("div",{className:i.itemText},d.createElement("div",{className:i.itemTitle},t),d.createElement("div",{className:i.itemContent},s?d.createElement(r.dq,{successAction:c.Ov,dataSource:{apiUrl:"/user/account/currency-form"},loadingComponent:u,onSuccess:()=>E(!1),onCancel:()=>E(!1)}):d.createElement("div",null,e?null==a?void 0:a.currency_name:d.createElement(o.Z,{variant:"text",width:100})))),d.createElement("div",{className:i.itemButton},!s&&d.createElement(m.Z,{"data-testid":"buttonEdit",disabled:!e,className:i.btnEdit,size:"medium",variant:"outlined",color:"primary",onClick:()=>E(!0)},l.formatMessage({id:"edit"}))))}function b({loaded:e,title:t,data:a}){let i=g(),{i18n:l}=(0,n.OgA)(),[s,E]=(0,d.useState)(!1);return d.createElement("div",{className:i.item,"data-testid":"editLanguage"},d.createElement("div",{className:i.itemText},d.createElement("div",{className:i.itemTitle},t),d.createElement("div",{className:i.itemContent},s?d.createElement(r.dq,{successAction:c.Ov,dataSource:{apiUrl:"/user/account/language-form"},loadingComponent:u,onSuccess:()=>E(!1),onCancel:()=>E(!1)}):d.createElement("div",null,e?null==a?void 0:a.language_name:d.createElement(o.Z,{variant:"text",width:100})))),d.createElement("div",{className:i.itemButton},!s&&d.createElement(m.Z,{"data-testid":"buttonEdit",disabled:!e,className:i.btnEdit,size:"medium",variant:"outlined",color:"primary",onClick:()=>E(!0)},l.formatMessage({id:"edit"}))))}function x({title:e,data:t,loaded:a}){let i=g(),{i18n:l}=(0,n.OgA)(),[s,E]=(0,d.useState)(!1);return d.createElement("div",{className:i.item,"data-testid":"editUsername"},d.createElement("div",{className:i.itemText},d.createElement("div",{className:i.itemTitle},e),d.createElement("div",{className:i.itemContent},s?d.createElement(r.dq,{successAction:c.Ov,dataSource:{apiUrl:"/user/account/username-form"},loadingComponent:u,onSuccess:()=>E(!1),onCancel:()=>E(!1)}):d.createElement("div",null,a?t.user_name:d.createElement(o.Z,{variant:"text",width:100})))),d.createElement("div",{className:i.itemButton},!s&&d.createElement(m.Z,{"data-testid":"buttonEdit",disabled:!a,className:i.btnEdit,size:"medium",variant:"outlined",color:"primary",onClick:()=>E(!0)},l.formatMessage({id:"edit"}))))}function C({loaded:e,title:t,data:a}){let i=g(),{i18n:l}=(0,n.OgA)(),{extra:c}=a||{};return(null==c?void 0:c.can_delete_account)||!e?d.createElement("div",{className:i.item,"data-testid":"cancelAccount"},e?d.createElement(n.rUS,{to:"/user/remove/",color:"error.main"},l.formatMessage({id:"cancel_account"})):d.createElement(o.Z,{variant:"text",width:100})):null}var y=a(90738);function S({loaded:e,title:t,data:a}){let i=g(),{i18n:l}=(0,n.OgA)(),s=(0,n.oHF)(y.OH,y.OH,"getPhoneNumberSettingForm"),[E,v]=(0,d.useState)(!1);return d.createElement("div",{className:i.item,"data-testid":"editEmail"},d.createElement("div",{className:i.itemText},d.createElement("div",{className:i.itemTitle},t),d.createElement("div",{className:i.itemContent},E?d.createElement(r.dq,{successAction:c.Ov,dataSource:s,loadingComponent:u,onSuccess:()=>v(!1),onCancel:()=>v(!1)}):d.createElement("div",null,e?null==a?void 0:a.phone_number:d.createElement(o.Z,{variant:"text",width:100})))),d.createElement("div",{className:i.itemButton},!E&&d.createElement(m.Z,{"data-testid":"buttonEdit",disabled:!e,className:i.btnEdit,size:"medium",variant:"outlined",color:"primary",onClick:()=>v(!0)},l.formatMessage({id:"edit"}))))}let w=({data:e,loaded:t,title:a})=>{let i=g(),{i18n:r,dispatch:m}=(0,n.OgA)();return(0,d.useEffect)(()=>{m({type:c.KH})},[]),d.createElement(l.gO,{testid:"accountSettings"},d.createElement(l.ti,{title:a}),d.createElement(l.sU,null,d.createElement("div",{className:i.root},d.createElement(f,{loaded:t,title:r.formatMessage({id:"full_name"}),data:e}),d.createElement(x,{loaded:t,title:r.formatMessage({id:"username"}),data:e}),d.createElement(p,{loaded:t,title:r.formatMessage({id:"email_address"}),data:e}),d.createElement(S,{loaded:t,title:r.formatMessage({id:"phone_number"}),data:e}),d.createElement(N,{loaded:t,title:r.formatMessage({id:"password"}),data:e}),d.createElement(b,{loaded:t,title:r.formatMessage({id:"primary_language"}),data:e}),d.createElement(h,{loaded:t,title:r.formatMessage({id:"preferred_currency"}),data:e}),d.createElement(C,{loaded:t,data:e}))))},Z=(0,i.$j)(e=>e.user.accountSettings)(w);var A=(0,n.j4Z)({extendBlock:Z,defaults:{title:"account_settings",blockLayout:"Account Setting"}})}}]);