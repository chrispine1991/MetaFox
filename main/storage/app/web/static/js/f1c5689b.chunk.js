(self.webpackChunk_metafox_react=self.webpackChunk_metafox_react||[]).push([["formElement"],{60888:function(e,t,n){"use strict";var i=n(64836);t.Z=void 0;var l=i(n(64938)),r=n(85893),a=(0,l.default)((0,r.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckCircle");t.Z=a},59462:function(e,t,n){"use strict";var i=n(64836);t.Z=void 0;var l=i(n(64938)),r=n(85893),a=(0,l.default)((0,r.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"RadioButtonUnchecked");t.Z=a},64938:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i.createSvgIcon}});var i=n(81064)},68354:function(e,t,n){"use strict";n.d(t,{Z:function(){return _}});var i=n(63366),l=n(87462),r=n(67294),a=n(86010),o=n(12666),s=n(94780),u=n(81719),d=n(78884),c=n(53204),m=n(53566),p=n(62097),f=n(84771),v=n(1588),g=n(34867);function h(e){return(0,g.Z)("MuiCollapse",e)}(0,v.Z)("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"]);var b=n(85893);let y=["addEndListener","children","className","collapsedSize","component","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","orientation","style","timeout","TransitionComponent"],E=e=>{let{orientation:t,classes:n}=e,i={root:["root",`${t}`],entered:["entered"],hidden:["hidden"],wrapper:["wrapper",`${t}`],wrapperInner:["wrapperInner",`${t}`]};return(0,s.Z)(i,h,n)},x=(0,u.ZP)("div",{name:"MuiCollapse",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e;return[t.root,t[n.orientation],"entered"===n.state&&t.entered,"exited"===n.state&&!n.in&&"0px"===n.collapsedSize&&t.hidden]}})(({theme:e,ownerState:t})=>(0,l.Z)({height:0,overflow:"hidden",transition:e.transitions.create("height")},"horizontal"===t.orientation&&{height:"auto",width:0,transition:e.transitions.create("width")},"entered"===t.state&&(0,l.Z)({height:"auto",overflow:"visible"},"horizontal"===t.orientation&&{width:"auto"}),"exited"===t.state&&!t.in&&"0px"===t.collapsedSize&&{visibility:"hidden"})),Z=(0,u.ZP)("div",{name:"MuiCollapse",slot:"Wrapper",overridesResolver:(e,t)=>t.wrapper})(({ownerState:e})=>(0,l.Z)({display:"flex",width:"100%"},"horizontal"===e.orientation&&{width:"auto",height:"100%"})),C=(0,u.ZP)("div",{name:"MuiCollapse",slot:"WrapperInner",overridesResolver:(e,t)=>t.wrapperInner})(({ownerState:e})=>(0,l.Z)({width:"100%"},"horizontal"===e.orientation&&{width:"auto",height:"100%"})),w=r.forwardRef(function(e,t){let n=(0,d.Z)({props:e,name:"MuiCollapse"}),{addEndListener:s,children:u,className:v,collapsedSize:g="0px",component:h,easing:w,in:_,onEnter:k,onEntered:S,onEntering:z,onExit:P,onExited:I,onExiting:A,orientation:R="vertical",style:M,timeout:$=c.x9.standard,TransitionComponent:T=o.ZP}=n,O=(0,i.Z)(n,y),W=(0,l.Z)({},n,{orientation:R,collapsedSize:g}),F=E(W),N=(0,p.Z)(),B=r.useRef(),L=r.useRef(null),j=r.useRef(),q="number"==typeof g?`${g}px`:g,D="horizontal"===R,U=D?"width":"height";r.useEffect(()=>{return()=>{clearTimeout(B.current)}},[]);let V=r.useRef(null),H=(0,f.Z)(t,V),Q=e=>t=>{if(e){let n=V.current;void 0===t?e(n):e(n,t)}},G=()=>L.current?L.current[D?"clientWidth":"clientHeight"]:0,K=Q((e,t)=>{L.current&&D&&(L.current.style.position="absolute"),e.style[U]=q,k&&k(e,t)}),X=Q((e,t)=>{let n=G();L.current&&D&&(L.current.style.position="");let{duration:i,easing:l}=(0,m.C)({style:M,timeout:$,easing:w},{mode:"enter"});if("auto"===$){let r=N.transitions.getAutoHeightDuration(n);e.style.transitionDuration=`${r}ms`,j.current=r}else e.style.transitionDuration="string"==typeof i?i:`${i}ms`;e.style[U]=`${n}px`,e.style.transitionTimingFunction=l,z&&z(e,t)}),Y=Q((e,t)=>{e.style[U]="auto",S&&S(e,t)}),J=Q(e=>{e.style[U]=`${G()}px`,P&&P(e)}),ee=Q(I),et=Q(e=>{let t=G(),{duration:n,easing:i}=(0,m.C)({style:M,timeout:$,easing:w},{mode:"exit"});if("auto"===$){let l=N.transitions.getAutoHeightDuration(t);e.style.transitionDuration=`${l}ms`,j.current=l}else e.style.transitionDuration="string"==typeof n?n:`${n}ms`;e.style[U]=q,e.style.transitionTimingFunction=i,A&&A(e)}),en=e=>{"auto"===$&&(B.current=setTimeout(e,j.current||0)),s&&s(V.current,e)};return(0,b.jsx)(T,(0,l.Z)({in:_,onEnter:K,onEntered:Y,onEntering:X,onExit:J,onExited:ee,onExiting:et,addEndListener:en,nodeRef:V,timeout:"auto"===$?null:$},O,{children:(e,t)=>(0,b.jsx)(x,(0,l.Z)({as:h,className:(0,a.default)(F.root,v,{entered:F.entered,exited:!_&&"0px"===q&&F.hidden}[e]),style:(0,l.Z)({[D?"minWidth":"minHeight"]:q},M),ownerState:(0,l.Z)({},W,{state:e}),ref:H},t,{children:(0,b.jsx)(Z,{ownerState:(0,l.Z)({},W,{state:e}),className:F.wrapper,ref:L,children:(0,b.jsx)(C,{ownerState:(0,l.Z)({},W,{state:e}),className:F.wrapperInner,children:u})})}))}))});w.muiSupportAuto=!0;var _=w},19316:function(e,t,n){"use strict";n.d(t,{Z:function(){return _}});var i,l=n(63366),r=n(87462),a=n(67294),o=n(86010),s=n(94780),u=n(36622),d=n(91647),c=n(82586),m=n(59711),p=n(81719),f=n(1588),v=n(34867);function g(e){return(0,v.Z)("MuiInputAdornment",e)}let h=(0,f.Z)("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]);var b=n(78884),y=n(85893);let E=["children","className","component","disablePointerEvents","disableTypography","position","variant"],x=(e,t)=>{let{ownerState:n}=e;return[t.root,t[`position${(0,u.Z)(n.position)}`],!0===n.disablePointerEvents&&t.disablePointerEvents,t[n.variant]]},Z=e=>{let{classes:t,disablePointerEvents:n,hiddenLabel:i,position:l,size:r,variant:a}=e,o={root:["root",n&&"disablePointerEvents",l&&`position${(0,u.Z)(l)}`,a,i&&"hiddenLabel",r&&`size${(0,u.Z)(r)}`]};return(0,s.Z)(o,g,t)},C=(0,p.ZP)("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:x})(({theme:e,ownerState:t})=>(0,r.Z)({display:"flex",height:"0.01em",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(e.vars||e).palette.action.active},"filled"===t.variant&&{[`&.${h.positionStart}&:not(.${h.hiddenLabel})`]:{marginTop:16}},"start"===t.position&&{marginRight:8},"end"===t.position&&{marginLeft:8},!0===t.disablePointerEvents&&{pointerEvents:"none"})),w=a.forwardRef(function(e,t){let n=(0,b.Z)({props:e,name:"MuiInputAdornment"}),{children:s,className:u,component:p="div",disablePointerEvents:f=!1,disableTypography:v=!1,position:g,variant:h}=n,x=(0,l.Z)(n,E),w=(0,m.Z)()||{},_=h;h&&w.variant,w&&!_&&(_=w.variant);let k=(0,r.Z)({},n,{hiddenLabel:w.hiddenLabel,size:w.size,disablePointerEvents:f,position:g,variant:_}),S=Z(k);return(0,y.jsx)(c.Z.Provider,{value:null,children:(0,y.jsx)(C,(0,r.Z)({as:p,ownerState:k,className:(0,o.default)(S.root,u),ref:t},x,{children:"string"!=typeof s||v?(0,y.jsxs)(a.Fragment,{children:["start"===g?i||(i=(0,y.jsx)("span",{className:"notranslate",children:"â€‹"})):null,s]}):(0,y.jsx)(d.Z,{color:"text.secondary",children:s})}))})});var _=w},81064:function(e,t,n){"use strict";n.r(t),n.d(t,{capitalize:function(){return l.Z},createChainedFunction:function(){return r.Z},createSvgIcon:function(){return a.Z},debounce:function(){return o.Z},deprecatedPropType:function(){return s},isMuiElement:function(){return u.Z},ownerDocument:function(){return d.Z},ownerWindow:function(){return c.Z},requirePropFactory:function(){return m},setRef:function(){return p},unstable_ClassNameGenerator:function(){return x},unstable_useEnhancedEffect:function(){return f.Z},unstable_useId:function(){return v.Z},unsupportedProp:function(){return g},useControlled:function(){return h.Z},useEventCallback:function(){return b.Z},useForkRef:function(){return y.Z},useIsFocusVisible:function(){return E.Z}});var i=n(37078),l=n(36622),r=n(46207),a=n(54235),o=n(75400),s=n(67421).Z,u=n(70061),d=n(47505),c=n(57577),m=n(18986).Z,p=n(7960).Z,f=n(63289),v=n(49669),g=n(40444).Z,h=n(42293),b=n(26432),y=n(84771),E=n(40011);let x={configure:e=>{console.warn("MUI: `ClassNameGenerator` import from `@mui/material/utils` is outdated and might cause unexpected issues.\n\nYou should use `import { unstable_ClassNameGenerator } from '@mui/material/className'` instead\n\nThe detail of the issue: https://github.com/mui/material-ui/issues/30011#issuecomment-1024993401\n\nThe updated documentation: https://mui.com/guides/classname-generator/"),i.Z.configure(e)}}},35161:function(e,t,n){var i=n(29932),l=n(67206),r=n(69199),a=n(1469);e.exports=function(e,t){return(a(e)?i:r)(e,l(t,3))}},94885:function(e){e.exports=function(e){if("function"!=typeof e)throw TypeError("Expected a function");return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}},14176:function(e,t,n){var i=n(67206),l=n(94885),r=n(35937);e.exports=function(e,t){return r(e,l(i(t)))}},82454:function(e,t,n){"use strict";n.r(t);var i=n(17888),l=n(22949),r=n(30120),a=n(35705),o=n(50130),s=n(62097),u=n(81719),d=n(18948),c=n(68929),m=n.n(c),p=n(41609),f=n.n(p),v=n(67294),g=n(90798),h=n(85597),b=n(77029);function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}let E=(0,u.ZP)(r.Z,{name:"CaptchaContent"})(({theme:e})=>({"& img":{maxWidth:"100%"}})),x=({config:e,disabled:t,required:n,name:u,formik:c})=>{let{margin:p,fullWidth:x,disabled:Z,img:C,key:w,required:_=!0,label:k,placeholder:S,actionName:z,autoFocus:P}=e,[I,A]=(0,d.U$)(null!=u?u:"image_captcha"),{apiClient:R,compactData:M}=(0,h.OgA)(),[$,T]=v.useState(!1),[O,W]=v.useState(C),F=v.useRef(!1),N=(0,s.Z)(),[B,L]=v.useState(w),j=(0,h.oHF)("captcha","image_captcha","refreshCaptcha"),q=()=>{!$&&j&&(T(!0),R.request({method:j.apiMethod||"POST",url:j.apiUrl,data:M(j.apiParams,{action_name:z})}).then(e=>e.data.data).then(e=>{e&&(L(null==e?void 0:e.key),W(null==e?void 0:e.img))}).finally(()=>{T(!1)}))},D=Boolean(A.error&&(A.touched||c.submitCount));return(v.useEffect(()=>{(null==c?void 0:c.isSubmitting)&&(null==c?void 0:c.isValid)&&(F.current=!0)},[null==c?void 0:c.isSubmitting,null==c?void 0:c.isValid]),v.useEffect(()=>{(null==c?void 0:c.isSubmitting)||!F.current||f()(null==c?void 0:c.errors)||(F.current=!1,q())},[F.current,null==c?void 0:c.isSubmitting,null==c?void 0:c.errors]),v.useEffect(()=>{((null==A?void 0:A.touched)||P)&&B&&c.setFieldValue("image_captcha_key",B,!1)},[null==A?void 0:A.touched,B,P]),v.useEffect(()=>{B||q()},[]),Z||t)?null:v.createElement(i.Z,{margin:p,fullWidth:x,"data-testid":m()(`field ${u}`)},v.createElement(r.Z,{sx:{display:"flex"}},v.createElement(r.Z,{sx:{display:"flex",alignItems:"center"}},v.createElement(l.Z,y({},I,{error:D,required:_||n,inputProps:{"data-testid":m()(`input ${u}`)},label:k,placeholder:S,autoFocus:P})),v.createElement(E,{ml:1,sx:{flex:1,minWidth:0,position:"relative",display:"flex"}},$?v.createElement(r.Z,{sx:{display:"flex",justifyContent:"center",alignItems:"center",position:"absolute",left:0,top:0,right:0,bottom:0,background:"dark"===N.palette.mode?"rgba(0,0,0,0.5)":"rgba(255,255,255,0.5)"}},v.createElement(a.Z,{size:16})):null,v.createElement("img",{src:O,alt:""})),v.createElement(r.Z,{sx:{minWidth:"40px"}},v.createElement(o.Z,{size:"medium",color:"primary",onClick:q},v.createElement(b.zb,{icon:"ico-rotate-right"}))))),D?v.createElement(g.Z,{error:A.error}):null)};t.default=x},90798:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var i=n(67294),l=n(13218),r=n.n(l);let a=e=>{return e?r()(e)?a(Object.values(e)[0]):e.toString():null};function o({error:e,className:t="invalid-feedback order-last"}){return e?i.createElement("div",{"data-testid":"error",className:t},a(e)):null}},66766:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return C}});var i=n(85597),l=n(30120),r=n(44373),a=n(91647),o=n(18948),s=n(68929),u=n.n(s),d=n(27361),c=n.n(d),m=n(67294),p=n(77029),f=n(50130),v=n(86010),g=n(41609),h=n.n(g);let b=(e,t)=>{var n;return!!((null==e?void 0:null===(n=e.subs)||void 0===n?void 0:n.length)>0&&e.subs.some(e=>e.id.toString()===t||b(e,t)))};function y({item:e,handleSelect:t,active:n,classes:i,category_id:l}){var r;let[a,o]=m.useState(!1);m.useEffect(()=>{if(b(e,l)){o(!0);return}},[l]);let s=m.useCallback(()=>{o(e=>!e)},[]),u=(e,n)=>{t(e,n)};return m.createElement("div",{className:i.item},m.createElement("div",{className:(0,v.default)(!h()(e.subs)&&i.hasSubs,n&&i.itemActive)},m.createElement("div",{onClick:()=>u(e.id,e.resource_name),"data-testid":"itemCategory",className:i.link,color:"inherit","aria-selected":n,"aria-label":e.name},m.createElement("span",{className:i.span},e.name)),h()(e.subs)?null:m.createElement(f.Z,{size:"small",className:i.icon,onClick:s},m.createElement(p.zb,{icon:a?"ico-angle-up":"ico-angle-down"}))),a&&(null==e?void 0:null===(r=e.subs)||void 0===r?void 0:r.length)>0?m.createElement("ul",{className:i.subCategory},null==e?void 0:e.subs.map((e,t)=>{return m.createElement("div",{key:e.id},m.createElement(y,{item:e,classes:i,handleSelect:u,active:e.id.toString()===l,category_id:l}))})):null)}var E=n(22410),x=n(73327),Z=(0,E.Z)(e=>(0,x.Z)({item:{"& $link":{height:e.spacing(7),padding:e.spacing(0,2,0,2),flex:1,minWidth:0,"&:hover":{backgroundColor:e.palette.action.selected,borderRadius:e.shape.borderRadius}}},hasSubs:{display:"flex",alignItems:"center","& button":{position:"absolute"},"& .ico":{paddingLeft:0}},link:{cursor:"pointer",fontSize:e.mixins.pxToRem(15),display:"flex",flexDirection:"row",alignItems:"center",color:"light"===e.palette.mode?e.palette.text.primary:e.palette.text.secondary,textDecoration:"none",position:"relative"},itemActive:{"& $link":{color:e.palette.primary.main,fontWeight:e.typography.fontWeightBold}},span:{},subCategory:{borderLeft:`1px solid ${e.palette.border.secondary}`,listStyle:"none",margin:e.spacing(0,0,0,2),padding:0},icon:{position:"absolute",width:32,height:32,right:e.spacing(1),"& .ico":{fontSize:e.mixins.pxToRem(15)}}}));function C({config:{label:e,apiUrl:t,dataSource:n=[],defaultValue:s},name:d}){let p=Z(),[,,{setValue:f}]=(0,o.U$)(d),{useFetchItems:v,usePageParams:g,i18n:h}=(0,i.OgA)(),b=g(),E=c()(b,d),[x]=v({dataSource:{apiUrl:t},data:[],cache:!0}),C=x.length>0?x:n,w=m.useCallback(e=>{f(e)},[]),_=m.useCallback(()=>{f(void 0)},[]);return m.createElement("div",{"data-testid":u()(`field ${d}`)},m.createElement(l.Z,{sx:{pt:2,pb:2}},m.createElement(r.Z,null)),m.createElement(a.Z,{component:"h4",variant:"h4",color:"textPrimary",sx:{pb:1}},e),m.createElement(l.Z,{sx:{pb:3}},C&&C.length?m.createElement(y,{classes:p,item:{name:h.formatMessage({id:"all"})},handleSelect:_,key:"all",active:!E,category_id:E}):null,C.map(e=>m.createElement(y,{classes:p,item:e,handleSelect:w,key:e.id,active:E===String(e.id),category_id:E}))))}},65939:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return h}});var i=n(84635),l=n(85597),r=n(30120),a=n(21822),o=n(81719),s=n(41609),u=n.n(s),d=n(35161),c=n.n(d),m=n(67294);let p=(0,o.ZP)("div",{name:"StyledItemView"})(({theme:e})=>{var t;return{display:"flex",alignItems:"baseline",width:"100%",justifyContent:"flex-start",padding:e.spacing(2.75,0),[e.breakpoints.down("sm")]:{display:"block"},"&+div":{borderTop:"solid 1px",borderTopColor:null===(t=e.palette.border)||void 0===t?void 0:t.secondary}}}),f=(0,o.ZP)("div",{name:"StyledItemView",slot:"StyledTitle"})(({theme:e})=>({width:300,fontSize:e.typography.body1.fontSize,lineHeight:1.6,fontWeight:e.typography.fontWeightBold,color:e.palette.text.primary})),v=(0,o.ZP)("div",{name:"StyledItemView",slot:"StyledContent"})(({theme:e})=>({padding:e.spacing(0,2),width:"100%",fontSize:e.typography.body1.fontSize,lineHeight:1.6,color:e.palette.text.primary})),g=(0,o.ZP)("div",{name:"StyledItemView",slot:"StyledContentInner"})(({theme:e})=>({display:"flex",flexDirection:"column","& button":{marginRight:e.spacing(1)},"& div:first-of-type":{marginTop:0,marginBottom:0}}));function h({onReset:e,config:t,formik:n,name:o}){let{i18n:s}=(0,l.OgA)(),[d,h]=(0,m.useState)(!1),b=()=>h(!0),y=()=>{n.submitForm().then(e=>{u()(n.errors)&&h(!1)})},E=()=>h(!1),{label:x,value:Z,elements:C}=t;return m.createElement(p,null,m.createElement(f,null,x),m.createElement(v,null,d?m.createElement(g,null,c()(C,(e,t)=>m.createElement(i.W_,{formik:n,key:t.toString(),config:e})),m.createElement(r.Z,{sx:{my:1}},m.createElement(a.Z,{variant:"contained",onClick:y},s.formatMessage({id:"save"})),m.createElement(a.Z,{variant:"outlined",onClick:E},s.formatMessage({id:"cancel"})))):m.createElement("p",null,Z)),!d&&m.createElement(a.Z,{variant:"text",onClick:b},s.formatMessage({id:"edit"})))}},40015:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return I}});var i=n(85597),l=n(77029),r=n(27274),a=n(21822),o=n(17888),s=n(38790),u=n(81719),d=n(61394),c=n(91647),m=n(18948),p=n(68929),f=n.n(p),v=n(41609),g=n.n(v),h=n(73955),b=n.n(h),y=n(67294),E=n(90798);let x={width:2,right:0,position:"absolute",opacity:0},Z=(0,u.ZP)(a.Z,{name:"AddPhotoButton"})(({theme:e})=>({fontWeight:"bold"})),C=(0,u.ZP)(o.Z,{name:"Root"})(({theme:e})=>({margin:e.spacing(2,0,1)})),w=(0,u.ZP)("div",{name:"Preview"})(({theme:e})=>({marginTop:-5,borderRadius:4,width:"100%",maxWidth:"100%",overflow:"hidden",display:"flex",alignItems:"center",justifyContent:"center",position:"relative","& button":{"& + button":{marginLeft:e.spacing(1)}}})),_=(0,u.ZP)("div",{name:"RemoveBtn",slot:"removeBtn"})(({theme:e})=>({width:e.spacing(3),height:e.spacing(3),borderRadius:e.spacing(1.5),backgroundColor:"rgba(0,0,0,0.89)",color:"#fff",position:"absolute",top:e.spacing(2),right:e.spacing(2),display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer"})),k=(0,u.ZP)("div",{name:"Controls",slot:"Controls"})(({theme:e})=>({borderRadius:4,display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",top:0,left:0,width:"100%",height:"100%"})),S=(0,u.ZP)("div",{name:"ImageWrapper",slot:"ImageWrapper",shouldForwardProp:e=>"widthPhoto"!==e&&"haveError"!==e})(({theme:e,haveError:t,hoverState:n,widthPhoto:i})=>({width:i,maxWidth:i,overflow:"hidden",position:"relative",borderStyle:"solid",borderWidth:"1px",borderColor:"light"===e.palette.mode?"#0000003b":"rgba(255, 255, 255, 0.23)",borderRadius:4,...n&&{borderColor:"light"===e.palette.mode?"#000":"#fff"},...t&&{borderColor:e.palette.error.main}})),z=e=>{return new Promise(t=>{let n=new FileReader;n.addEventListener("load",()=>t(n.result),!1),n.readAsDataURL(e)})},P=(e,t)=>{let n=!0;if(g()(e))return!0;if(g()(t))return!1;let i=t.split(",");return i.some(t=>e.match(t))&&(n=!1),n};function I({name:e,config:t,disabled:n,formik:a}){let{required:o,variant:u="outlined",item_type:p,max_upload_filesize:v,upload_url:g,preview_url:h,disabled:I,returnBase64:A=!1,thumbnail_sizes:R,aspectRatio:M="1:1",widthPhoto:$="200px",accept:T="image/*"}=t,{dialogBackend:O,i18n:W}=(0,i.OgA)(),[,F,{setValue:N}]=(0,m.U$)(null!=e?e:"ItemPhotoField"),B=t.placeholder||"add_photo",[L,j]=(0,y.useState)(h),[q,D]=(0,y.useState)(Boolean(L)),U=(0,y.useRef)(),[V,H]=(0,y.useState)(!1),Q=M.replace(":",""),G=async(e,t)=>{if(e){let n=await z(e);t(n)}},K=()=>{U.current.click()},X=()=>{var e;let t=U.current.files;if(!t)return;let n=(0,r.yh)(t.item(0).type)?"video":"photo",i={id:0,uid:b()("file"),source:URL.createObjectURL(t.item(0)),file:t.item(0),file_name:t.item(0).name,file_size:t.item(0).size,file_type:n,fileItemType:p,status:"update",upload_url:g,extension:(0,r.mD)(t.item(0).name),thumbnail_sizes:R},l=i.file.size;if(l>v&&0!==v){O.alert({message:W.formatMessage({id:"warning_upload_limit_one_file"},{fileName:(0,r.TX)(i.file_name,30),fileSize:(0,r.jA)(i.file.size),maxSize:(0,r.jA)(v)})});return}if(P(null==i?void 0:null===(e=i.file)||void 0===e?void 0:e.type,T)){O.alert({message:W.formatMessage({id:"photo_accept_type_fail"})}),(null==U?void 0:U.current)&&(U.current.value=null);return}i&&(j(i.source),D(!0),A?G(null==i?void 0:i.file,e=>{N({base64:e})}):N(i))},Y=()=>{j(null),D(!1),N(h?{status:"remove",temp_file:0}:void 0)},J=e=>{e.currentTarget.value=null},ee=Boolean(F.error&&(F.touched||a.submitCount));return q?y.createElement(y.Fragment,null,y.createElement(C,{fullWidth:!0,variant:u,margin:"normal","data-testid":f()(`field ${e}`)},y.createElement(c.Z,{sx:{fontSize:"13px"},color:"text.hint",mb:1},t.label,o?"(*)":""),y.createElement(S,{haveError:ee,hoverState:V,widthPhoto:$},y.createElement(w,{onMouseOver:()=>H(!0),onMouseLeave:()=>H(!1)},y.createElement(l.Gy,{src:L,aspectRatio:Q,backgroundImage:!0}),y.createElement(s.Z,{title:W.formatMessage({id:"remove"})},y.createElement(_,{onClick:Y},y.createElement(l.zb,{icon:"ico-close"})))))),y.createElement(d.Z,{onClick:K,color:"primary","data-testid":f()(`button add ${e}`),disabled:I||n||a.isSubmitting},W.formatMessage({id:"change"})),ee?y.createElement(E.Z,{error:F.error}):null,y.createElement("input",{onClick:J,ref:U,type:"file","aria-hidden":!0,accept:"image/*",style:x,"data-testid":f()(`input ${e}`),onChange:X})):y.createElement(y.Fragment,null,y.createElement(C,{variant:u,margin:"normal","data-testid":f()(`field ${e}`)},y.createElement(c.Z,{sx:{fontSize:"13px"},color:"text.hint",mb:1},t.label,o?"(*)":""),y.createElement(S,{haveError:ee,hoverState:V,widthPhoto:$},y.createElement(l.Gy,{src:L,aspectRatio:Q,backgroundImage:!0}),y.createElement(k,{role:"button",onClick:K,onMouseOver:()=>H(!0),onMouseLeave:()=>H(!1)},y.createElement(Z,{size:"small",color:"primary",variant:"outlined","data-testid":f()(`button add ${e}`),disabled:I||n||a.isSubmitting,startIcon:y.createElement(l.zb,{icon:"ico-photo-plus-o"})},W.formatMessage({id:B}))))),ee?y.createElement(E.Z,{error:F.error}):null,y.createElement("input",{onClick:J,ref:U,type:"file","aria-hidden":!0,accept:T,"data-testid":f()(`input ${e}`),onChange:X,style:x}))}},70563:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return v}});var i=n(85597),l=n(77029),r=n(21822),a=n(38790),o=n(18948),s=n(73955),u=n.n(s),d=n(67294),c=n(5685),m=n(22410),p=n(73327),f=(0,m.Z)(e=>(0,p.Z)({root:{margin:e.spacing(2,0,1),"& button":{fontSize:e.mixins.pxToRem(13),border:e.mixins.border("primary"),borderRadius:4,padding:e.spacing(.5,2)},"& .ico":{fontSize:e.mixins.pxToRem(15)}},addPhotoWrapper:{},previewList:{display:"flex",margin:e.spacing(1,-.5,0)},previewItem:{margin:e.spacing(0,.5),position:"relative","& img":{width:48,height:48,minWidth:48,minHeight:48,objectFit:"cover",borderRadius:4}},deletePhoto:{position:"absolute",top:4,right:4,borderRadius:"50%",width:16,height:16,opacity:.7,backgroundColor:e.mixins.backgroundColor("paper"),display:"flex",alignItems:"center",justifyContent:"center",fontSize:"8px !important",cursor:"pointer","&:hover":{opacity:1}},totalPhoto:{marginTop:e.spacing(.5)},controls:{height:120,border:"solid 1px rgba(0, 0, 0, 0.23)",borderRadius:4,padding:e.spacing(.5,2),marginTop:e.spacing(1),display:"flex",alignItems:"center",justifyContent:"center","&:hover":{border:"1px solid",borderColor:e.palette.border.primary}}}),{name:"ItemPhotoGalleryField"});function v({name:e,config:t}){let n=f(),[,,{setValue:s}]=(0,o.U$)(null!=e?e:"ItemPhotoGalleryField"),{i18n:m}=(0,i.OgA)(),p=t.placeholder||"Add Photos",[v,g]=(0,d.useState)([]),[h,b]=(0,d.useState)(Boolean(v.length-1>0)),y=(0,d.useRef)(),E=(0,d.useCallback)(()=>{y.current.click()},[]),x=(0,d.useCallback)(()=>{let e=y.current.files;if(!e)return;let t=[];for(let n=0;n<e.length;++n)t.push({uid:u()("file"),source:URL.createObjectURL(e.item(n)),file:e.item(n)});t&&(g(t),s(v),b(!0))},[v,s]),Z=(0,d.useCallback)(e=>{g(t=>{return t.filter(t=>t.uid!==e.uid)}),s(v),b(Boolean(v.length-1>0))},[v,s]);return d.createElement("div",{className:n.root},d.createElement("div",{className:n.addPhotoWrapper},d.createElement(c.Z,null,t.label),d.createElement("div",{className:n.controls,role:"button",onClick:E},d.createElement(r.Z,{size:"small",color:"primary",variant:"outlined",startIcon:d.createElement(l.zb,{icon:"ico-photos-plus-o"})},p)),d.createElement("input",{ref:y,type:"file",multiple:!0,"aria-hidden":!0,className:"srOnly",accept:"image/*",onChange:x})),h&&d.createElement(d.Fragment,null,d.createElement("div",{className:n.previewList},v.map((e,t)=>d.createElement("div",{className:n.previewItem,key:t.toString()},d.createElement("img",{src:e.source,alt:""}),d.createElement(a.Z,{title:m.formatMessage({id:"remove"})},d.createElement(l.zb,{icon:"ico-close",onClick:()=>Z(e),className:n.deletePhoto}))))),d.createElement("div",{className:n.totalPhoto},v.length,"/10"," ",m.formatMessage({id:"photos_uploaded"}))))}},5685:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});var i=n(85597),l=n(67294);function r({text:e}){let{i18n:t}=(0,i.OgA)();return e?e.startsWith("<html>")?l.createElement(l.Fragment,null,t.formatMessage({id:"[placeholder]",defaultMessage:e})):l.createElement(l.Fragment,null,e):null}},19379:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return E}});var i=n(85597),l=n(77029),r=n(30120),a=n(68354),o=n(25722),s=n(62937),u=n(71682),d=n(22949),c=n(18948),m=n(68929),p=n.n(m),f=n(47037),v=n.n(f),g=n(67294),h=n(22410),b=n(73327),y=(0,h.Z)(e=>(0,b.Z)({root:{display:"block",position:"relative"},map:{display:"block",height:300,backgroundColor:e.palette.action.focus},hideMap:{display:"none !important"},popper:{zIndex:1300,width:"100%"},paper:{padding:e.spacing(1,1)},suggestItem:{display:"flex",flexDirection:"row",alignItems:"center",padding:e.spacing(1,1),fontSize:e.mixins.pxToRem(15),cursor:"pointer","&:hover":{backgroundColor:e.palette.action.focus}},suggestIcon:{color:e.palette.text.secondary,fontSize:e.mixins.pxToRem(13),paddingRight:e.spacing(1)},suggestName:{color:e.palette.text.primary},suggestAddress:{paddingLeft:e.spacing(1),color:e.palette.text.secondary}}),{name:"formFooter"}),E=function({config:e,disabled:t,required:n,name:m,formik:f}){var h,b,E;let[x,Z,{setValue:C,setTouched:w}]=(0,c.U$)(null!=m?m:"location"),{label:_,labelProps:k,placeholder:S,variant:z,disabled:P,margin:I="normal",fullWidth:A,required:R,description:M,autoFocus:$,hideMap:T=!1}=e,O=g.useRef(),W=g.useRef(),F=y(),N=g.useRef(),[B,L="",j,,q,D,{loading:U,error:V}]=(0,i.$Cd)(N,{lat:null===(h=x.value)||void 0===h?void 0:h.lat,lng:null===(b=x.value)||void 0===b?void 0:b.lng,address:null===(E=x.value)||void 0===E?void 0:E.address}),H=g.useCallback(e=>{j(e),""===e&&C(null)},[]),[Q,G]=g.useState(!1),K=(e,t)=>{let{address_components:n}=t,i=n[0];C({...e,short_name:i.short_name})},X=e=>{let t=e.address.search(","),n={address:e.address.slice(0,t)===e.name?`${e.address}`:`${e.name}, ${e.address}`,lat:e.lat,lng:e.lng};C(n),q(e),j(n.address),D(e,e=>K(n,e))},Y=e=>{G(!0)},J=e=>{(null==Z?void 0:Z.touched)||w(!0),setTimeout(()=>{G(!1),x.onBlur(e)},200)},ee=g.useCallback(()=>{setTimeout(()=>{G(!1)},200)},[]),et=Boolean(Z.error&&(Z.touched||f.submitCount));return g.createElement("div",{className:F.root},g.createElement(l.Qn,{excludeRef:O,onClickAway:ee},g.createElement(r.Z,null,g.createElement(d.Z,{label:_,autoComplete:"off",required:n||R,inputRef:W,onFocus:Y,onBlur:J,onChange:e=>H(e.target.value),value:L,disabled:e.disabled||P,autoFocus:$,variant:z,error:et,inputProps:{"data-testid":p()(`field ${m}`)},InputLabelProps:k,placeholder:S,margin:I,fullWidth:A,helperText:et&&v()(Z.error)?Z.error:M}),g.createElement("div",{className:T?F.hideMap:F.map,ref:N}))),g.createElement(s.Z,{open:Q,anchorEl:W.current,disablePortal:!0,placement:"bottom-start",className:F.popper},g.createElement(o.Z,{className:F.paper},g.createElement(a.Z,{in:Q},U?g.createElement(r.Z,null,g.createElement(u.Z,{animation:"wave",height:30,width:"50%"}),g.createElement(u.Z,{animation:"wave",height:30,width:"30%"}),g.createElement(u.Z,{animation:"wave",height:30,width:"40%"})):B.map(e=>{return g.createElement("div",{key:e.lat,className:F.suggestItem,onClick:()=>X(e)},g.createElement(l.zb,{icon:"ico-checkin",className:F.suggestIcon}),g.createElement("span",{className:F.suggestName},e.name),g.createElement("span",{className:F.suggestAddress},e.address))}),V&&g.createElement("div",null,V)))))}},13995:function(e,t,n){"use strict";n.r(t);var i,l,r=n(85597),a=n(77029),o=n(30120),s=n(49960),u=n(20399),d=n(81719),c=n(22949),m=n(38790),p=n(41609),f=n.n(p),v=n(67294),g=n(90798);let h=(0,d.ZP)("div",{name:"StyledAnswer"})(({theme:e})=>({display:"flex",alignItems:"center",paddingTop:e.spacing(2)})),b=(0,d.ZP)("div",{name:"AnswerItem",slot:"IconClose"})(({theme:e})=>({cursor:"pointer",display:"flex",justifyContent:"center",alignItems:"center",width:e.spacing(5),height:e.spacing(5),margin:e.spacing(0,.5),"& .ico":{fontSize:e.mixins.pxToRem(16),color:e.palette.text.hint}}));(i=l||(l={}))[i.FreeAnswer=0]="FreeAnswer",i[i.Select=1]="Select",i[i.CheckBox=2]="CheckBox";let y=({formik:e,type:t,value:n,onRemove:i,onChange:d,onBlur:p,error:y})=>{let{i18n:E}=(0,r.OgA)(),[x,Z]=(0,v.useState)(t===l.FreeAnswer),[C,w]=(0,v.useState)(n||""),[_,k]=(0,v.useState)(null);v.useEffect(()=>{f()(y)||k(y)},[y]);let S=e=>{f()(e)?k(E.formatMessage({id:"error_the_field_is_required"},{field:"answer"})):k(null)},z=e=>{let{value:t}=e.target;p&&p(e),S(t)},P=e=>{let{value:t}=e.target;S(t),w(t),d&&d(e)},I=(0,v.useMemo)(()=>{return t===l.CheckBox?v.createElement(s.Z,{disabled:!0}):t===l.Select?v.createElement(u.Z,{disabled:!0}):void 0},[t]),A=()=>{Z(!0),i&&i()};return x?null:v.createElement(h,null,v.createElement(o.Z,{sx:{flex:1}},v.createElement(o.Z,{sx:{display:"flex"}},I,v.createElement(c.Z,{size:"small",fullWidth:!0,id:"outlined-basic",value:C,variant:"outlined",onChange:P,onBlur:z,inputProps:{maxLength:255},error:!!(e.submitCount&&_)}),v.createElement(b,{onClick:A},v.createElement(m.Z,{title:E.formatMessage({id:"remove_answer"}),placement:"top"},v.createElement(a.zb,{icon:"ico-close"})))),_?v.createElement(o.Z,{ml:5},v.createElement(g.Z,{error:_})):null))};t.default=y},8238:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return k}});var i,l,r=n(85597),a=n(30120),o=n(21822),s=n(17888),u=n(74825),d=n(12501),c=n(81719),m=n(22949),p=n(18948),f=n(68929),v=n.n(f),g=n(41609),h=n.n(g),b=n(47037),y=n.n(b),E=n(67294),x=n(90798),Z=n(13995);(i=l||(l={}))[i.FreeAnswer=0]="FreeAnswer",i[i.Select=1]="Select",i[i.CheckBox=2]="CheckBox";let C=(0,c.ZP)(o.Z)(({theme:e})=>({fontWeight:e.typography.fontWeightMedium,fontSize:e.mixins.pxToRem(13),color:e.palette.primary.main,cursor:"pointer",display:"flex",alignItems:"center",marginTop:e.spacing(.5),marginLeft:e.spacing(5),width:"fit-content","&:hover":{textDecoration:"underline"}})),w=[{value:l.CheckBox,label:"checkbox"},{value:l.Select,label:"multiple_choice"},{value:l.FreeAnswer,label:"written_answer"}],_=({name:e,formik:t,disabled:n})=>{var i,o,c,f,g,b;let{i18n:_}=(0,r.OgA)(),k=(0,p.u6)();E.useEffect(()=>{var e,n,i,r,a,o;let s=[];h()(null===(e=k.initialValues)||void 0===e?void 0:e.options)&&(s=[{title:"",id:new Date().getMilliseconds(),type:1},{title:"",id:new Date().getMilliseconds()+1,type:1}]),h()(null===(n=k.initialValues)||void 0===n?void 0:n.options)||(s=null===(a=k.initialValues)||void 0===a?void 0:a.options),h()(null===(i=k.values)||void 0===i?void 0:i.options)||(s=null===(o=k.values)||void 0===o?void 0:o.options),(null===(r=k.values)||void 0===r?void 0:r.type_id)===l.FreeAnswer&&(s=void 0),t.setFieldValue("options",s,!0)},[null===(i=k.values)||void 0===i?void 0:i.type_id]);let S=()=>{var e;let n=[...null===(e=k.values)||void 0===e?void 0:e.options,{title:"",id:new Date().getMilliseconds(),type:1}];t.setFieldValue("options",n)},z=(e,n)=>{var i;let{value:l}=e.target,r=null===(i=k.values.options)||void 0===i?void 0:i.map(e=>{var i;return e.id===n.id?{...e,title:l.trim(),type:(null===(i=t.initialValues)||void 0===i?void 0:i.options)&&1!==n.type?2:1}:e});t.setFieldValue("options",r)},P=e=>{var n,i;(null===(n=t.values)||void 0===n?void 0:null===(i=n.question)||void 0===i?void 0:i.trim())||t.setFieldValue("question",""),t.handleBlur(e)},I=e=>{var n;let i=null===(n=t.values.options)||void 0===n?void 0:n.filter(t=>t.id!==e);t.setFieldValue("options",i)};return E.createElement(s.Z,{fullWidth:!0,margin:"normal","data-testid":v()(`field ${e}`)},E.createElement(a.Z,null,E.createElement(a.Z,{sx:{height:"40px",display:"flex"}},E.createElement(m.Z,{id:"question",name:"question",sx:{flex:1,minWidth:0,marginRight:2},size:"small",label:_.formatMessage({id:"add_a_question"}),variant:"outlined",inputProps:{maxLength:255},error:!!(t.submitCount&&t.errors.question),value:null===(o=k.values)||void 0===o?void 0:o.question,onChange:t.handleChange,onBlur:P}),E.createElement(d.Z,{id:"type_id",name:"type_id",sx:{height:"100%"},value:null===(c=k.values)||void 0===c?void 0:c.type_id,onChange:t.handleChange},w.map(({value:e,label:t},n)=>E.createElement(u.Z,{key:n.toString(),value:e},_.formatMessage({id:t}))))),E.createElement(x.Z,{error:null===(f=t.errors)||void 0===f?void 0:f.question})),k.values.type_id!==l.FreeAnswer?E.createElement(E.Fragment,null,null===(g=k.values)||void 0===g?void 0:null===(b=g.options)||void 0===b?void 0:b.map((e,n)=>{var i,l,r;return E.createElement(Z.default,{formik:t,key:e.id.toString(),value:e.title,type:k.values.type_id,error:!h()(null===(i=t.errors)||void 0===i?void 0:i.options)&&(null===(l=t.errors)||void 0===l?void 0:null===(r=l.options)||void 0===r?void 0:r.at(n)),onRemove:()=>I(e.id),onChange:t=>z(t,e)})}),E.createElement(C,{onClick:S,variant:"text",color:"primary",size:"small",disabled:n},_.formatMessage({id:"add_answer"})),y()(t.errors)&&E.createElement(x.Z,{error:t.errors})):null)};var k=_},10364:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return I}});var i=n(85597),l=n(77029),r=n(27274),a=n(30120),o=n(21822),s=n(17888),u=n(91647),d=n(22949),c=n(84917),m=n(81719),p=n(18948),f=n(12902),v=n(68929),g=n.n(v),h=n(73955),b=n.n(h),y=n(23279),E=n.n(y),x=n(67294),Z=n(90798);let C=(0,m.ZP)(o.Z,{name:"DropButton",slot:"DropButton"})(({theme:e,isOver:t})=>({...t&&{backgroundColor:e.palette.action.hover}})),w=(0,m.ZP)("div",{name:"AudioUploaded"})(({theme:e})=>({display:"flex",fontSize:e.mixins.pxToRem(13),justifyContent:"space-between",paddingBottom:e.spacing(1),"& .ico-music-note-o":{fontSize:e.mixins.pxToRem(15)}})),_=(0,m.ZP)("div",{name:"EditAudio"})(({theme:e})=>({padding:e.spacing(2),marginBottom:e.spacing(1.5),border:"1px solid #eeeeee","& > div":{width:"100%"}})),k=(0,m.ZP)("div",{name:"IconAction"})(({theme:e})=>({display:"flex","& span":{marginLeft:e.spacing(1)}})),S=(0,m.ZP)("div",{name:"DropzoneBox"})(({theme:e})=>({width:"fit-content"})),z=(0,m.ZP)(c.Z,{name:"Label"})(({theme:e,haveError:t})=>({...t&&{color:e.palette.error.main}}));function P({item:e,index:t,handleChange:n,showEditAudio:i,handleEditAudio:o,handleRemoveAudio:s,maxLengthName:c}){return"remove"===e.status?null:x.createElement(x.Fragment,null,x.createElement(w,null,x.createElement(a.Z,{sx:{display:"flex"}},x.createElement(l.zb,{icon:"ico-music-note-o"}),x.createElement(a.Z,{ml:1,mr:1},(0,r.TX)(null==e?void 0:e.file_name,70))),x.createElement(k,null,x.createElement(u.Z,{variant:"body2",color:"primary",component:"span",role:"button",onClick:()=>{return o((null==e?void 0:e.id)||(null==e?void 0:e.uid))}},x.createElement(l.zb,{icon:"ico-compose"})),x.createElement(u.Z,{variant:"body2",color:"primary",component:"span",role:"button",onClick:()=>s(t)},x.createElement(l.zb,{icon:"ico-close"})))),i===((null==e?void 0:e.id)||(null==e?void 0:e.uid))?x.createElement(_,null,x.createElement(d.Z,{placeholder:"Fill in a title for your song",required:!0,label:"Name",name:"name",variant:"outlined",size:"small",id:"outlined-required",defaultValue:null==e?void 0:e.name,onChange:e=>n(e.currentTarget.value,t,e.currentTarget.name),inputProps:{maxLength:c}}),x.createElement(a.Z,{mt:2}),x.createElement(d.Z,{rows:3,placeholder:"Add some description to your song",id:"outlined-basic",label:"Description",name:"description",variant:"outlined",size:"small",defaultValue:null==e?void 0:e.description,multiline:!0,onChange:e=>n(e.currentTarget.value,t,e.currentTarget.name)})):null)}function I({name:e,config:t,disabled:n,formik:o}){let{label:d="Select songs",description:c,item_type:m,accept:v="audio/mp3",max_upload_filesize:h,max_length_name:y=100,upload_url:w,disabled:_,storage_id:k}=t,{dialogBackend:I,i18n:A}=(0,i.OgA)(),[R,M,{setValue:$,setTouched:T}]=(0,p.U$)(null!=e?e:"ItemPhotoField"),[O,W]=x.useState(!1),[F,N]=x.useState(),B=(0,x.useRef)(),[L,j]=x.useState(R.value||[]),q=()=>{B.current.click()},D=x.useCallback(e=>{I.confirm({message:A.formatMessage({id:"are_you_sure_you_want_to_delete_attachment_file"}),title:A.formatMessage({id:"are_you_sure"})}).then(t=>{t&&j(t=>(0,f.ZP)(t,t=>{t[e].id?t[e].status="remove":t.splice(e,1)}))})},[]),U=x.useCallback(e=>{F!==e?N(e):N(null)},[F]);x.useEffect(()=>{0===L.length&&W(!1),$(L)},[L]);let V=e=>{let t=[];for(let n of Object.keys(e)){let i={id:0,status:"create",upload_url:w,name:e[n].name.split(".")[0].slice(0,y),description:"",source:URL.createObjectURL(e[n]),file:e[n],file_name:e[n].name,file_size:e[n].size,file_type:e[n].type,uid:b()("file"),fileItemType:m,storage_id:null!=k?k:null},l=null==i?void 0:i.file_size;if(l>(null==h?void 0:h.music)&&(null==h?void 0:h.music)){I.alert({message:A.formatMessage({id:"warning_upload_limit_one_file"},{fileName:(0,r.TX)(i.file_name,30),fileSize:(0,r.jA)(i.file_size),maxSize:(0,r.jA)(null==h?void 0:h.music)})});return}t.push(i)}t.length&&j((0,f.ZP)(e=>{e.push(...t)})),W(!0)},H=x.useCallback(()=>{let e=B.current.files;e&&(T(!0),V(e))},[L]),Q=e=>{e&&V(e)},G=E()((e,t,n)=>{j((0,f.ZP)(i=>{i[e].id&&(i[e].status="update"),i[e][n]=t}))},1e3),K=(e,t,n)=>{G(t,e,n)},X=e=>{e.currentTarget.value=null},Y=!!(M.error&&(M.touched||o.submitCount));return x.createElement(s.Z,{fullWidth:!0,margin:"normal","data-testid":g()(`field ${e}`)},x.createElement(z,{haveError:Y,required:!0,variant:"outlined",shrink:"true"},t.label),x.createElement(a.Z,{sx:{p:2,pt:2.5}},x.createElement(u.Z,{variant:"body2",color:"text.secondary",mb:1.5,component:"p"},O?A.formatMessage({id:"audio_file_selected"}):c),x.createElement(S,null,x.createElement(l.Kb,{onDrop:e=>Q(e),render:({isOver:t})=>x.createElement(C,{onClick:q,size:"small",color:"primary",sx:{fontWeight:"bold"},isOver:t,variant:"outlined",disabled:_||n||o.isSubmitting,"data-testid":g()(`button ${e}`),startIcon:x.createElement(l.zb,{icon:"ico-upload"})},d)})),L.length>0&&x.createElement(a.Z,{sx:{mt:2}},L.map((e,t)=>x.createElement(P,{key:t.toString(),handleRemoveAudio:D,handleChange:K,handleEditAudio:U,showEditAudio:F,index:t,item:e,maxLengthName:y}))),Y?x.createElement(Z.Z,{error:M.error}):null),x.createElement(l.yC,{haveError:Y,children:t.label,variant:"outlined"}),x.createElement("input",{ref:B,onClick:X,className:"srOnly",type:"file","data-testid":g()(`input ${e}`),multiple:!0,accept:v,onChange:H}))}},30021:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return x}});var i=n(85597),l=n(18948),r=n(12902),a=n(27361),o=n.n(a),s=n(1469),u=n.n(s),d=n(67294),c=n(90798),m=n(30120),p=n(21822),f=n(22949),v=n(22410),g=n(73327),h=(0,v.Z)(e=>(0,g.Z)({answerInput:{width:"calc(100% - 130px)"},answerItem:{display:"flex"},input:{"&::placeholder":{color:e.palette.text.secondary,opacity:1}},endAdornment:{cursor:"pointer"},endAdornmentButton:{display:"flex",alignItems:"center",paddingLeft:e.spacing(2)},buttonWrapper:{display:"flex",width:"100%",justifyContent:"space-between",marginRight:e.spacing(1),marginTop:e.spacing(1),"& button":{minWidth:e.spacing(5)}},button:{"& + button":{marginLeft:e.spacing(1)},fontWeight:e.typography.fontWeightBold,fontSize:e.mixins.pxToRem(13),color:e.palette.primary.main,cursor:"pointer",display:"flex",alignItems:"center","&:hover":{textDecoration:"underline"}},visible:{visibility:"hidden"}}),{name:"AnswerPollItem"}),b=n(77029);let y=({lastElement:e,index:t,item:n,handleDelete:l,handleAdd:r,handleChange:a,disabled:o,submitCount:s,error:u,maxLength:v,disabledAddMore:g,disableRemove:y,meta:E,setTouched:x})=>{let Z=h(),{i18n:C}=(0,i.OgA)(),w=Boolean(u&&(E.touched||s));return d.createElement(d.Fragment,null,d.createElement("div",{className:Z.answerItem},d.createElement(f.Z,{className:Z.answerInput,required:!0,variant:"outlined",onBlur:()=>x(!0),fullWidth:!0,margin:"normal",disabled:o,inputProps:{maxLength:v},label:C.formatMessage({id:"option_answer"},{value:t+1}),defaultValue:n.answer,onChange:e=>a(e,n.id),error:w}),d.createElement("div",{className:Z.endAdornmentButton},d.createElement("div",{className:Z.buttonWrapper},d.createElement(p.Z,{className:Z.button,onClick:()=>l(n.order),disabled:y||o,variant:"outlined",color:"primary",sx:{fontWeight:"bold"}},d.createElement(m.Z,{sx:{display:{sm:"block",xs:"none"}}},C.formatMessage({id:"remove"})),d.createElement(m.Z,{sx:{display:{sm:"none"}}},d.createElement(b.zb,{icon:"ico-trash-alt"}))),d.createElement(p.Z,{className:e?Z.button:Z.visible,onClick:()=>r(),variant:"outlined",color:"primary",disabled:g||o,sx:{fontWeight:"bold"}},d.createElement(m.Z,{sx:{display:{sm:"block",xs:"none"}}},C.formatMessage({id:"add"})),d.createElement(m.Z,{sx:{display:{sm:"none"}}},d.createElement(b.zb,{icon:"ico-plus"})))))),w?d.createElement(c.Z,{error:u}):null)},E=({config:e,name:t,disabled:n,formik:a})=>{var s,m;let{i18n:p,dialogBackend:f}=(0,i.OgA)(),{minAnswers:v,maxAnswers:g,disabled:h,maxLength:b}=e,[E,x,{setValue:Z,setTouched:C}]=(0,l.U$)(null!=t?t:"PollAnswer"),[w,_]=d.useState(null==E?void 0:E.value),k=d.useRef((null==E?void 0:null===(s=E.value)||void 0===s?void 0:s.length)||0),S=d.useCallback(e=>{_(t=>(0,r.ZP)(t,t=>{if(t.length===v)f.alert({message:p.formatMessage({id:"you_must_have_min_answer"},{value:v})});else if(e){let n=t.findIndex(t=>t.order===e);t.splice(n,1)}else t.pop()}))},[]),z=d.useCallback((e,t)=>{let n=e.target.value;_(e=>(0,r.ZP)(e,e=>{e[t]={...e[t],answer:n}}))},[]),P=d.useCallback(()=>{_(e=>(0,r.ZP)(e,e=>{if(e.length===g)f.alert({message:p.formatMessage({id:"you_must_have_max_answer"},{value:g})});else{let t={item:{answer:"",order:++k.current}};e.push(t.item)}}))},[]);d.useEffect(()=>{if(w.length<v)P();else{let e=w.map(e=>{return{...e,answer:e.answer.trim()}});Z(e)}},[w]);let I=u()(x.error);return d.createElement("div",null,null==w?void 0:w.map((e,t)=>d.createElement(y,{lastElement:t===w.length-1,index:t,key:e.order.toString(),item:e,maxLength:b,handleAdd:P,submitCount:a.submitCount,meta:x,setTouched:C,handleDelete:S,disabled:h||n||a.isSubmitting,handleChange:e=>z(e,t),error:o()(x.error,`[${t}].answer`),disabledAddMore:w.length===g,disableRemove:w.length===v})),x.error&&!I?d.createElement(c.Z,{error:null===(m=x.error)||void 0===m?void 0:m.toString()}):null)};var x=E},31818:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return w}});var i,l,r=n(85597),a=n(77029),o=n(17888),s=n(42853),u=n(19316),d=n(84917),c=n(74825),m=n(12501),p=n(81719),f=n(18948),v=n(68929),g=n.n(v),h=n(67294),b=n(22410),y=n(73327),E=(0,b.Z)(e=>(0,y.Z)({root:{paddingLeft:0,"& .MuiSelect-root":{paddingLeft:e.spacing(5)}},startIcon:{position:"absolute",left:e.spacing(2)}}),{name:"PrivacyField"});(i=l||(l={}))[i.Everyone=0]="Everyone",i[i.Friends=2]="Friends",i[i.Friends_of_friends=3]="Friends_of_friends",i[i.Only_me=4]="Only_me",i[i.Custom=10]="Custom",i[i.Community=1]="Community";let x=[{label:"Public",value:l.Everyone,icon:"ico-globe"},{label:"Community",value:l.Community,icon:"ico-user-circle"},{label:"Friends",value:l.Friends,icon:"ico-user-two-men"},{label:"Friends of Friends",value:l.Friends_of_friends,icon:"ico-user-man-three"},{label:"Only Me",value:l.Only_me,icon:"ico-lock"},{label:"Custom",value:l.Custom,icon:"ico-gear"}],Z=e=>{var t;return null===(t=x.find(t=>t.value==e))||void 0===t?void 0:t.icon},C=(0,p.ZP)(u.Z,{name:"AvatarWrapper"})(({theme:e})=>({position:"absolute",left:e.spacing(2),width:e.spacing(3),justifyContent:"center"}));function w({config:e,name:t,disabled:n,formik:i}){let[u,,{setValue:p}]=(0,f.U$)(null!=t?t:"PrivacyField"),{disabled:v,description:b,options:y,label:x,variant:w,fullWidth:_,defaultValue:k,minWidth:S,sx:z}=e,{dialogBackend:P}=(0,r.OgA)(),I=E(),[A,R]=h.useState(u.value||k||l.Everyone),M=h.useCallback(e=>{e===l.Custom?$():(R(e),p(e))},[A]),$=()=>{P.present({component:"dialog.DialogCustomListPrivacy",props:{value:A}}).then(e=>{e&&(p(e),R(e))})},T=y.find(e=>Array.isArray(A)?e.value===l.Custom:e.value===A);return h.createElement(o.Z,{margin:"normal",fullWidth:_,variant:w,sx:{...z,minWidth:S},"data-testid":g()(`field ${t}`)},h.createElement(m.Z,{className:I.root,value:Array.isArray(A)?l.Custom:A,sx:{paddingLeft:0},disabled:v||n||i.isSubmitting,onBlur:u.onBlur,label:x,startAdornment:h.createElement(C,{position:"start"},h.createElement(a.zb,{icon:Z(Array.isArray(A)?l.Custom:A)})),MenuProps:{anchorOrigin:{vertical:"bottom",horizontal:"left"},getContentAnchorEl:null,transformOrigin:{vertical:"top",horizontal:"left"},"data-testid":g()(`menu ${t}`),PaperProps:{style:{maxHeight:200}}}},y?y.map((e,t)=>h.createElement(c.Z,{value:e.value,"data-value":e.value,key:t.toString(),onClick:()=>M(e.value)},e.label)):null),h.createElement(d.Z,{id:`label-${t}`},x),(null==T?void 0:T.description)?h.createElement(s.Z,null,null==T?void 0:T.description):null,b?h.createElement(s.Z,null,b):null)}},84377:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return F}});var i=n(85597),l=n(77029),r=n(30120),a=n(21822),o=n(81719),s=n(91647),u=n(18948),d=n(12902),c=n(27361),m=n.n(c),p=n(47037),f=n.n(p),v=n(67294),g=n(90798),h=n(22949),b=n(68929),y=n.n(b),E=n(60888),x=n(59462),Z=n(20399),C=n(38790),w=n(22410),_=n(73327),k=(0,w.Z)(e=>(0,_.Z)({question:{marginBottom:e.spacing(1)},title:{fontWeight:e.typography.fontWeightBold,fontSize:e.mixins.pxToRem(15)},titleWrapper:{display:"flex",justifyContent:"space-between",alignItems:"center"},answerItem:{display:"flex",alignItems:"center"},endAdornmentButton:{width:"calc(100% / 3 * 1)",display:"flex",alignItems:"center"},buttonWrapper:{display:"flex",width:"100%",justifyContent:"flex-start",alignItem:"center"},radioButton:{width:40,height:40},input:{padding:e.spacing(0,2),height:48,"&::placeholder":{color:e.palette.text.secondary,opacity:1}},button:{fontWeight:e.typography.fontWeightBold,fontSize:e.mixins.pxToRem(13),color:e.palette.primary.main,cursor:"pointer",display:"flex",alignItems:"center","&:hover":{textDecoration:"underline"}},questionInput:{"& .MuiOutlinedInput-root":{borderRadius:e.spacing(.5)}},answerInput:{width:"calc(100% / 3 * 2)","& .MuiOutlinedInput-root":{borderRadius:e.spacing(.5)}},endAdornment:{cursor:"pointer"}}),{name:"QuizQuestion"});let S=(0,o.ZP)("div",{name:"AnswerItem",slot:"IconClose"})(({theme:e})=>({cursor:"pointer",display:"flex",justifyContent:"center",alignItems:"center",width:e.spacing(5),height:e.spacing(5),margin:e.spacing(0,.5),"& .ico":{fontSize:e.mixins.pxToRem(18),color:e.palette.text.hint}})),z=(0,o.ZP)("div",{name:"AnswerItem",slot:"Radiogroup"})(({theme:e})=>({display:"flex",alignItems:"center"})),P=({lastElement:e,index:t,item:n,disabled:r,questionIndex:a,addMoreAnswer:o,handleDeleteAnswer:u,handleChangeAnswer:d,handleChangeCorrectAnswer:c,submitCount:m,error:p})=>{let f=k(),{i18n:b}=(0,i.OgA)(),[y,w]=v.useState(!1),_=Boolean(p&&(y||m));return v.createElement(v.Fragment,null,v.createElement("div",{key:t,className:f.answerItem},v.createElement(h.Z,{className:f.answerInput,onBlur:()=>w(!0),variant:"outlined",margin:"dense",disabled:r,required:!0,placeholder:b.formatMessage({id:"answer_index"},{index:t+1}),defaultValue:n.answer,error:_,onChange:e=>d(e,a,t)}),v.createElement("div",{className:f.endAdornmentButton},v.createElement("div",{className:f.buttonWrapper},v.createElement(S,{onClick:u},v.createElement(C.Z,{title:b.formatMessage({id:"remove_answer"}),placement:"top"},v.createElement(l.zb,{icon:"ico-close"}))),v.createElement(z,null,v.createElement(Z.Z,{checked:Boolean(n.is_correct),icon:v.createElement(x.Z,null),checkedIcon:v.createElement(E.Z,null),disabled:r,name:"checkedH",color:"primary",onChange:e=>c(e,a,t),className:f.radioButton}),v.createElement(s.Z,{variant:"body1",color:"text.hint",sx:{display:{sm:"block",xs:"none"}}},b.formatMessage({id:"correct_answer"})))))),_?v.createElement(g.Z,{error:p}):null)};var I=(0,v.memo)(P);let A=(0,o.ZP)("div",{name:"QuizItem",slot:"wrapper-answer"})(({theme:e})=>({borderLeft:e.mixins.border("secondary"),paddingLeft:e.spacing(2),marginBottom:e.spacing(1.5)})),R=(0,o.ZP)(r.Z)(({theme:e})=>({margin:e.spacing(1,0)})),M=({index:e,item:t,name:n,disabled:l,maxLength:r,lastElement:o,error:s,submitCount:u,formik:d,handleChangeAnswer:c,handleChangeQuestion:p,addMoreQuestion:b,handleDeleteQuestion:E,addMoreAnswer:x,handleDeleteAnswer:Z,handleChangeCorrectAnswer:C})=>{let w=k(),{i18n:_}=(0,i.OgA)(),{question:S,answers:z}=t,P=v.useRef(!1),[M,$]=v.useState(!1);v.useEffect(()=>{d.isSubmitting&&(P.current=!0)},[d.isSubmitting]);let T=Boolean(m()(s,"question")&&(M||(P.current?u:0))),O=Boolean(m()(s,"answers.[0]")&&f()(m()(s,"answers.[0]"))&&(M||(P.current?u:0)));return v.createElement("div",null,v.createElement(h.Z,{variant:"outlined",margin:"normal",fullWidth:!0,required:!0,label:_.formatMessage({id:"question_with_index"},{value:e+1}),placeholder:_.formatMessage({id:"question_with_index"},{value:e+1}),disabled:l,defaultValue:S,onChange:t=>p(t,e),error:T,onBlur:()=>$(!0),inputProps:{maxLength:r,"data-testid":y()(`input question ${n}`)}}),T&&v.createElement(g.Z,{error:m()(s,"question")}),v.createElement(A,null,z.length>0&&z.map((t,n)=>v.createElement(I,{item:t,key:t.ordering,index:n,disabled:l,questionIndex:e,lastElement:n===z.length-1,addMoreAnswer:x,handleDeleteAnswer:()=>Z(t.ordering),handleChangeAnswer:c,handleChangeCorrectAnswer:C,submitCount:P.current?u:0,error:m()(s,`answers.[${n}].answer`)})),v.createElement("div",null,v.createElement(a.Z,{className:w.button,onClick:()=>x(),variant:"text",color:"primary",size:"small",disabled:l,sx:{fontWeight:500}},_.formatMessage({id:"add_answer"})),v.createElement(a.Z,{className:w.button,onClick:E,disabled:l,variant:"text",size:"small",color:"primary",sx:{fontWeight:500}},_.formatMessage({id:"remove_question"}))),O?v.createElement(R,null,v.createElement(g.Z,{error:m()(s,"answers")})):null))};var $=(0,v.memo)(M);let T=(0,o.ZP)(a.Z)(({theme:e})=>({fontSize:e.mixins.pxToRem(13),minWidth:e.spacing(6.25),"& .ico.ico-plus-circle-o":{marginRight:e.spacing(.75),fontSize:e.mixins.pxToRem(15)}})),O=(0,o.ZP)(r.Z)(({theme:e})=>({margin:e.spacing(1,0)})),W=({config:e,formik:t,name:n,disabled:r})=>{let{i18n:a,dialogBackend:o}=(0,i.OgA)(),{minQuestions:c,maxQuestions:p,minAnswers:h,maxAnswers:b,disabled:y,defaultAnswers:E,maxLength:x}=e,[{value:Z},C,{setValue:w}]=(0,u.U$)(null!=n?n:"QuizQuestion"),[_,S]=v.useState(Z||[]),z=v.useRef((null==Z?void 0:Z.length)||0),P=v.useRef(_.map(e=>e.answers[e.answers.length-1].ordering)||[]),I=k(),A=(e,t)=>{let{value:n}=e.target;S(e=>(0,d.ZP)(e,e=>{e[t].question=n?n.trim():""}))},R=(e,t,n)=>{let{value:i}=e.target;S(e=>(0,d.ZP)(e,e=>{e[t].answers[n].answer=i?i.trim():""}))},M=e=>{if(b>0&&_[e].answers.length>=b){o.alert({title:a.formatMessage({id:"limit_reached"}),message:a.formatMessage({id:"you_have_reached_maximum_number_answers_allowed_question"})});return}P.current=P.current.map((t,n)=>{return n===e?++t:t}),S(t=>(0,d.ZP)(t,t=>{let n={answer:"",ordering:P.current[e]};t[e].answers.push(n)}))},W=(e,t)=>{let n=_[e].answers;if(n){if(n.length<=Math.max(h,1)){o.alert({message:a.formatMessage({id:"you_must_have_min_answer"},{value:h})});return}S(i=>(0,d.ZP)(i,i=>{if(t){let l=i[e].answers.findIndex(e=>e.ordering===t);if(-1===l)return;let r=i[e].answers[l];i[e].answers.splice(l,1),r.is_correct&&(i[e].answers[0].is_correct=1)}else{let a=i[e].answers[n.length-1];a.is_correct&&(i[e].answers[0].is_correct=1),i[e].answers.pop()}}))}},F=()=>{if(p>0&&_.length>=p){o.alert({title:a.formatMessage({id:"limit_reached"}),message:a.formatMessage({id:"you_have_reached_maximum_number_allowed_question"})});return}let e=[],t=2;for(;e.length<(E||h);)0===e.length&&e.push({answer:"",is_correct:1,ordering:1}),e.push({answer:"",is_correct:0,ordering:t}),++t;S(t=>(0,d.ZP)(t,t=>{let n={answers:e,question:"",ordering:++z.current};t.push(n)}))},N=e=>{if(_.length<=Math.max(c,1)){o.alert({message:a.formatMessage({id:"you_must_have_min_question"},{value:c})});return}S(t=>(0,d.ZP)(t,t=>{if(e){let n=t.findIndex(t=>t.ordering===e);t.splice(n,1)}else t.pop()}))},B=(e,t,n)=>{S(e=>(0,d.ZP)(e,e=>{e[t].answers.forEach((e,t)=>{t===n?e.is_correct=1:e.is_correct=0})}))};v.useEffect(()=>{if(_.length<c)F();else{w(_);let e=_.map(e=>e.answers[e.answers.length-1].ordering);P.current=e}},[_]);let L=Boolean(C.error&&(C.touched||t.submitCount)),j=L&&f()(m()(C.error,"[0]"));return v.createElement("div",{className:I.question},null==_?void 0:_.map((e,i)=>v.createElement($,{index:i,key:e.ordering,maxLength:x,name:n,item:e,formik:t,disabled:y||r||t.isSubmitting,submitCount:t.submitCount,lastElement:i===_.length-1,handleChangeQuestion:A,handleChangeAnswer:R,addMoreQuestion:F,handleDeleteQuestion:()=>N(e.ordering),addMoreAnswer:()=>M(i),handleDeleteAnswer:e=>{W(i,e)},error:m()(C.error,`[${i}]`),handleChangeCorrectAnswer:B})),j&&v.createElement(O,null,v.createElement(g.Z,{error:C.error})),v.createElement("div",null,v.createElement(T,{className:I.button,variant:"outlined",color:"primary",disabled:y,onClick:F},v.createElement(l.zb,{icon:"ico-plus-circle-o"}),v.createElement(s.Z,{variant:"body1",sx:{fontWeight:"bold"}},a.formatMessage({id:"add_question"})))))};var F=W},82603:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return Z}});var i=n(85597),l=n(77029),r=n(27274),a=n(21822),o=n(17888),s=n(81719),u=n(18948),d=n(68929),c=n.n(d),m=n(73955),p=n.n(m),f=n(67294),v=n(90798),g=n(22410),h=n(73327),b=(0,g.Z)(e=>(0,h.Z)({root:{},item:{display:"flex",marginTop:e.spacing(1),fontSize:e.mixins.pxToRem(13),lineHeight:1.5},itemInfo:{display:"flex"}}),{name:"AttachmentField"});let y={width:2,position:"absolute",right:0,opacity:0},E=(0,s.ZP)(l.zb,{name:"AttachmentIcon"})(({theme:e})=>({paddingRight:e.spacing(.5),fontSize:e.mixins.pxToRem(15)})),x=(0,s.ZP)("div",{name:"AttachmentAction"})(({theme:e})=>({color:e.palette.primary.main,marginLeft:e.spacing(1.5),cursor:"pointer","&:hover":{textDecoration:"underline"}}));function Z({config:e,name:t,disabled:n,formik:s}){let{dialogBackend:d,i18n:m}=(0,i.OgA)(),[g,h,{setValue:Z}]=(0,u.U$)(null!=t?t:"rawFile"),{item_type:C,fullWidth:w=!0,margin:_="normal",size:k,max_upload_filesize:S,disabled:z,accept:P}=e,[I,A]=(0,f.useState)(g.value),R=b(),M=(0,f.useRef)(),$=e.placeholder||"Attach File";(0,f.useEffect)(()=>{Z(I)},[I]);let T=e=>{e.currentTarget.value=null},O=(0,f.useCallback)(()=>{d.confirm({message:m.formatMessage({id:"are_you_sure_you_want_to_delete_attachment_file"}),title:m.formatMessage({id:"are_you_sure"})}).then(e=>{e&&A(null)})},[]),W=(0,f.useCallback)(()=>{let e=M.current.files;if(0===e.length)return;let t={file_name:e.item(0).name,download_url:URL.createObjectURL(e.item(0)),file:e.item(0),key:p()("file"),fileItemType:C},n=t.file.size,i=t.file_name;if(n>S&&0!==S){d.alert({message:m.formatMessage({id:"warning_upload_limit_one_file"},{fileName:(0,r.TX)(i,30),fileSize:(0,r.jA)(t.file.size),maxSize:(0,r.jA)(S)})});return}t&&A(t)},[I]),F=(0,f.useCallback)(()=>{M.current.click()},[]);return f.createElement(o.Z,{fullWidth:w,margin:_,size:k,"data-testid":c()(`field ${t}`)},I?f.createElement("div",{className:R.item},f.createElement("div",{className:R.itemInfo},f.createElement(E,{icon:"ico-paperclip-alt"}),f.createElement("div",null,I.file_name)),f.createElement(x,{onClick:()=>O()},m.formatMessage({id:"remove"}))):f.createElement("div",null,f.createElement(a.Z,{variant:"outlined",size:"small",color:"primary","data-testid":c()(`button ${t}`),onClick:F,disabled:z||n||s.isSubmitting,startIcon:f.createElement(l.zb,{icon:"ico-paperclip-alt"})},$)),h.error&&f.createElement(v.Z,{error:h.error}),f.createElement("input",{onClick:T,"data-testid":c()(`input ${t}`),ref:M,style:y,accept:P,"aria-hidden":!0,type:"file",multiple:!1,onChange:W}))}},67969:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return m}});var i=n(85597),l=n(77029),r=n(17888),a=n(81719),o=n(18948),s=n(68929),u=n.n(s),d=n(67294);let c=(0,a.ZP)(l.zb,{name:"IconClearStyled"})(({theme:e})=>({marginRight:e.spacing(.5),cursor:"pointer"}));function m({config:{placeholder:e,size:t,margin:n="normal",fullWidth:a=!0,className:s,sx:m},name:p}){let{eventCenter:f}=(0,i.OgA)(),[v,,{setValue:g}]=(0,o.U$)(p),[h,b]=(0,d.useState)(v.value||""),{usePageParams:y}=(0,i.OgA)(),E=y();(0,d.useEffect)(()=>{(null==E?void 0:E.q)&&(b(null==E?void 0:E.q),g(null==E?void 0:E.q))},[E]),(0,d.useEffect)(()=>{f.dispatch("minimizeGlobalSearchForm",!0)});let x=d.useCallback(e=>{"Enter"===e.key&&(h?g(h.trim()):g(""),e.preventDefault())},[h]),Z=()=>{b(""),g("")};return d.createElement(r.Z,{size:t,margin:n,fullWidth:a,"data-testid":u()(`field ${p}`),sx:m},d.createElement(l.Rj,{name:"q",value:h,onChange:e=>b(e.target.value),placeholder:e,onKeyDown:x,endAdornment:h?d.createElement(c,{icon:"ico-close",onClick:Z}):null}))}},54397:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return b}});var i=n(30120),l=n(61394),r=n(78718),a=n.n(r),o=n(18446),s=n.n(o),u=n(57557),d=n.n(u),c=n(14176),m=n.n(c),p=n(67294),f=n(17563),v=n(96974),g=n(84635);function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function b({config:{excludeFields:e,label:t="Reset",align:n="right",...r},name:o,formik:u}){let c=(0,v.s0)(),{value:b}=(0,g.zK)(),y=d()({...b},e),E=d()({...u.values},e),x=a()({...u.values},e),Z=s()(y,m()(E,e=>!e)),C=p.useCallback(()=>{Z||c({search:f.stringify({...y,...x})},{replace:!0})},[y,Z,x]);return p.createElement(i.Z,h({sx:{textAlign:n}},r),p.createElement(l.Z,{color:"primary",component:"span",variant:"body2",onClick:C,disabled:Z},t))}},95797:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return g}});var i=n(30120),l=n(61394),r=n(17888),a=n(78718),o=n.n(a),s=n(57557),u=n.n(s),d=n(18446),c=n.n(d),m=n(68929),p=n.n(m),f=n(67294),v=n(84635);function g({config:{excludeFields:e,label:t="Reset",align:n="right",size:a,margin:s,fullWidth:d,sxFieldWrapper:m},name:g,formik:h}){let{value:b}=(0,v.zK)(),y=u()({...b},e),E=u()({...h.values},e),x=o()({...h.values},e),Z=c()(y,E),C=f.useCallback(()=>{Z||h.resetForm({values:{...x,...y}})},[Z,y,x]);return f.createElement(r.Z,{size:a,margin:s,fullWidth:d,"data-testid":p()(`field ${g}`),sx:m},f.createElement(i.Z,{sx:{textAlign:n},component:"span"},f.createElement(l.Z,{color:"primary",component:"button",variant:"body2",onClick:C,disabled:Z},t)))}},87830:function(e,t,n){"use strict";n.r(t);var i=n(27274),l=n(39348),r=n(30120),a=n(33483),o=n(17888),s=n(42853),u=n(22949),d=n(15949),c=n(18948),m=n(68929),p=n.n(m),f=n(27361),v=n.n(f),g=n(1469),h=n.n(g),b=n(96026),y=n.n(b),E=n(67294),x=n(81719);function Z(){return(Z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}let C=(0,x.ZP)("span")(({theme:e})=>({paddingLeft:e.spacing(1.5)})),w=({config:e,disabled:t,required:n,name:m,formik:f})=>{let[g,b,{setValue:x,setTouched:w}]=(0,c.U$)(null!=m?m:"SelectField"),{label:_,margin:k,disabled:S,fullWidth:z,hiddenLabel:P,required:I,variant:A,size:R,sx:M,sxFieldWrapper:$,description:T,defaultValue:O="",value_type:W,multiple:F=!1,autoComplete:N="off",options:B=[],subOptionPrefix:L=" â€¢ ",suboptions:j={},allowParent:q=!0,subOptionKey:D="options",labelProp:U="label",valueProp:V="value",relatedFieldName:H,optionRelatedMapping:Q,alwaysShow:G,disableClearable:K}=e,[X]=(0,c.U$)(null!=H?H:`${m}_child`),[Y,J]=E.useState([]),[ee,et]=E.useState([]);E.useEffect(()=>{if(H){if(Q){if(h()(null==X?void 0:X.value))return;et(Q[null==X?void 0:X.value]||[]);return}h()(null==X?void 0:X.value)?J(null==X?void 0:X.value):J([null==X?void 0:X.value])}},[H,null==X?void 0:X.value]);let en=!!(b.error&&(b.touched||f.submitCount)),ei=(0,d.D)({stringify:({label:e})=>`${e}`}),el=(e,t)=>v()(e,"value")==v()(t,"value"),er=E.useCallback((e,t)=>{let n=t.prefix?1:0;return(null==t?void 0:t.level)&&(n=(null==t?void 0:t.level)-1),E.createElement(r.Z,Z({component:"li"},e,{key:`${null==t?void 0:t.value}${null==t?void 0:t.label}`}),n?y()(0,n).map(()=>E.createElement(C,null)):"",t.label)},[]),ea=e=>{var t;return null!==(t=v()(e,"label"))&&void 0!==t?t:""},eo=E.useMemo(()=>{let e=[];return(h()(B)&&(e=ee.length&&Q?ee:B.filter(e=>!Y.includes(e.value))),h()(B))?(0,i.o2)(e,j,q,D,L,0,V,U):[]},[Q,ee,B,j,D,q,L,V,U,Y]),es=E.useMemo(()=>{let e={};return eo.forEach(t=>{e[t.value]=t}),e},[eo]),eu=e=>{h()(e)?x(e.map(e=>e.value)):x([])},ed=E.useCallback(e=>{if(e){let t=e.value;x("array"===W?[t]:t)}else x("array"===W?[]:null)},[]),ec=F?eu:ed,em=E.useMemo(()=>{if(F)return h()(g.value)?g.value.map(e=>es[e]).filter(e=>void 0!==e):[];{let e=h()(g.value)?g.value[0]:g.value;if(void 0!==e)return es[e]}},[g.value,F,es]);if(E.useEffect(()=>{void 0===em&&(null==g?void 0:g.value)&&H&&Q&&setTimeout(()=>{x(F?[]:"")},500)},[em,null==g?void 0:g.value]),!eo.length&&!G)return null;let ep=e=>{13===e.keyCode&&e.preventDefault()},ef=e=>{g.onBlur(e),w(!0)},ev=e=>{return E.createElement(u.Z,Z({},e,{label:_,variant:A,size:R,fullWidth:!0,onKeyDown:ep,error:en,required:I||n,inputProps:{...e.inputProps,"data-testid":p()(`input ${m}`),autoComplete:N},sx:M}))},eg=(e,t)=>{return e.map((e,n)=>{return E.createElement(a.Z,Z({},t({index:n}),{key:null==e?void 0:e.value,label:null==e?void 0:e.label}))})};return E.createElement(o.Z,{margin:null!=k?k:"normal",disabled:S,fullWidth:z,hiddenLabel:P,required:I||n,sx:$,error:en,size:R,variant:A,"data-testid":p()(`field ${m}`)},E.createElement(l.Z,{filterOptions:ei,disableClearable:K||I,openOnFocus:!0,value:null!=em?em:O,disabled:S||t||f.isSubmitting,defaultValue:eo[0],onChange:(e,t)=>ec(t),onBlur:ef,id:`select-${m}`,sx:M,isOptionEqualToValue:el,options:eo,getOptionDisabled:e=>e.disabled,multiple:F,getOptionLabel:ea,autoHighlight:!0,renderInput:ev,renderOption:er,renderTags:eg,ListboxProps:{"data-testid":p()(`menu ${m}`)},"data-testid":p()(`input ${m}`)}),T&&E.createElement(s.Z,{children:T}),en&&E.createElement(s.Z,null,null==b?void 0:b.error))};t.default=w},67239:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return C}});var i=n(85597),l=n(77029),r=n(27274),a=n(30120),o=n(21822),s=n(17888),u=n(84917),d=n(91647),c=n(81719),m=n(18948),p=n(68929),f=n.n(p),v=n(73955),g=n.n(v),h=n(67294),b=n(90798);let y=(0,c.ZP)(o.Z,{name:"DropButton",slot:"DropButton"})(({theme:e,isOver:t})=>({...t&&{backgroundColor:e.palette.action.hover}})),E=(0,c.ZP)("div",{name:"AudioUploaded"})(({theme:e})=>({display:"flex",fontSize:e.mixins.pxToRem(13),"& .ico-music-note-o":{fontSize:e.mixins.pxToRem(15)}})),x=(0,c.ZP)("div",{name:"DropzoneBox"})(({theme:e})=>({width:"fit-content"})),Z=(0,c.ZP)(u.Z,{name:"Label"})(({theme:e,haveError:t})=>({...t&&{color:e.palette.error.main}}));function C({name:e,config:t,disabled:n,formik:o}){var u,c;let{label:p="Select Audio",description:v,item_type:C,accept:w="audio/*",max_upload_filesize:_,upload_url:k,disabled:S,storage_id:z}=t,{dialogBackend:P,i18n:I}=(0,i.OgA)(),[A,R,{setValue:M}]=(0,m.U$)(null!=e?e:"ItemPhotoField"),[$,T]=h.useState(!1),O=(0,h.useRef)(),W=()=>{O.current.click()},F=()=>{T(!1),M(void 0)},N=e=>{let t={id:0,uid:g()("file"),source:URL.createObjectURL(e),file:e,file_name:e.name,file_type:e.type,file_size:e.size,fileItemType:C,upload_url:k,status:"create",storage_id:null!=z?z:null},n=t.file_size;if(n>(null==_?void 0:_.music)&&(null==_?void 0:_.music)){P.alert({message:I.formatMessage({id:"warning_upload_limit_one_file"},{fileName:(0,r.TX)(t.file_name,30),fileSize:(0,r.jA)(t.file_size),maxSize:(0,r.jA)(null==_?void 0:_.music)})});return}t&&(M(t),T(!0))},B=()=>{let e=O.current.files;e&&N(e.item(0))},L=e=>{if(!e)return;let t=e[0];N(t)},j=e=>{e.currentTarget.value=null},q=!!(R.error&&(R.touched||o.submitCount));return h.createElement(s.Z,{fullWidth:!0,margin:"normal","data-testid":f()(`field ${e}`)},h.createElement(Z,{haveError:q,required:!0,variant:"outlined",shrink:"true"},t.label),h.createElement(a.Z,{sx:{p:2,pt:2.5}},h.createElement(d.Z,{variant:"body2",color:"text.secondary",mb:1.5,component:"p"},$?I.formatMessage({id:"audio_file_selected"}):v),$?h.createElement(E,null,h.createElement(l.zb,{icon:"ico-music-note-o"}),h.createElement(a.Z,{ml:1,mr:1},(0,r.TX)(null===(u=A.value)||void 0===u?void 0:null===(c=u.file)||void 0===c?void 0:c.name,30)),h.createElement(d.Z,{variant:"body2",color:"primary",component:"span",role:"button",onClick:F},I.formatMessage({id:"remove"}))):h.createElement(x,null,h.createElement(l.Kb,{onDrop:e=>L(e),render:({canDrop:t,isOver:i})=>h.createElement(y,{onClick:W,size:"small",color:"primary",sx:{fontWeight:"bold"},isOver:i,variant:"outlined",disabled:S||n||o.isSubmitting,"data-testid":f()(`button ${e}`),startIcon:h.createElement(l.zb,{icon:"ico-upload"})},p)})),q?h.createElement(b.Z,{error:R.error}):null),h.createElement(l.yC,{haveError:q,children:t.label,variant:"outlined"}),h.createElement("input",{ref:O,onClick:j,className:"srOnly",type:"file","data-testid":f()(`input ${e}`),multiple:!1,accept:w,onChange:B}))}},74995:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return x}});var i=n(85597),l=n(77029),r=n(27274),a=n(30120),o=n(21822),s=n(17888),u=n(91647),d=n(81719),c=n(18948),m=n(68929),p=n.n(m),f=n(73955),v=n.n(f),g=n(67294),h=n(90798);let b=(0,d.ZP)(o.Z,{name:"DropButton",slot:"DropButton"})(({theme:e,isOver:t})=>({...t&&{backgroundColor:e.palette.action.hover}})),y=(0,d.ZP)("div",{name:"VideoUploaded"})(({theme:e})=>({display:"flex",fontSize:e.mixins.pxToRem(13),"& .ico-video":{fontSize:e.mixins.pxToRem(15)}})),E=(0,d.ZP)("div",{name:"DropzoneBox"})(({theme:e})=>({width:"fit-content"}));function x({name:e,config:t,disabled:n,formik:o}){var d,m;let{label:f="Select Video",description:x,item_type:Z,accept:C="video/*",max_upload_filesize:w,upload_url:_,disabled:k}=t,{dialogBackend:S,i18n:z}=(0,i.OgA)(),[P,I,{setValue:A}]=(0,c.U$)(null!=e?e:"ItemPhotoField"),[R,M]=g.useState(!1),$=(0,g.useRef)(),T=()=>{$.current.click()},O=()=>{M(!1),A(void 0)},W=e=>{let t={id:0,uid:v()("file"),source:URL.createObjectURL(e),file:e,file_name:e.name,file_type:e.type,file_size:e.size,fileItemType:Z,upload_url:_,status:"create"},n=t.file.size;if(n>w&&0!==w){S.alert({message:z.formatMessage({id:"warning_upload_limit_one_file"},{fileName:(0,r.TX)(t.file_name,30),fileSize:(0,r.jA)(t.file.size),maxSize:(0,r.jA)(w)})});return}t&&(A(t),M(!0))},F=()=>{let e=$.current.files;e&&W(e.item(0))},N=e=>{if(!e)return;let t=e[0];W(t)},B=e=>{e.currentTarget.value=null},L=!!(I.error&&(I.touched||o.submitCount));return g.createElement(s.Z,{fullWidth:!0,margin:"normal","data-testid":p()(`field ${e}`)},g.createElement(u.Z,{variant:"body2",color:"text.secondary",mb:1.5,component:"p"},R?z.formatMessage({id:"video_file_selected"}):x),R?g.createElement(y,null,g.createElement(l.zb,{icon:"ico-video"}),g.createElement(a.Z,{ml:1,mr:1},(0,r.TX)(null===(d=P.value)||void 0===d?void 0:null===(m=d.file)||void 0===m?void 0:m.name,30)),g.createElement(u.Z,{variant:"body2",color:"primary",component:"span",role:"button",onClick:O},z.formatMessage({id:"remove"}))):g.createElement(E,null,g.createElement(l.Kb,{onDrop:e=>N(e),render:({canDrop:t,isOver:i})=>g.createElement(b,{onClick:T,size:"small",color:"primary",sx:{fontWeight:"bold"},isOver:i,variant:"outlined",disabled:k||n||o.isSubmitting,"data-testid":p()(`button ${e}`),startIcon:g.createElement(l.zb,{icon:"ico-upload"})},f)})),L?g.createElement(h.Z,{error:I.error}):null,g.createElement("input",{ref:$,onClick:B,className:"srOnly",type:"file","data-testid":p()(`input ${e}`),multiple:!1,accept:C,onChange:F}))}},92001:function(e,t,n){"use strict";n.r(t);var i=n(27274),l=n(39348),r=n(30120),a=n(33483),o=n(17888),s=n(42853),u=n(22949),d=n(15949),c=n(18948),m=n(68929),p=n.n(m),f=n(27361),v=n.n(f),g=n(1469),h=n.n(g),b=n(96026),y=n.n(b),E=n(67294),x=n(81719),Z=n(85597);function C(){return(C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}let w=(0,x.ZP)("span")(({theme:e})=>({paddingLeft:e.spacing(1.5)})),_=({config:e,disabled:t,required:n,name:m,formik:f})=>{let{getSetting:g}=(0,Z.OgA)(),[b,x,{setValue:_,setTouched:k}]=(0,c.U$)(null!=m?m:"placement_id"),{label:S="Placement",margin:z,disabled:P,fullWidth:I,hiddenLabel:A,required:R=!0,variant:M="outlined",size:$,sx:T,sxFieldWrapper:O,description:W,defaultValue:F="",value_type:N,multiple:B=!1,autoComplete:L="off",options:j,subOptionPrefix:q=" â€¢ ",suboptions:D={},allowParent:U=!0,subOptionKey:V="options",labelProp:H="label",valueProp:Q="value",relatedFieldName:G,optionRelatedMapping:K,alwaysShow:X,disableClearable:Y}=e,[J]=(0,c.U$)(null!=G?G:`${m}_child`),[ee,et]=E.useState([]),[en,ei]=E.useState([]),el=g("advertise"),er=E.useMemo(()=>j||el.placements||[],[j,null==el?void 0:el.placements]);E.useEffect(()=>{if(G){if(K){if(h()(null==J?void 0:J.value))return;ei(K[null==J?void 0:J.value]||[]);return}h()(null==J?void 0:J.value)?et(null==J?void 0:J.value):et([null==J?void 0:J.value])}},[G,null==J?void 0:J.value]);let ea=!!(x.error&&(x.touched||f.submitCount)),eo=(0,d.D)({stringify:({label:e})=>`${e}`}),es=(e,t)=>v()(e,"value")==v()(t,"value"),eu=E.useCallback((e,t)=>{let n=t.prefix?1:0;return(null==t?void 0:t.level)&&(n=(null==t?void 0:t.level)-1),E.createElement(r.Z,C({component:"li"},e,{key:`${null==t?void 0:t.value}${null==t?void 0:t.label}`}),n?y()(0,n).map(()=>E.createElement(w,null)):"",t.label)},[]),ed=e=>{var t;return null!==(t=v()(e,"label"))&&void 0!==t?t:""},ec=E.useMemo(()=>{let e=[];return(h()(er)&&(e=en.length&&K?en:er.filter(e=>!ee.includes(e.value))),h()(er))?(0,i.o2)(e,D,U,V,q,0,Q,H):[]},[K,en,er,D,V,U,q,Q,H,ee]),em=E.useMemo(()=>{let e={};return ec.forEach(t=>{e[t.value]=t}),e},[ec]),ep=e=>{h()(e)?_(e.map(e=>e.value)):_([])},ef=E.useCallback(e=>{if(e){let t=e.value;_("array"===N?[t]:t)}else _("array"===N?[]:null)},[]),ev=B?ep:ef,eg=E.useMemo(()=>{if(B)return h()(b.value)?b.value.map(e=>em[e]).filter(e=>void 0!==e):[];{let e=h()(b.value)?b.value[0]:b.value;if(void 0!==e)return em[e]}},[b.value,B,em]);if(E.useEffect(()=>{void 0===eg&&(null==b?void 0:b.value)&&G&&K&&setTimeout(()=>{_(B?[]:"")},500)},[eg,null==b?void 0:b.value]),!ec.length&&!X)return null;let eh=e=>{13===e.keyCode&&e.preventDefault()},eb=e=>{b.onBlur(e),k(!0)},ey=e=>{return E.createElement(u.Z,C({},e,{label:S,variant:M,size:$,fullWidth:!0,onKeyDown:eh,error:ea,required:R||n,inputProps:{...e.inputProps,"data-testid":p()(`input ${m}`),autoComplete:L},sx:T}))},eE=(e,t)=>{return e.map((e,n)=>{return E.createElement(a.Z,C({},t({index:n}),{key:null==e?void 0:e.value,label:null==e?void 0:e.label}))})};return E.createElement(o.Z,{margin:null!=z?z:"normal",disabled:P,fullWidth:I,hiddenLabel:A,required:R||n,sx:O,error:ea,size:$,variant:M,"data-testid":p()(`field ${m}`)},E.createElement(l.Z,{filterOptions:eo,disableClearable:Y||R,openOnFocus:!0,value:null!=eg?eg:F,disabled:P||t||f.isSubmitting,defaultValue:ec[0],onChange:(e,t)=>ev(t),onBlur:eb,id:`select-${m}`,sx:T,isOptionEqualToValue:es,options:ec,getOptionDisabled:e=>e.disabled,multiple:B,getOptionLabel:ed,autoHighlight:!0,renderInput:ey,renderOption:eu,renderTags:eE,ListboxProps:{"data-testid":p()(`menu ${m}`)},"data-testid":p()(`input ${m}`)}),W&&E.createElement(s.Z,{children:W}),ea&&E.createElement(s.Z,null,null==x?void 0:x.error))};t.default=_},62273:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return g}});var i=n(17888),l=n(30120),r=n(81719),a=n(91647),o=n(68929),s=n.n(o),u=n(67294),d=n(85597),c=n(77029),m=n(18948),p=n(40684);let f=(0,p.ZP)({resolved:{},chunkName(){return"VideoPlayer"},isReady(e){let t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>n.e("VideoPlayer").then(n.bind(n,52845)),requireAsync(e){let t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then(e=>{return this.resolved[t]=!0,e})},requireSync(e){let t=this.resolve(e);return n(t)},resolve(){return null}}),v=(0,r.ZP)(l.Z)(({theme:e})=>({position:"relative",backgroundColor:"#333",color:"#fff",display:"flex",alignItems:"center",justifyContent:"center","&:before":{content:'""',display:"block",paddingBottom:"56.25%"}}));function g({config:{excludeFields:e,label:t="Reset",align:n="right",size:r,margin:o,fullWidth:p,sxFieldWrapper:g,streamKey:h},name:b,formik:y}){var E;let{firebaseBackend:x,i18n:Z}=(0,d.OgA)(),[,,{setValue:C}]=(0,m.U$)(null!=b?b:"MuxVideoField"),[w,_]=u.useState(),k=u.useRef(),S=x.getFirestore(),z=(0,d.zjB)(S,{collection:"live_video",docID:h});u.useEffect(()=>{_(z)},[z]),u.useEffect(()=>{C(null==w?void 0:w.status)},[w]);let P=["waiting","active"].includes(null==w?void 0:w.status);return u.createElement(i.Z,{size:r,margin:o,fullWidth:p,"data-testid":s()(`field ${b}`),sx:g},P?u.createElement(f,{playbackId:null==w?void 0:null===(E=w.playback)||void 0===E?void 0:E.playback_id,streamType:"on-demand",ref:k,style:{"--seek-backward-button":"none","--seek-forward-button":"none","--time-display":"none","--playback-rate-button":"none","--pip-button":"none"}}):u.createElement(v,null,u.createElement(a.Z,{variant:"body1",sx:{display:"flex",alignItems:"center",flexDirection:"column",justifyContent:"center",fontSize:"24px"}},u.createElement(c.zb,{icon:"ico-videocam",sx:{fontSize:40,mb:2}}),u.createElement(l.Z,{ml:1},Z.formatMessage({id:"connect_streaming_software_to_go_live"})))))}}}]);