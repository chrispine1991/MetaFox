"use strict";(self.webpackChunk_metafox_react=self.webpackChunk_metafox_react||[]).push([["metafox-saved-components-MenuItem-AddToCollection-AddToCollection"],{18037:function(e,t,l){l.d(t,{Z:function(){return k}});var a=l(63366),o=l(87462),n=l(67294),r=l(86010),i=l(94780),c=l(59711),d=l(91647),s=l(36622),m=l(81719),p=l(78884),u=l(1588),b=l(34867);function f(e){return(0,b.Z)("MuiFormControlLabel",e)}let g=(0,u.Z)("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error"]);var h=l(56594),v=l(85893);let Z=["checked","className","componentsProps","control","disabled","disableTypography","inputRef","label","labelPlacement","name","onChange","value"],C=e=>{let{classes:t,disabled:l,labelPlacement:a,error:o}=e,n={root:["root",l&&"disabled",`labelPlacement${(0,s.Z)(a)}`,o&&"error"],label:["label",l&&"disabled"]};return(0,i.Z)(n,f,t)},x=(0,m.ZP)("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:l}=e;return[{[`& .${g.label}`]:t.label},t.root,t[`labelPlacement${(0,s.Z)(l.labelPlacement)}`]]}})(({theme:e,ownerState:t})=>(0,o.Z)({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${g.disabled}`]:{cursor:"default"}},"start"===t.labelPlacement&&{flexDirection:"row-reverse",marginLeft:16,marginRight:-11},"top"===t.labelPlacement&&{flexDirection:"column-reverse",marginLeft:16},"bottom"===t.labelPlacement&&{flexDirection:"column",marginLeft:16},{[`& .${g.label}`]:{[`&.${g.disabled}`]:{color:(e.vars||e).palette.text.disabled}}})),y=n.forwardRef(function(e,t){let l=(0,p.Z)({props:e,name:"MuiFormControlLabel"}),{className:i,componentsProps:s={},control:m,disabled:u,disableTypography:b,label:f,labelPlacement:g="end"}=l,y=(0,a.Z)(l,Z),k=(0,c.Z)(),E=u;void 0===E&&void 0!==m.props.disabled&&(E=m.props.disabled),void 0===E&&k&&(E=k.disabled);let P={disabled:E};["checked","name","onChange","value","inputRef"].forEach(e=>{void 0===m.props[e]&&void 0!==l[e]&&(P[e]=l[e])});let T=(0,h.Z)({props:l,muiFormControl:k,states:["error"]}),w=(0,o.Z)({},l,{disabled:E,labelPlacement:g,error:T.error}),M=C(w),S=f;return null==S||S.type===d.Z||b||(S=(0,v.jsx)(d.Z,(0,o.Z)({component:"span",className:M.label},s.typography,{children:S}))),(0,v.jsxs)(x,(0,o.Z)({className:(0,r.default)(M.root,i),ownerState:w,ref:t},y,{children:[n.cloneElement(m,P),S]}))});var k=y},99114:function(e,t,l){l.r(t),l.d(t,{default:function(){return u}});var a=l(85597),o=l(21241),n=l(77029),r=l(30120),i=l(21822),c=l(35705),d=l(67294),s=l(86706),m=l(53691),p=l(75990);function u(e){let{identity:t}=e,l=(0,p.Z)(),{i18n:u,useFetchItems:b,dispatch:f}=(0,a.OgA)(),g=(0,s.v9)(e=>(0,a.AV9)(e,t)),{collection_ids:h}=g||{},[v,Z]=d.useState(h||[]),[C,x]=d.useState(!1),[y,k]=b({dataSource:{apiUrl:"/saveditems-collection"}}),E=()=>{f({type:"addSavedItemToNewCollection",payload:{identity:t}})},P=(e,l)=>{x(!0);let a=l?[...v,e]:v.filter(t=>t!==e);f({type:"addSavedItemToCollection",payload:{identity:t,ids:a,collection_id:e,isRemoved:!l},meta:{onSuccess:()=>{x(!1),Z(a)}}})};return d.createElement("div",{className:l.root},d.createElement("div",{className:l.heading},u.formatMessage({id:"add_to_collection"})),k?d.createElement(r.Z,{my:1,sx:{display:"flex",justifyContent:"center"}},d.createElement(c.Z,{color:"inherit",size:"1rem"})):d.createElement("div",null,y?d.createElement("div",{className:l.listCollection},d.createElement(o.l$,{autoHide:!0,autoHeight:!0,autoHeightMax:198},y.map(e=>d.createElement(m.Z,{item:e,identity:t,collection_ids:h,key:e.id.toString(),handleToggleItem:P,checked:v.some(t=>t===e.id),loading:C})))):d.createElement(r.Z,{m:2},u.formatMessage({id:"no_collections_found"}))),d.createElement(r.Z,{p:1},d.createElement(i.Z,{variant:"contained",size:"small",color:"primary",fullWidth:!0,onClick:E},d.createElement(n.zb,{icon:"ico-plus",sx:{mr:1,fontSize:15}}),u.formatMessage({id:"new_collection"}))))}},53691:function(e,t,l){l.d(t,{Z:function(){return i}});var a=l(49960),o=l(18037),n=l(67294),r=l(75990);function i(e){let{item:t,handleToggleItem:l,checked:i,loading:c}=e,d=(0,r.Z)(),[s,m]=n.useState(i),p=e=>{l(null==t?void 0:t.id,!s),m(e=>!e)};return(n.useEffect(()=>{m(i)},[i]),t)?n.createElement(o.Z,{className:d.itemWrapper,control:n.createElement(a.Z,{disabled:c,checked:s,onChange:p,color:"primary",size:"small"}),label:t.name}):null}},75990:function(e,t,l){var a=l(22410),o=l(73327);t.Z=(0,a.Z)(e=>{var t;return(0,o.Z)({root:{width:225},heading:{textTransform:"uppercase",color:e.palette.text.secondary,backgroundColor:e.palette.background.default,fontWeight:"bold",padding:e.spacing(1,1.5)},headingCollapse:{display:"flex",justifyContent:"space-between",alignItems:"center",cursor:"pointer"},listCollection:{display:"flex",flexDirection:"column",maxHeight:200,overflowY:"auto"},itemWrapper:{width:"100%",margin:"0 !important",padding:e.spacing(.5,1,.5,0),position:"relative","& + $itemWrapper:before":{content:'""',borderTop:"solid 1px",borderColor:null===(t=e.palette.border)||void 0===t?void 0:t.secondary,position:"absolute",top:0,left:e.spacing(2),right:e.spacing(2)}},createForm:{backgroundColor:e.palette.background.default,padding:e.spacing(2)},input:{"& .MuiInputBase-root":{borderRadius:4,backgroundColor:e.mixins.backgroundColor("paper"),height:e.spacing(4)}},actions:{marginTop:e.spacing(1),display:"flex","& button":{flex:1,minWidth:0},"& button + button":{marginLeft:e.spacing(1)}}})},{name:"MenuItemAddToCollection"})}}]);