"use strict";(self.webpackChunk_metafox_react=self.webpackChunk_metafox_react||[]).push([["metafox-emoji-components-StatusComposerAttachEmoji"],{51109:function(e,t,r){r.d(t,{Z:function(){return u}});var n=r(40684),o=r(85597),l=r(77029),i=r(25722),c=r(62937),a=r(67294);let s=(0,n.ZP)({resolved:{},chunkName(){return"EmojiPicker"},isReady(e){let t=this.resolve(e);return!0===this.resolved[t]&&!!r.m[t]},importAsync:()=>r.e("EmojiPicker").then(r.bind(r,14022)),requireAsync(e){let t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then(e=>{return this.resolved[t]=!0,e})},requireSync(e){let t=this.resolve(e);return r(t)},resolve(){return 14022}});function u({onEmojiClick:e,multiple:t=!0,disabled:r,scrollRef:n,scrollClose:u,placement:m="top",disablePortal:d=!1,label:f="insert_an_emoji",control:p}){let{i18n:h,useIsMobile:E}=(0,o.OgA)(),b=h.formatMessage({id:f}),[g,k]=a.useState(null),v=a.useRef(),[C,j]=a.useState(!1),x=E(),y=a.useCallback(()=>{j(!1)},[]),S=a.useCallback(e=>{j(e=>!e),k(g?null:e.currentTarget)},[]),Z=a.useCallback((r,n)=>{e&&e(r,n),t||j(!1)},[t,e]);return a.useEffect(()=>{if(C&&n&&n.current&&u){let e=()=>j(!1);return n.current.addEventListener("scroll",e),()=>{null==n||n.current.removeEventListener("scroll",e)}}},[C]),a.createElement(a.Fragment,null,a.createElement(l.Qn,{excludeRef:v,onClickAway:y},a.createElement(p,{onClick:S,disabled:r,title:b,"data-testid":"buttonAttachEmoji",icon:"ico-smile-o"})),a.createElement(c.Z,{ref:v,open:C,anchorEl:g,placement:x?"top-end":m,disablePortal:d,role:"presentation",sx:{zIndex:1300}},a.createElement(i.Z,{"data-testid":"dialogEmojiPicker",sx:{width:290,height:280,display:"flex",flexDirection:"column",bgcolor:"background.paper",paddingTop:1}},a.createElement(s,{onEmojiClick:Z}))))}},80862:function(e,t,r){r.r(t);var n=r(77029),o=r(50130),l=r(38790),i=r(67294),c=r(51109),a=r(23158);function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}let u=i.forwardRef(({onClick:e,title:t,icon:r},c)=>{return i.createElement(l.Z,{title:t},i.createElement(o.Z,{onClick:e,size:"small",ref:c,role:"button",sx:{p:.5,color:e=>{return"light"===e.palette.mode?"rgba(0, 0, 0, 0.54)":"#fff"}}},i.createElement(n.zb,{icon:r})))});t.default=i.memo(function(e){let t=t=>{let{editorState:r,onChange:n}=e.editorRef.current.props,o=(0,a.Z)(t,r);n(o)};return i.createElement(c.Z,s({size:"medium",multiple:!0,control:u,onEmojiClick:t,buttonStyle:{padding:4}},e))},()=>!0)},23158:function(e,t,r){r.d(t,{Z:function(){return o}});var n=r(9041);function o(e,t){let r=t.getCurrentContent(),o=t.getSelection(),l=n.Modifier.insertText(r,o,e),i=n.EditorState.push(t,l,"insert-characters");return n.EditorState.forceSelection(i,l.getSelectionAfter())}}}]);