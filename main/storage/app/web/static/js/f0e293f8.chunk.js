"use strict";(self.webpackChunk_metafox_react=self.webpackChunk_metafox_react||[]).push([["metafox-photo-blocks-AlbumDetail-Block"],{21420:function(e,t,a){a.r(t),a.d(t,{default:function(){return y}});var n=a(85597),o=a(93052),i=a(52254),l=a(84116),r=a(21241),s=a(89773),m=a(54726),c=a(77029),d=a(30120),p=a(91647),u=a(67294),g=a(22410),h=a(73327);let f=(0,g.Z)(e=>(0,h.Z)({root:{borderRadius:e.shape.borderRadius,maxWidth:720,width:720,margin:e.spacing("auto",-2),backgroundColor:e.palette.background.paper},albumContent:{padding:e.spacing(2),position:"relative"},category:{fontSize:e.mixins.pxToRem(13),color:e.palette.primary.main,marginBottom:e.spacing(1.5),display:"inline-block"},title:{color:e.palette.text.primary,fontSize:e.mixins.pxToRem(24),fontWeight:e.typography.fontWeightBold},albumContainer:{},info:{color:e.palette.text.primary,fontSize:e.mixins.pxToRem(15),padding:e.spacing(1,0),"& p":{margin:e.spacing(1.5,0)}},profileLink:{color:e.palette.text.primary,fontSize:e.mixins.pxToRem(15),fontWeight:e.typography.fontWeightBold},owner:{overflow:"hidden",padding:e.spacing(1.5,0),display:"flex",alignItems:"center",width:"100%"},ownerInfo:{overflow:"hidden",flexGrow:1},ownerAvatar:{float:"left",marginRight:e.spacing(2)},date:{fontSize:e.mixins.pxToRem(13),color:e.palette.text.secondary,paddingTop:e.spacing(.5)},listingActions:{display:"inline-flex",marginTop:e.spacing(1),marginBottom:e.spacing(.5),[e.breakpoints.down("xs")]:{display:"flex"}},actionMenu:{border:"1px solid",width:"40px",height:"40px",borderRadius:e.spacing(.5),display:"flex",alignItems:"center",color:e.palette.primary.main,justifyContent:"center"},listingHeader:{display:"flex",[e.breakpoints.down("xs")]:{display:"block"}},listingComment:{marginTop:e.spacing(2),[e.breakpoints.down("xs")]:{padding:e.spacing(0,2)}},hasPhotos:{marginBottom:e.spacing(2)},actionsDropdown:{position:"absolute",top:e.spacing(1),right:e.spacing(1)},iconButton:{fontSize:e.mixins.pxToRem(13)},dropdownButton:{padding:e.spacing(1),width:30,height:30,textAlign:"center"}}),{name:"MuiPhotoViewDetail"}),b=(0,n.Uh$)((0,o.Y)(function({item:e,user:t,identity:a,handleAction:o,state:g}){let h=f(),{jsxBackend:b,i18n:y,ItemActionMenu:x,useGetItem:v,usePageParams:w}=(0,n.OgA)(),E=b.get("photo.block.pinView"),{comment_id:k}=w(),_=(0,n.oHF)(s.T7,s.Gk,"getAlbumItems"),C=v(null==e?void 0:e.owner),{apiUrl:S,apiMethod:A}=_||{};if(!e)return null;let B=`photo-album/${e.id}`,N="/photo/albums",P=y.formatMessage({id:"all_albums"}),{is_featured:R,is_sponsor:T,name:z,text:M,extra:Z}=e;return C&&(null==C?void 0:C.resource_name)!=="user"&&(N=`${null==C?void 0:C.link}/photo?stab=albums`,P=y.formatMessage({id:"all_albums_from_name"},{name:(0,m.ZX)(C.resource_name)})),u.createElement(r.gO,{testid:`detailview ${e.resource_name}`},u.createElement(r.sU,null,u.createElement("div",{className:h.root},u.createElement("div",{className:h.albumContent},u.createElement("div",{className:h.actionsDropdown},u.createElement(x,{className:h.dropdownButton,identity:a,state:g,handleAction:o},u.createElement(c.zb,{icon:"ico-dottedmore-vertical-o",className:h.iconButton}))),u.createElement("div",{className:h.albumContainer},u.createElement(n.rUS,{to:N,color:"primary",children:P,className:h.category}),u.createElement(c.XQ,{variant:"h3",component:"div",showFull:!0},u.createElement(c.K6,{variant:"itemView",value:R}),u.createElement(c.k5,{variant:"itemView",value:T}),u.createElement(p.Z,{component:"h1",variant:"h3",sx:{display:{sm:"inline",xs:"block"},mt:{sm:0,xs:1},verticalAlign:"middle"}},z)),u.createElement("div",{className:h.owner},u.createElement("div",{className:h.ownerAvatar},u.createElement(c.Yt,{user:t,size:48})),u.createElement("div",{className:h.ownerInfo},u.createElement(n.rUS,{to:`/${t.user_name}`,children:t.full_name,hoverCard:`/user/${t.id}`,className:h.profileLink}),u.createElement(c.Ee,{sx:{color:"text.secondary",mt:.5}},u.createElement(c.r2,{"data-testid":"creationDate",value:e.creation_date,format:"MMMM DD, yyyy"}),u.createElement(c.Cd,{value:null==e?void 0:e.privacy,item:null==e?void 0:e.privacy_detail})))),M&&u.createElement("div",{className:h.info},u.createElement(c.oA,{truncateProps:{variant:"body1",lines:5}},u.createElement(l.ZP,{html:M})))),u.createElement(i.Z,{identity:a,handleAction:o,borderBottom:!0,hideListComment:!k})),u.createElement(d.Z,{pb:2},u.createElement(E,{title:"",numColumns:3,pagingId:B,dataSource:{apiUrl:S,apiMethod:A,apiParams:"sort=latest"},contentType:"photo_album",gridContainerProps:{spacing:1},emptyPage:"photo.block.EmptyPhotoAlbum",emptyPageProps:{isVisible:null==Z?void 0:Z.can_upload_media}})))))},o.c,{tags:!0,categories:!0}));var y=(0,n.j4Z)({extendBlock:b,defaults:{blockProps:{variant:"plained",titleComponent:"h2",titleVariant:"subtitle1",titleColor:"textPrimary",noFooter:!0,noHeader:!0,blockStyle:{},contentStyle:{borderRadius:"base"},headerStyle:{},footerStyle:{}}}})}}]);