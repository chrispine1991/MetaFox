"use strict";(self.webpackChunk_metafox_react=self.webpackChunk_metafox_react||[]).push([["metafox-chat-components-ChatPopover-ChatPopover"],{52666:function(e,t,a){a.r(t),a.d(t,{default:function(){return E}});var n=a(28629),o=a(85597),r=a(21241),l=a(77029),i=a(30120),c=a(21822),s=a(25722),p=a(62937),d=a(81719),u=a(91647),m=a(67294);function g(){return(g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}let h=(0,d.ZP)("div")(({theme:e})=>({cursor:"pointer","&:hover":{textDecoration:"underline"}})),f=(0,d.ZP)(c.Z)(({theme:e})=>({color:"dark"===e.palette.mode?e.palette.text.primary:e.palette.grey["700"],fontSize:e.spacing(2.25),minWidth:e.spacing(0)})),y=(0,d.ZP)("div")(({theme:e})=>({display:"flex",alignItems:"flex-end"})),P=(0,d.ZP)(i.Z,{shouldForwardProp:e=>"noContent"!==e})(({theme:e,noContent:t})=>{var a;return{padding:e.spacing(1.5,2),display:"flex",alignItems:"center",justifyContent:"space-between",...!t&&{borderBottom:"1px solid",borderColor:null===(a=e.palette.border)||void 0===a?void 0:a.secondary}}}),C=(0,d.ZP)(i.Z)(({theme:e})=>({padding:e.spacing(1,2),display:"flex",alignItems:"center",justifyContent:"center",color:e.palette.text.primary})),v=(0,d.ZP)("div")(({theme:e})=>({padding:e.spacing(1,1,1,2),display:"flex",alignItems:"center"}));function E({anchorRef:e,open:t,closePopover:a,...i}){let{i18n:c,dispatch:d,ListView:E,jsxBackend:x}=(0,o.OgA)(),[b,w]=m.useState(!1),[Z,k]=m.useState(""),M=x.get("ui.searchBox"),[S]=m.useState({apiUrl:"/chat-room",apiParams:"limit=50"});m.useEffect(()=>{return()=>{t&&d({type:"chatplus/buddyPanel/clearSearching"})}},[]);let _=m.useCallback(()=>{d({type:"chat/openRoomPanel",payload:n.U_}),a&&a()},[]),I=m.useCallback(()=>{d({type:"chat/navigateMessagesPage"})},[]),O=e=>{k(e)};return m.createElement(p.Z,g({id:"notification","data-testid":"notifications",anchorEl:e.current,open:t},i),m.createElement(s.Z,{sx:{width:360,overflow:"hidden",userSelect:"none"}},m.createElement(P,null,m.createElement(y,null,m.createElement(u.Z,{variant:"h4"},c.formatMessage({id:"messages"}))),m.createElement(h,null,m.createElement(f,{onClick:_},m.createElement(l.zb,{icon:"ico-compose"})))),m.createElement(v,null,b?m.createElement(f,{onClick:()=>w(!1)},m.createElement(l.zb,{icon:"ico-arrow-left"})):null,m.createElement(M,{placeholder:c.formatMessage({id:"search_people"}),value:Z,onQueryChange:O,onFocus:()=>w(!0),sx:{width:"100%"}})),m.createElement(r.l$,{autoHide:!0,autoHeight:!0,autoHeightMax:320,autoHeightMin:40},m.createElement(E,{acceptQuerySearch:!0,query:Z,dataSource:S,pagingId:"pagination.messagesPopper.listRooms",canLoadMore:!0,clearDataOnUnMount:!0,gridContainerProps:{rowSpacing:.5},gridLayout:"ChatRoom - Main Card - Popper",itemLayout:"ChatRoom - Main Card - Popper",itemView:"blocked.itemView.chatroomCard",emptyPage:"core.block.no_content",emptyPageProps:{title:"no_messages",contentStyle:{sx:{marginTop:"16px"}}}})),m.createElement(C,null,m.createElement(h,null,m.createElement(u.Z,{variant:"body1",onClick:I},c.formatMessage({id:"view_all_messages"}))))))}}}]);