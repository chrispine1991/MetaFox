(self.webpackChunk_metafox_react=self.webpackChunk_metafox_react||[]).push([["metafox-chatplus-components-FlyBuddyPanel-Block","metafox-chatplus-components-Avatar"],{6867:function(e,t,r){"use strict";r.d(t,{Z:function(){return R}});var a=r(63366),o=r(87462),n=r(67294),i=r(86010),l=r(2097),s=r(94780),c=r(1588),d=r(34867);function p(e){return(0,d.Z)("MuiBadge",e)}(0,c.Z)("MuiBadge",["root","badge","invisible"]);var u=r(34261),g=r(85893);let m=["badgeContent","component","children","invisible","max","slotProps","slots","showZero"],h=e=>{let{invisible:t}=e;return(0,s.Z)({root:["root"],badge:["badge",t&&"invisible"]},p,void 0)},b=n.forwardRef(function(e,t){let{component:r,children:n,max:i=99,slotProps:s={},slots:c={},showZero:d=!1}=e,p=(0,a.Z)(e,m),{badgeContent:b,max:f,displayValue:v,invisible:x}=function(e){let{badgeContent:t,invisible:r=!1,max:a=99,showZero:o=!1}=e,n=(0,l.Z)({badgeContent:t,max:a}),i=r;!1!==r||0!==t||o||(i=!0);let{badgeContent:s,max:c=a}=i?n:e,d=s&&Number(s)>c?`${c}+`:s;return{badgeContent:s,invisible:i,max:c,displayValue:d}}((0,o.Z)({},e,{max:i})),y=(0,o.Z)({},e,{badgeContent:b,invisible:x,max:f,showZero:d}),Z=h(y),w=r||c.root||"span",P=(0,u.Z)({elementType:w,externalSlotProps:s.root,externalForwardedProps:p,additionalProps:{ref:t},ownerState:y,className:Z.root}),k=c.badge||"span",C=(0,u.Z)({elementType:k,externalSlotProps:s.badge,ownerState:y,className:Z.badge});return(0,g.jsxs)(w,(0,o.Z)({},P,{children:[n,(0,g.jsx)(k,(0,o.Z)({},C,{children:v}))]}))});var f=r(81719),v=r(78884),x=r(69633),y=r(36622);function Z(e){return(0,d.Z)("MuiBadge",e)}let w=(0,c.Z)("MuiBadge",["root","badge","dot","standard","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft","invisible","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","overlapRectangular","overlapCircular","anchorOriginTopLeftCircular","anchorOriginTopLeftRectangular","anchorOriginTopRightCircular","anchorOriginTopRightRectangular","anchorOriginBottomLeftCircular","anchorOriginBottomLeftRectangular","anchorOriginBottomRightCircular","anchorOriginBottomRightRectangular"]),P=["anchorOrigin","className","component","components","componentsProps","overlap","color","invisible","max","badgeContent","slots","slotProps","showZero","variant"],k=e=>{let{color:t,anchorOrigin:r,invisible:a,overlap:o,variant:n,classes:i={}}=e,l={root:["root"],badge:["badge",n,a&&"invisible",`anchorOrigin${(0,y.Z)(r.vertical)}${(0,y.Z)(r.horizontal)}`,`anchorOrigin${(0,y.Z)(r.vertical)}${(0,y.Z)(r.horizontal)}${(0,y.Z)(o)}`,`overlap${(0,y.Z)(o)}`,"default"!==t&&`color${(0,y.Z)(t)}`]};return(0,s.Z)(l,Z,i)},C=(0,f.ZP)("span",{name:"MuiBadge",slot:"Root",overridesResolver:(e,t)=>t.root})({position:"relative",display:"inline-flex",verticalAlign:"middle",flexShrink:0}),O=(0,f.ZP)("span",{name:"MuiBadge",slot:"Badge",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[t.badge,t[r.variant],t[`anchorOrigin${(0,y.Z)(r.anchorOrigin.vertical)}${(0,y.Z)(r.anchorOrigin.horizontal)}${(0,y.Z)(r.overlap)}`],"default"!==r.color&&t[`color${(0,y.Z)(r.color)}`],r.invisible&&t.invisible]}})(({theme:e,ownerState:t})=>(0,o.Z)({display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignContent:"center",alignItems:"center",position:"absolute",boxSizing:"border-box",fontFamily:e.typography.fontFamily,fontWeight:e.typography.fontWeightMedium,fontSize:e.typography.pxToRem(12),minWidth:20,lineHeight:1,padding:"0 6px",height:20,borderRadius:10,zIndex:1,transition:e.transitions.create("transform",{easing:e.transitions.easing.easeInOut,duration:e.transitions.duration.enteringScreen})},"default"!==t.color&&{backgroundColor:(e.vars||e).palette[t.color].main,color:(e.vars||e).palette[t.color].contrastText},"dot"===t.variant&&{borderRadius:4,height:8,minWidth:8,padding:0},"top"===t.anchorOrigin.vertical&&"right"===t.anchorOrigin.horizontal&&"rectangular"===t.overlap&&{top:0,right:0,transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${w.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}},"bottom"===t.anchorOrigin.vertical&&"right"===t.anchorOrigin.horizontal&&"rectangular"===t.overlap&&{bottom:0,right:0,transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${w.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}},"top"===t.anchorOrigin.vertical&&"left"===t.anchorOrigin.horizontal&&"rectangular"===t.overlap&&{top:0,left:0,transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${w.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}},"bottom"===t.anchorOrigin.vertical&&"left"===t.anchorOrigin.horizontal&&"rectangular"===t.overlap&&{bottom:0,left:0,transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${w.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}},"top"===t.anchorOrigin.vertical&&"right"===t.anchorOrigin.horizontal&&"circular"===t.overlap&&{top:"14%",right:"14%",transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${w.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}},"bottom"===t.anchorOrigin.vertical&&"right"===t.anchorOrigin.horizontal&&"circular"===t.overlap&&{bottom:"14%",right:"14%",transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${w.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}},"top"===t.anchorOrigin.vertical&&"left"===t.anchorOrigin.horizontal&&"circular"===t.overlap&&{top:"14%",left:"14%",transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${w.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}},"bottom"===t.anchorOrigin.vertical&&"left"===t.anchorOrigin.horizontal&&"circular"===t.overlap&&{bottom:"14%",left:"14%",transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${w.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}},t.invisible&&{transition:e.transitions.create("transform",{easing:e.transitions.easing.easeInOut,duration:e.transitions.duration.leavingScreen})})),E=n.forwardRef(function(e,t){var r,n,s,c,d,p;let u;let m=(0,v.Z)({props:e,name:"MuiBadge"}),{anchorOrigin:h={vertical:"top",horizontal:"right"},className:f,component:y="span",components:Z={},componentsProps:w={},overlap:E="rectangular",color:R="default",invisible:S=!1,max:_,badgeContent:z,slots:M,slotProps:$,showZero:I=!1,variant:B="standard"}=m,T=(0,a.Z)(m,P),A=(0,l.Z)({anchorOrigin:h,color:R,overlap:E,variant:B}),F=S;!1!==S||(0!==z||I)&&(null!=z||"dot"===B)||(F=!0);let{color:D=R,overlap:H=E,anchorOrigin:N=h,variant:W=B}=F?A:m,L=(0,o.Z)({},m,{anchorOrigin:N,invisible:F,color:D,overlap:H,variant:W}),j=k(L);"dot"!==W&&(u=z&&Number(z)>_?`${_}+`:z);let U=null!=(r=null!=(n=null==M?void 0:M.root)?n:Z.Root)?r:C,V=null!=(s=null!=(c=null==M?void 0:M.badge)?c:Z.Badge)?s:O,K=null!=(d=null==$?void 0:$.root)?d:w.root,G=null!=(p=null==$?void 0:$.badge)?p:w.badge;return(0,g.jsx)(b,(0,o.Z)({invisible:S,badgeContent:u,showZero:I,max:_},T,{slots:{root:U,badge:V},className:(0,i.default)(null==K?void 0:K.className,j.root,f),slotProps:{root:(0,o.Z)({},K,(0,x.Z)(U)&&{as:y,ownerState:(0,o.Z)({},null==K?void 0:K.ownerState,{anchorOrigin:N,color:D,overlap:H,variant:W})}),badge:(0,o.Z)({},G,{className:(0,i.default)(j.badge,null==G?void 0:G.className)},(0,x.Z)(V)&&{ownerState:(0,o.Z)({},null==G?void 0:G.ownerState,{anchorOrigin:N,color:D,overlap:H,variant:W})})},ref:t}))});var R=E},69633:function(e,t,r){"use strict";var a=r(28442);let o=e=>{return!e||!(0,a.Z)(e)};t.Z=o},70735:function(e,t,r){var a=r(20731),o=r(21078),n=r(67206),i=r(5976),l=r(29246),s=r(10928),c=i(function(e,t){var r=s(t);return l(r)&&(r=void 0),l(e)?a(e,o(t,1,l,!0),n(r,2)):[]});e.exports=c},30998:function(e,t,r){var a=r(41848),o=r(67206),n=r(40554),i=Math.max;e.exports=function(e,t,r){var l=null==e?0:e.length;if(!l)return -1;var s=null==r?0:n(r);return s<0&&(s=i(l+s,0)),a(e,o(t,3),s)}},16651:function(){},91259:function(){},69709:function(e,t,r){"use strict";r.r(t);var a=r(85597),o=r(27274),n=r(7961),i=r(6867),l=r(81719),s=r(62097),c=r(67294),d=r(93836),p=r(42977),u=r(17563);let g=(0,l.ZP)(n.Z,{name:"AvatarWrapper"})(({theme:e})=>({borderWidth:"thin",borderStyle:"solid",borderColor:e.palette.border.secondary})),m=(0,l.ZP)(a.rUS,{name:"Link"})(({theme:e})=>({"&:hover":{textDecoration:"none"}})),h=(0,l.ZP)(i.Z,{shouldForwardProp:e=>"status"!==e})(({theme:e,status:t})=>({"& .MuiBadge-badge":{...0===t&&{display:"none"},...1===t&&{color:e.palette.success.main,backgroundColor:e.palette.success.main},...2===t&&{color:e.palette.warning.main,backgroundColor:e.palette.warning.main},...3===t&&{color:e.palette.error.main,backgroundColor:e.palette.error.main},boxShadow:"dark"===e.palette.mode?"none":`0 0 0 2px ${e.palette.background.paper}`,"&::after":{position:"absolute",top:0,left:0,width:"100%",height:"100%",borderRadius:"50%",animation:"ripple 1.2s infinite ease-in-out",border:"1px solid currentColor",content:'""'}}})),b=(0,l.ZP)("div",{shouldForwardProp:e=>"sizeProps"!==e})(({theme:e,sizeProps:t})=>({position:"relative",width:"32px",height:"32px",...t&&{width:t,height:t}})),f=(0,l.ZP)(n.Z,{shouldForwardProp:e=>"sizeProps"!==e})(({theme:e,sizeProps:t})=>({position:"absolute",bottom:0,left:0,width:"26px",height:"26px",backgroundColor:"dark"===e.palette.mode?e.palette.grey["600"]:e.palette.grey["300"],borderWidth:1,borderStyle:"solid",borderColor:"light"===e.palette.mode?e.palette.grey["50"]:e.palette.grey["800"],zIndex:2,...t&&{width:t-6,height:t-6}})),v=(0,l.ZP)(n.Z,{shouldForwardProp:e=>"sizeProps"!==e})(({theme:e,sizeProps:t})=>({position:"relative",top:-2,left:6,width:"26px",height:"26px",...t&&{width:`${t-6}px !important`,height:`${t-6}px !important`}}));t.default=(0,c.memo)(function({username:e="Name",name:t="Name",src:r,size:i,to:l,onClick:x,status:y=0,room:Z,uploadLocal:w=!1,roomType:P=null,avatarETag:k,hoverCard:C=!1,component:O="span",target:E="_self"}){var R,S;let{getSetting:_}=(0,a.OgA)(),z=(0,s.Z)(),M=P||(null==Z?void 0:Z.t),$=(0,o.vK)(t),I={width:i,height:i,color:z.palette.grey["50"],fontSize:i/3},B=_("chatplus"),T=null==B?void 0:null===(R=B.server)||void 0===R?void 0:R.replace(/\/$/,""),A=r;if(A||(A=k?`${T}/avatar/${e}?${u.stringify({etag:k})}`:""),$&&(I.backgroundColor=o.kU.hex($)),l)return c.createElement(m,{target:E,to:l||`/${e}`},c.createElement(g,{src:A,alt:t,style:I,component:O,children:$}));if([d.n.Private,d.n.Public].includes(M)){if(w)return c.createElement(g,{src:A,alt:t,style:I,component:O,children:$});if(null==Z?void 0:Z.avatarETag)return A=`${T}/avatar/room/${null==Z?void 0:Z.id}?${u.stringify({etag:null==Z?void 0:Z.avatarETag})}`,c.createElement(g,{src:A,alt:t,style:I,component:O,children:$});{let F=`${T}/avatar/${null==Z?void 0:null===(S=Z.u)||void 0===S?void 0:S.username}`;return c.createElement(b,{sizeProps:i},c.createElement(f,{sizeProps:i,src:F,alt:t,component:O,children:$}),c.createElement(v,{sizeProps:i,src:A,alt:t,style:I,component:O,children:$}))}}if(M===d.n.Direct&&y){let D=(0,p.xW)(y);return c.createElement(h,{overlap:"circular",anchorOrigin:{vertical:"bottom",horizontal:"right"},variant:"dot",status:D},c.createElement(n.Z,{src:A,alt:t,style:I,component:O,children:$,hoverCard:C}))}return c.createElement(g,{src:A,alt:t,style:I,component:O,children:$,onClick:x,to:e,hoverCard:C})})},94767:function(e,t,r){"use strict";r.d(t,{zj:function(){return p},jH:function(){return x},BB:function(){return R}});var a=r(77029),o=r(30120),n=r(21822),i=r(81719),l=r(67294);let s=(0,i.ZP)("div",{name:"ChatDockFilter"})(({theme:e})=>({position:"relative"})),c=(0,i.ZP)(o.Z,{name:"ChatDockFilter"})(({theme:e})=>({padding:e.spacing(1,2,1,2),display:"flex",flexDirection:"row",alignItems:"center"})),d=(0,i.ZP)(n.Z,{name:"ChatDockFilter"})(({theme:e})=>({marginLeft:e.spacing(.5)}));function p({placeholder:e,size:t,hide:r=!1,label:o,disabled:n,valueSearch:i,onChangeSearch:p,onKeyUp:u,onSubmit:g,variant:m="direct",isShowButtonSubmit:h=!0,sx:b}){return r?null:l.createElement(s,null,l.createElement(c,{sx:b},l.createElement(a.Rj,{placeholder:e,onKeyUp:u,value:i,onChange:p}),h&&g?l.createElement(d,{disabled:n,size:"medium",color:"primary",variant:"text",onClick:g},o):null))}r(39312);var u=r(93836),g=r(85597);r(21241),r(70735),r(69709);let m="AddNewMembers",h=((0,i.ZP)("div")(({theme:e})=>({padding:e.spacing(0,1,0,2)})),(0,i.ZP)("div",{shouldForwardProp:e=>"users"!==e})(({theme:e,users:t})=>({...t&&{padding:e.spacing(0,1,1,2)},listStyle:"none",display:"flex",alignItems:"center",flexWrap:"wrap"})),(0,i.ZP)("li")(({theme:e})=>({margin:e.spacing(.5)})),(0,i.ZP)("div")(({theme:e})=>({padding:e.spacing(1.75,0),display:"flex",alignItems:"center",cursor:"pointer"})),(0,i.ZP)("span")(({theme:e})=>({...e.typography.h5,marginLeft:e.spacing(1)})),(0,i.ZP)("div",{name:m,slot:"RootSearch"})(({theme:e})=>({})),(0,i.ZP)("div",{name:m,slot:"SearchControl"})(({theme:e})=>({padding:e.spacing(0,1,0,2),display:"flex",flexDirection:"row",alignItems:"center"})),(0,i.ZP)(n.Z,{name:m,slot:"ButtonCustom"})(({theme:e})=>({marginLeft:e.spacing(.5)})),(0,i.ZP)("input",{name:m,slot:"InputWrapper"})(({theme:e})=>({zIndex:"auto",backgroundColor:e.mixins.backgroundColor("paper"),color:"dark"===e.palette.mode?e.palette.grey["50"]:e.palette.grey["700"],height:"35px",borderRadius:"2px",fontSize:"14px",padding:"8px",paddingLeft:"12px",paddingRight:"72px",display:"block",width:"100%",margin:"0",border:e.mixins.border("secondary"),"&:focus":{borderColor:"#a2a2a2",boxShadow:"0 1px 4px 0 rgba(0,0,0,0.1)",outline:"none"},"&::placeholder":{fontSize:"14px"}})),(0,i.ZP)("div",{name:"ChatDockContent",slot:"root",shouldForwardProp:e=>"searching"!==e&&"collapsed"!==e})(({theme:e,searching:t,collapsed:r})=>({flex:1,maxHeight:"100%",position:"relative",paddingBottom:e.spacing(.75),...t&&{borderTop:"none"},...r&&{display:"none"},"&::-webkit-scrollbar":{height:"5px",width:"5px",background:"gray",borderRadius:e.spacing(.5),transition:"opacity 200ms"},"&::-webkit-scrollbar-track":{borderRadius:e.spacing(.5),background:"light"===e.palette.mode?"white":e.palette.grey["300"]},"&::-webkit-scrollbar-thumb":{background:e.palette.grey["600"],borderRadius:e.spacing(.5)},"&::-webkit-scrollbar-thumb:hover":{background:e.palette.grey["700"]},"&::-webkit-scrollbar-thumb:horizontal":{background:"#000",borderRadius:"10px"}})),"ChatDockFooter"),b=(0,i.ZP)("div",{name:h,slot:"root",shouldForwardProp:e=>"isAllPageMessages"!==e})(({theme:e,isAllPageMessages:t})=>({position:"relative",display:"flex",minHeight:e.spacing(5),zIndex:2,backgroundColor:e.palette.background.paper,borderTop:e.mixins.border("secondary"),...t&&{minHeight:e.spacing(6)}})),f=(0,i.ZP)("div",{name:h,slot:"uiChatRoomFooter",shouldForwardProp:e=>"disable"!==e&&"isAllPageMessages"!==e})(({theme:e,disable:t,isAllPageMessages:r})=>({position:"relative",borderTop:e.mixins.border("secondary"),display:"flex",alignItems:"flex-end",minHeight:e.spacing(5),zIndex:2,flexFlow:"wrap",justifyContent:"center",...t&&{userSelect:"none",backgroundColor:"dark"===e.palette.mode?e.palette.grey["700"]:e.palette.background.paper},...r&&{minHeight:e.spacing(6)}})),v=(0,i.ZP)("div",{name:h,slot:"uiChatComposerContainer"})(({theme:e})=>({textAlign:"center",display:"flex",alignItems:"center",justifyContent:"center",height:"100%",padding:"4px 8px",color:e.palette.grey["500"]}));function x({children:e,archived:t,isReadOnly:r,isMuted:a,searching:o,isBlocked:n,reactMode:i,allowMsgNoOne:s}){let{i18n:c,usePageParams:d}=(0,g.OgA)(),p=d(),u=(null==p?void 0:p.isAllPageMessages)||!1;return o?null:t?l.createElement(f,{disable:!0,isAllPageMessages:u},l.createElement(v,null,c.formatMessage({id:"this_group_is_archived"}))):r?l.createElement(f,{disable:!0,isAllPageMessages:u},l.createElement(v,null,c.formatMessage({id:"this_group_is_readonly"}))):a?l.createElement(f,{disable:!0,isAllPageMessages:u},l.createElement(v,null,c.formatMessage({id:"you_have_been_muted_in_this_group"}))):n||s&&"edit"!==i?l.createElement(f,{disable:!0,isAllPageMessages:u},l.createElement(v,null,c.formatMessage({id:"you_can_not_send_message_in_this_conversation"}))):l.createElement(b,{isAllPageMessages:u},e)}(0,i.ZP)("div",{shouldForwardProp:e=>"searching"!==e&&"addNewMembers"!==e})(({theme:e,searching:t,addNewMembers:r})=>({display:"flex",alignItems:"center",minHeight:e.spacing(7),padding:e.spacing(1.5,1.25,1.5,2),borderBottom:e.mixins.border("secondary"),...(t||r)&&{borderBottom:"none"}}));let y="ChatDockPanel";(0,i.ZP)("div",{name:y,slot:"Root"})(({theme:e})=>({display:"flex",alignItems:"flex-end",marginLeft:e.spacing(2),width:"328px",zIndex:999})),(0,i.ZP)("div",{name:y,slot:"PanelStyled"})(({theme:e})=>({display:"flex",flexDirection:"column",zIndex:10,backgroundColor:e.mixins.backgroundColor("paper"),borderTopLeftRadius:"4px",borderTopRightRadius:"4px",boxShadow:"0 0 4px 0 rgba(0,0,0,0.2)",wordBreak:"break-word",wordWrap:"break-word",borderStartStartRadius:e.spacing(1),borderStartEndRadius:e.spacing(1),height:"455px",maxHeight:"calc(100vh - 60px)"})),(0,i.ZP)("div",{name:y,slot:"StageStyled"})(({theme:e})=>({width:"100%"})),r(42963),r(23279);var Z=r(22410),w=r(73327);(0,Z.Z)(e=>(0,w.Z)({optionLabel:{width:"32px",height:"32px",display:"inline-flex",alignItems:"center",justifyContent:"center",margin:"0",color:"#a2a2a2"},optionChecked:{color:e.palette.primary.main},optionInput:{display:"none"},optionIcon:{display:"inline-flex",alignItems:"center",marginTop:"1px",height:"14px",marginRight:"4px"}}),{name:"ChatDockSearchFilter"}),(0,i.ZP)("div")(({theme:e})=>({})),(0,i.ZP)("div")(({theme:e})=>({display:"inline-flex"})),(0,i.ZP)("label",{shouldForwardProp:e=>"id"!==e})(({theme:e,id:t})=>({cursor:"pointer",..."close"===t&&{"& span.ico":{"&:hover":{background:e.palette.action.selected,width:e.spacing(2.8),height:e.spacing(2.8),display:"flex",justifyContent:"center",alignItems:"center",borderRadius:"40px"}}}})),(0,i.ZP)(o.Z,{name:"SearchBox",slot:"Root"})(({theme:e})=>({margin:e.spacing(0,2,1,2),height:e.spacing(5),borderRadius:e.spacing(2.5),display:"flex",alignItems:"center",backgroundColor:e.palette.action.hover})),r(42977);var P=r(6867);r(81763),(0,i.ZP)("div")(({theme:e})=>({flex:1,fontWeight:"bold",display:"block",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"})),(0,i.ZP)("span",{shouldForwardProp:e=>"status"!==e})(({theme:e,status:t})=>({fontSize:e.mixins.pxToRem(13),color:e.palette.text.primary,lineHeight:e.spacing(2.375),...t===u.d.Offline&&{color:e.palette.text.secondary}})),(0,i.ZP)("span",{shouldForwardProp:e=>"variant"!==e})(({theme:e,variant:t,type:r})=>({...e.typography.subtitle1,fontSize:"15px",lineHeight:e.spacing(2.375),...r===u.n.Direct&&{":hover":{cursor:"pointer",textDecoration:"underline"}},..."new_message"===t&&{fontSize:e.typography.pxToRem(18),":hover":{cursor:"auto",textDecoration:"none"}}})),(0,i.ZP)(P.Z,{shouldForwardProp:e=>"status"!==e})(({theme:e,status:t})=>({margin:e.spacing(0,1,0,.5),"& .MuiBadge-badge":{...1===t&&{color:e.palette.success.main,backgroundColor:e.palette.success.main},...2===t&&{color:e.palette.warning.main,backgroundColor:e.palette.warning.main},...3===t&&{color:e.palette.error.main,backgroundColor:e.palette.error.main},"&::after":{position:"absolute",top:0,left:0,width:"100%",height:"100%",borderRadius:"50%",animation:"ripple 1.2s infinite ease-in-out",border:"1px solid currentColor",content:'""'}}})),(0,i.ZP)("div",{name:"DockPanelTitle"})(({theme:e})=>({display:"flex",alignItems:"center",marginTop:e.spacing(.25)}));var k=r(30998),C=r.n(k),O=(0,Z.Z)(e=>(0,w.Z)({root:{display:"flex",padding:"0",margin:"0",listStyle:"none"},item:{position:"relative",lineHeight:"34px",padding:"0",margin:"0",".panelHeader &":{height:"30px",width:"30px",marginLeft:e.spacing(.5)},".panelHeader &:hover button":{color:e.palette.text.secondary,backgroundColor:e.palette.action.selected,borderRadius:"50%"}},btn:{height:"34px",lineHeight:"20px",fontSize:"17px",padding:"0 6px",cursor:"pointer",color:"light"===e.palette.mode?e.palette.grey["600"]:e.palette.text.secondary,position:"relative",minWidth:e.spacing(3),display:"inline-flex",textAlign:"center",alignItems:"center",justifyContent:"center",border:"none",outline:"none",backgroundColor:"transparent",".panelHeader &":{height:"30px",width:"30px"}},itemActive:{},btnActive:{color:e.palette.primary.main}}),{name:"ChatDockToolbar"});let E=(0,i.ZP)("div",{name:"ToolbarChat",slot:"root",shouldForwardProp:e=>"variant"!==e})(({theme:e,variant:t})=>({display:"flex",padding:"0",margin:"0",listStyle:"none","& .MuiActionMenu-menu":"roomPanel"===t&&{overflow:"auto",maxHeight:"200px","&::-webkit-scrollbar":{height:"6px",width:"6px",background:"transparent",borderRadius:"3px",transition:"opacity 200ms"},"&::-webkit-scrollbar-track":{margin:e.spacing(.5,0),borderRadius:"3px"},"&::-webkit-scrollbar-thumb":{backgroundColor:"rgba(0,0,0,.2)",borderRadius:"3px"},"&::-webkit-scrollbar-thumb:horizontal":{background:"#000",borderRadius:"10px"}},..."pageMessage"===t&&{"& .MuiListItem-root .ico":{fontSize:e.mixins.pxToRem(13)}}}));function R({items:e,displayLimit:t=4,variant:r=null,handleAction:o,popperOptions:n}){var i,s,c;let d=O();if(!Array.isArray(e))return null;if("roomPanel"===r){let p=t-2,u=C()(e,{testid:"startVoiceCall"}),g=C()(e,{testid:"startVideoChat"});p=t-2-(u>-1?0:1)-(g>-1?0:1);let m=e.filter((e,t)=>{return t<p||e.behavior}),h=C()(m,{behavior:"more"});if(h>-1){if(null===(i=m[h].items)||void 0===i?void 0:i.length)m[h].as="dropdown";else{let b=e.filter((e,t)=>t>p-1&&!e.behavior);m[h]={...m[h],items:b,as:"dropdown"}}}return l.createElement(E,{variant:r},l.createElement(a.sd,{items:m,prefixName:"chatplusToolbar.item.",fallbackName:"button",classes:d,handleAction:o,popperOptions:n}))}if("pageMessage"===r){let f=e.filter((e,t)=>{return e.behavior}),v=C()(f,{behavior:"more"});if(v>-1){if(null===(s=f[v].items)||void 0===s?void 0:s.length)f[v].as="dropdown";else{let x=e.filter((e,t)=>!e.behavior);f[v]={...f[v],items:x,as:"dropdown"}}}return l.createElement(E,{variant:r},l.createElement(a.sd,{items:f,prefixName:"chatplusToolbar.item.",fallbackName:"button",classes:d,handleAction:o,variant:r,popperOptions:n}))}let y=e.filter((e,r)=>r<t-1||e.behavior),Z=C()(y,{behavior:"more"});if(Z>-1){if(null===(c=y[Z].items)||void 0===c?void 0:c.length)y[Z].as="dropdown";else{let w=e.filter((e,r)=>r>t-2&&!e.behavior);y[Z]={...y[Z],items:w,as:"dropdown"}}}return l.createElement(E,null,l.createElement(a.sd,{items:y,prefixName:"chatplusToolbar.item.",fallbackName:"button",classes:d,handleAction:o,popperOptions:n}))}},12280:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return R}});var a=r(85597),o=r(80036),n=r(21241),i=r(77029),l=r(81719),s=r(30120),c=r(67294),d=r(86706);r(16651),r(91259);var p=r(94767),u=r(93836),g=r(42977),m=r(6867),h=r(69709);let b=(0,l.ZP)("div")(({theme:e})=>({display:"flex",alignItems:"center",justifyContent:"space-between",color:"#555555",fontSize:"14px",cursor:"pointer",padding:e.spacing(1.5,1),"&:hover":{borderRadius:e.spacing(1),background:"dark"===e.palette.mode?e.palette.grey["600"]:e.palette.grey["100"]}})),f=(0,l.ZP)("div")(({theme:e})=>({display:"flex",alignItems:"center",width:"calc(100% - 25px)"})),v=(0,l.ZP)("div")(({theme:e})=>({marginRight:e.spacing(1)})),x=(0,l.ZP)(s.Z)(({theme:e})=>({color:e.palette.text.primary,overflow:"hidden"})),y=(0,l.ZP)(m.Z,{shouldForwardProp:e=>"status"!==e})(({theme:e,status:t})=>({marginRight:e.spacing(1.5),"& .MuiBadge-badge":{...1===t&&{color:e.palette.success.main,backgroundColor:e.palette.success.main},...2===t&&{color:e.palette.warning.main,backgroundColor:e.palette.warning.main},...3===t&&{color:e.palette.error.main,backgroundColor:e.palette.error.main},"&::after":{position:"absolute",top:0,left:0,width:"100%",height:"100%",borderRadius:"50%",animation:"ripple 1.2s infinite ease-in-out",border:"1px solid currentColor",content:'""'}}}));function Z({item:e}){let{dispatch:t}=(0,a.OgA)(),r=c.useCallback(()=>{return t({type:"chatplus/room/createChatRoomFromDirectMessage",payload:{type:"username",identity:null==e?void 0:e.username,skipPrivacyCheck:!1}})},[]),o=(null==e?void 0:e.status)||0,n=(0,g.xW)(o);return c.createElement(b,{onClick:r},c.createElement(f,null,c.createElement(v,null,c.createElement(h.default,{name:null==e?void 0:e.name,username:null==e?void 0:e.username,size:32,roomType:u.n.Direct,avatarETag:null==e?void 0:e.avatarETag,hoverCard:`/user/${null==e?void 0:e.metafoxUserId}`,component:a.QVN})),c.createElement(x,null,c.createElement(i.Ys,{lines:1,variant:"h5"},c.createElement(a.rUS,{children:e.name,hoverCard:`/user/${null==e?void 0:e.metafoxUserId}`,underline:"none",color:"inherit"})))),n?c.createElement(y,{overlap:"circular",anchorOrigin:{vertical:"bottom",horizontal:"right"},variant:"dot",status:n}):null)}let w=(0,l.ZP)("div")(({theme:e})=>({})),P=(0,l.ZP)("div")(({theme:e})=>({padding:e.spacing(3,0),fontSize:e.spacing(1.875),lineHeight:e.spacing(2.5),color:e.palette.grey["600"],textAlign:"center"}));var k=function({data:e,searchValue:t}){let{i18n:r}=(0,a.OgA)();return t&&!e.length?c.createElement(P,null,r.formatMessage({id:"no_results_found"})):e.length?c.createElement(w,null,e.map(e=>c.createElement(Z,{item:e,key:e._id}))):c.createElement(P,null,r.formatMessage({id:"no_online_friends"}))};let C=(0,l.ZP)("div",{name:"InputSearch"})(({theme:e})=>({padding:e.spacing(2,1,1,1)})),O=(0,l.ZP)("div",{name:"SearchControl"})(({theme:e})=>({display:"flex",flexDirection:"row"})),E=(0,a.j4Z)({name:"ChatplusContactsBlock",extendBlock:function({title:e,themeId:t}){let{i18n:r,useActionControl:l,getSetting:u,useLoggedIn:g}=(0,a.OgA)(),m=u("chatplus"),h=g(),[b,f]=c.useState(""),[v]=l(null,{}),x=(0,d.v9)(e=>(0,o.O8)(e,b)),y=e=>{e&&e.target&&f(e.target.value)};return h&&m&&m.server?c.createElement(n.gO,null,c.createElement(n.ti,null,c.createElement(n.bi,null,r.formatMessage({id:e})),c.createElement(s.Z,null,c.createElement(p.BB,{items:[{label:"create_new_group",icon:"ico-user2-three-o",value:"closeMenu, chatplus/room/newGroup",testid:"createChatRoom",showWhen:["or",["truthy","perms.create-p"],["truthy","perms.create-c"]]},{label:"new_conversation",icon:"ico-compose",value:"closeMenu, chatplus/buddyPanel/createChatRoomFromDock",testid:"createChatRoomFromDock",showWhen:["truthy","perms.create-p"]},{label:"more_options",icon:"ico-dottedmore-o",testid:"more",disablePortal:!1,behavior:"more",items:[{label:"online",icon:"ico-circle",color:"success",value:"closeMenu, chatplus/setUserStatus:online",testid:"status_online",name:"status_user",item_name:"online"},{label:"away",icon:"ico-circle",color:"warning",value:"closeMenu, chatplus/setUserStatus:away",testid:"status_away",name:"status_user",item_name:"away"},{label:"busy",icon:"ico-circle",color:"danger",value:"closeMenu, chatplus/setUserStatus:busy",testid:"status_busy",name:"status_user",item_name:"busy"},{label:"invisible",icon:"ico-circle",color:"gray",value:"closeMenu, chatplus/setUserStatus:offline",testid:"status_offline",name:"status_user",item_name:"offline"},{as:"divider",testid:"status_divider"},{label:"settings",icon:"ico-gear-o",value:"closeMenu, chatplus/editUserPreferences",testid:"editUserPreferences"}]}],handleAction:v,popperOptions:{strategy:"fixed"}}))),c.createElement(n.sU,{style:{height:"100%"}},c.createElement(n.l$,{autoHeightMax:"100%",autoHide:!0,autoHeight:!0},c.createElement(s.Z,null,c.createElement(C,null,c.createElement(O,null,c.createElement(i.Rj,{placeholder:r.formatMessage({id:"search_friends"}),value:b,onChange:y,style:{height:"35px"}}))),c.createElement(k,{data:x,searchValue:b}))))):null},defaults:{title:"online_friends",blockLayout:"Blocker Contacts ChatPlus",showWhen:["truthy","setting.chatplus.server"]}});var R=E}}]);