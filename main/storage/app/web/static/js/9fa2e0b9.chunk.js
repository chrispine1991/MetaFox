(self.webpackChunk_metafox_react=self.webpackChunk_metafox_react||[]).push([["metafox-photo-blocks-PhotoDetailMobile-Block"],{36128:function(e,t,o){var a=o(20731),i=o(21078),n=o(45652);e.exports=function(e,t,o){var r=e.length;if(r<2)return r?n(e[0]):[];for(var l=-1,d=Array(r);++l<r;)for(var s=e[l],p=-1;++p<r;)p!=l&&(d[l]=a(d[l]||s,e[p],t,o));return n(i(d,1),t,o)}},26726:function(e,t,o){var a=o(34963),i=o(67206),n=o(5976),r=o(36128),l=o(29246),d=o(10928),s=n(function(e){var t=d(e);return l(t)&&(t=void 0),r(a(e,l),i(t,2))});e.exports=s},81087:function(e,t,o){"use strict";o.r(t),o.d(t,{default:function(){return w}});var a=o(85597),i=o(70114),n=o(84116),r=o(21241),l=o(77029),d=o(30120),s=o(44373),p=o(81719),c=o(86010),m=o(26726),g=o.n(m),u=o(67294),h=o(22410),x=o(73327);let f=(0,h.Z)(e=>(0,x.Z)({root:{padding:0,paddingTop:"0 !important",borderRadius:e.shape.borderRadius,maxWidth:1200,margin:"auto",[e.breakpoints.down("xs")]:{flexFlow:"column"}},imageContainer:{display:"flex",alignItems:"center",backgroundColor:"#000",justifyContent:"center",position:"relative",flexGrow:1,borderRadius:`${e.shape.borderRadius}px 0 0 ${e.shape.borderRadius}px `,[e.breakpoints.down("sm")]:{borderRadius:"0"}},fullScreenView:{position:"fixed",left:0,right:0,top:0,bottom:0,zIndex:99},image:{maxWidth:"720px",float:"left"},statistic:{width:"480px",[e.breakpoints.down("md")]:{width:"35%"},[e.breakpoints.down("sm")]:{width:"45%"},[e.breakpoints.down("xs")]:{width:"100%",float:"none"}},nextPhoto:{position:"absolute",right:e.spacing(2),top:"50%",color:"#fff",fontSize:e.mixins.pxToRem(13),backgroundColor:"rgba(0,0,0,0.4)",width:"32px",height:"32px",borderRadius:"32px",minWidth:"32px",zIndex:1,display:"flex",alignItems:"center",justifyContent:"center","&:hover":{backgroundColor:"rgba(0,0,0,0.8)"}},prevPhoto:{position:"absolute",left:e.spacing(2),top:"50%",color:"#fff",fontSize:e.mixins.pxToRem(13),backgroundColor:"rgba(0,0,0,0.4)",width:"32px",height:"32px",borderRadius:"32px",minWidth:"32px",zIndex:1,display:"flex",alignItems:"center",justifyContent:"center","&:hover":{backgroundColor:"rgba(0,0,0,0.8)"}},actionBar:{position:"absolute",right:0,padding:e.spacing(1),display:"flex",justifyContent:"flex-end",zIndex:1,bottom:0},tagFriend:{color:"#fff",minWidth:"32px",height:"32px",margin:e.spacing(0,1)},dropDown:{color:"#fff",minWidth:"32px",height:"32px"},imageBox:{position:"relative",maxWidth:"100%"},taggedFriend:{position:"absolute",backgroundColor:"rgba(0,0,0,.8)",borderRadius:e.shape.borderRadius,padding:e.spacing(.5,1)},tagLink:{color:"#fff",fontSize:e.mixins.pxToRem(13),fontWeight:e.typography.fontWeightBold},taggedBox:{position:"absolute",left:0,right:0,top:0,bottom:0},tagBox:{width:"100px",height:"100px",border:"2px solid",borderColor:e.palette.background.paper,boxShadow:e.shadows[20],position:"absolute"},tagFriendBox:{cursor:"pointer"},suggestFriend:{backgroundColor:e.mixins.backgroundColor("paper"),marginTop:"110px",marginLeft:"-70px",border:e.mixins.border("secondary"),borderRadius:e.shape.borderRadius,"&  .MuiFilledInput-root":{background:"none"}},smallAvatar:{width:"32px",height:"32px",marginRight:e.spacing(1)},header:{display:"flex",flexDirection:"row",marginBottom:e.spacing(2),padding:e.spacing(0,2)},headerInfo:{padding:"4px 0",flex:1},headerAvatarHolder:{paddingRight:e.spacing(1.5)},profileLink:{fontWeight:e.typography.fontWeightBold,paddingRight:e.spacing(.5),color:e.palette.text.primary},privacyBlock:{display:"flex",flexDirection:"row",alignItems:"center",color:e.palette.text.secondary},separateSpans:{display:"flex",alignItems:"center","& span + span:before":{content:'"\xb7"',display:"inline-block",padding:`${e.spacing(0,.5)}`}},photoReaction:{padding:e.spacing(0,2)},photoDescription:{padding:e.spacing(2),fontSize:e.mixins.pxToRem(15),color:e.palette.text.primary},commentCompose:{backgroundColor:e.palette.background.paper,padding:e.spacing(0,2)},info:{fontSize:e.mixins.pxToRem(15),color:e.palette.text.primary,padding:e.spacing(2)}}),{name:"MuiPhotoViewDetail"}),b="PhotoDetailMobile",v=(0,p.ZP)("div",{name:b,slot:"HeaderItemAlbum"})(({theme:e})=>({display:"flex",flexDirection:"column",padding:e.spacing(0,0,2,2)})),y=(0,p.ZP)("div",{name:b,slot:"AlbumNameWrapper"})(({theme:e})=>({"& .ico.ico-photos-o":{fontSize:e.mixins.pxToRem(18),marginRight:e.spacing(1)},display:"flex",alignItems:"center"})),k=(0,p.ZP)("div",{name:b,slot:"AlbumName"})(({theme:e})=>({fontSize:e.mixins.pxToRem(15)})),E=(0,a.Uh$)((0,i.Y)(function({item:e,actions:t,handleAction:o,state:i,user:p,blockProps:m,onNextClick:h,onPrevClick:x,nextUrl:b,prevUrl:E}){let w=f(),{jsxBackend:C,ItemDetailInteraction:R,ItemActionMenu:S,useGetItem:z,useGetItems:P,i18n:I}=(0,a.OgA)(),[N,A]=u.useState([]),[T,B]=u.useState(!1),W=z(null==e?void 0:e.album),_=P(null==e?void 0:e.categories);if(!e)return null;let F=C.get("photo.itemView.modalCard"),Z=`photo.entities.photo.${e.id}`,D=g()([],N,"id"),$=e=>{A(t=>[...t,e])},M=e=>{A(t=>{let o=g()(t,[{id:e}],"id");return o})},L=e=>{B(e)};return u.createElement(r.gO,{testid:`detailview ${e.resource_name}`},u.createElement(r.sU,null,u.createElement("div",{className:w.root},u.createElement(v,null,W?u.createElement(u.Fragment,null,u.createElement(y,null,u.createElement(l.zb,{icon:" ico-photos-o"}),u.createElement(k,null,I.formatMessage({id:"from_album_name"},{name:u.createElement(a.rUS,{to:null==W?void 0:W.link},null==W?void 0:W.name)}))),u.createElement(d.Z,{sx:{pt:2}},u.createElement(s.Z,null))):null,u.createElement(l.ot,{to:"photo"===e.resource_name?"/photo/category":"/video/category",data:_,sx:{pt:2,mb:{sm:1,xs:0},textTransform:"capitalize"},displayLimit:2})),u.createElement("div",{className:w.header},u.createElement("div",{className:w.headerAvatarHolder},u.createElement(l.Yt,{user:p,size:48})),u.createElement("div",{className:w.headerInfo},u.createElement("div",null,u.createElement(a.rUS,{to:`/${p.user_name}`,children:p.full_name,hoverCard:`/user/${p.id}`,className:w.profileLink})),u.createElement("div",{className:w.privacyBlock},u.createElement("span",{className:w.separateSpans},u.createElement(l.Cd,{value:e.privacy,item:null==e?void 0:e.privacy_detail}),u.createElement(l.Lt,{value:e.creation_date})))),u.createElement(S,{identity:Z,state:i,handleAction:o})),u.createElement("div",{className:(0,c.default)(w.imageContainer,{[w.fullScreenView]:T})},u.createElement("div",null,b?u.createElement("div",{className:w.nextPhoto,onClick:()=>h()},u.createElement(l.zb,{icon:"ico-angle-right"})):null,E?u.createElement("div",{className:w.prevPhoto,onClick:()=>x()},u.createElement(l.zb,{icon:"ico-angle-left"})):null),u.createElement(F,{item:e,identity:Z,suggestions:D,taggedFriends:N,onAddPhotoTag:$,onRemovePhotoTag:M,imageHeightAuto:!0,hideActionMenu:!0,enablePhotoTags:!0,onMinimizePhoto:L})),e.description?u.createElement("div",{className:w.info},u.createElement(n.ZP,{html:e.description})):null,u.createElement("div",{className:w.photoReaction},u.createElement(R,{identity:Z,handleAction:o})))))},i.c,{tags:!0,categories:!0}));var w=(0,a.j4Z)({extendBlock:E,defaults:{placeholder:"Search",blockProps:{variant:"plained",titleComponent:"h2",titleVariant:"subtitle1",titleColor:"textPrimary",noFooter:!0,noHeader:!0,blockStyle:{},contentStyle:{bgColor:"paper",pt:2,pb:2},headerStyle:{},footerStyle:{}}}})}}]);