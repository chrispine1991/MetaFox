"use strict";(self.webpackChunk_metafox_react=self.webpackChunk_metafox_react||[]).push([["metafox-user-blocks-ProfileHeader-Block"],{46060:function(e,t,a){a.d(t,{sU:function(){return r.Z},zp:function(){return i.Z}}),a(26830),a(36611);var r=a(83273),i=a(43115)},46714:function(e,t,a){a.r(t),a.d(t,{default:function(){return P}});var r=a(85597),i=a(44279),n=a(84116),l=a(21241),o=a(77029),s=a(27274),c=a(30120),m=a(21822),d=a(81719),p=a(38790),u=a(67294),g=a(46060),f=a(91647),h=a(1469),v=a.n(h);let b=({isOwner:e})=>{let{usePageParams:t,i18n:a}=(0,r.OgA)(),i=t(),n=(0,r.oHF)("activitypoint","activitypoint","getStatistic"),[l]=(0,g.zp)({dataSource:n,pageParams:i});if(!n||!l)return null;let{items:s}=Object.assign({},l),m=v()(s)&&s[0];return m?e?u.createElement(c.Z,{display:"flex",color:"border.primary",alignItems:"center"},u.createElement(o.zb,{icon:"ico-star-circle-o",sx:{pr:.5}}),u.createElement(r.rUS,{to:"activitypoint"},u.createElement(c.Z,{display:"flex",color:"border.primary",alignItems:"center"},a.formatMessage({id:"activity_point_summary"},{value:()=>{return u.createElement(f.Z,{sx:{pl:.5},variant:"h6"},null==m?void 0:m.value)}})))):u.createElement(c.Z,{display:"flex",color:"border.primary",alignItems:"center"},u.createElement(o.zb,{icon:"ico-star-circle-o",sx:{pr:.5}}),a.formatMessage({id:"activity_point_summary"},{value:()=>{return u.createElement(f.Z,{sx:{pl:.5},variant:"h6"},null==m?void 0:m.value)}})):null};var x=a(71682),E=a(22410),w=a(73327),y=(0,E.Z)(e=>(0,w.Z)({profileUserWrapper:{padding:e.spacing(2),background:e.palette.background.paper,borderBottom:e.mixins.border("secondary"),[e.breakpoints.down("sm")]:{"& $userInfo":{flexWrap:"wrap"},"& $avatarWrapper":{marginTop:e.spacing(-8)},"& $avatar":{width:90,height:90},"& $name":{minWidth:"100%",marginLeft:0}}},userInfo:{display:"flex"},avatarWrapper:{marginTop:e.spacing(-12.5),padding:e.spacing(.5),borderRadius:"999px",background:e.palette.background.paper},avatar:{width:160,height:160,borderRadius:"999px",background:e.palette.background.default},name:{marginLeft:e.spacing(3),flex:1,minWidth:0},menu:{background:e.palette.background.paper,borderBottomLeftRadius:e.shape.borderRadius,borderBottomRightRadius:e.shape.borderRadius,height:e.spacing(7.5),display:"flex",alignItems:"center","& .MuiSkeleton-root":{padding:e.spacing(2),marginLeft:e.spacing(2)}}}),{name:"UserProfileHeaderSkeleton"});function k(){let e=y();return u.createElement(o.W2,{maxWidth:"md",disableGutters:!0},u.createElement(x.Z,{variant:"rectangular",sx:{height:{sm:320,xs:179}},animation:!1}),u.createElement("div",{className:e.profileUserWrapper},u.createElement("div",{className:e.userInfo},u.createElement("div",{className:e.avatarWrapper},u.createElement("div",{className:e.avatar})),u.createElement("div",{className:e.name},u.createElement(x.Z,{variant:"text",width:200,height:32}),u.createElement(x.Z,{variant:"text",width:"70%"}),u.createElement(x.Z,{variant:"text",width:"50%"})))),u.createElement("div",{className:e.menu},u.createElement(x.Z,{variant:"button",width:100,height:20}),u.createElement(x.Z,{variant:"button",width:100,height:20}),u.createElement(x.Z,{variant:"button",width:100,height:20}),u.createElement(x.Z,{variant:"button",width:100,height:20}),u.createElement(x.Z,{variant:"button",width:100,height:20}),u.createElement(x.Z,{variant:"button",width:100,height:20})))}var Z=(0,E.Z)(e=>{var t;return(0,w.Z)({root:{},imgWraper:{height:300,overflow:"hidden"},wrapper:{display:"block"},coverPhotoWrapper:{display:"block",height:320,overflow:"hidden",position:"relative"},coverPhotoInner:{display:"block",position:"absolute",left:0,top:0,right:0,bottom:0,"& img":{position:"relative",width:"100%",objectFit:"cover"}},userInfoContainer:{backgroundColor:e.mixins.backgroundColor("paper"),[e.breakpoints.down("sm")]:{flexFlow:"column",width:"100%",alignItems:"center"}},userInfo:{[e.breakpoints.down("sm")]:{flexFlow:"column",width:"100%",alignItems:"center",marginBottom:e.spacing(2)}},wrapperButtonInline:{display:"flex",justifyContent:" center",alignItems:"stretch","& button":{marginLeft:e.spacing(1),textTransform:"capitalize",fontWeight:"bold",whiteSpace:"nowrap",borderRadius:e.spacing(.5),fontSize:e.mixins.pxToRem(13),padding:e.spacing(.5,1.25),marginBottom:e.spacing(1),minWidth:e.spacing(4),height:e.spacing(4),"& .ico":{fontSize:e.mixins.pxToRem(13)}},[e.breakpoints.down("sm")]:{flexFlow:"row wrap",padding:e.spacing(.5,0),flexDirection:"column","& button":{marginLeft:0,marginRight:e.spacing(1)}}},profileActionMenu:{padding:`${e.spacing(.5,1.25)} !important`,minWidth:e.spacing(4),height:e.spacing(4)},title:{fontWeight:"bold",fontSize:e.mixins.pxToRem(24),color:e.palette.text.primary,margin:0,padding:0},summary:{},avatarWrapper:{marginTop:"-96px",marginRight:e.spacing(3),position:"relative",[e.breakpoints.down("sm")]:{marginRight:0}},userAvatar:{width:"164px",height:"164px",border:"2px solid",borderColor:e.palette.background.paper},profileUserWrapper:{},wrapperMenu:{backgroundColor:e.mixins.backgroundColor("paper"),display:"flex",paddingTop:e.spacing(1),borderTop:"solid 1px",borderTopColor:null===(t=e.palette.border)||void 0===t?void 0:t.secondary,borderBottomLeftRadius:8,borderBottomRightRadius:8,height:e.spacing(7.75),"& .MuiProfileMenu-tabItem":{padding:e.spacing(2)}},profileMenu:{flex:1,minWidth:0},profileHeaderContainer:{}})},{name:"UserProfileHeader"});let W=(0,d.ZP)("div",{name:"ItemSummary"})(({theme:e})=>({color:e.palette.text.secondary,fontSize:e.mixins.pxToRem(15),paddingTop:e.spacing(1),paddingRight:e.spacing(2),[e.breakpoints.down("sm")]:{paddingRight:0}})),I=(0,d.ZP)(o.zb,{name:"FeaturedIcon"})(({theme:e})=>({color:e.palette.primary.main,marginLeft:e.spacing(2)})),_=(0,d.ZP)("div",{name:"UserStickyWrapper"})(({theme:e})=>({position:"relative",left:16,transition:"all .2s","& a":{borderWidth:"thin",borderStyle:"solid",borderColor:e.palette.border.secondary}})),R=(0,d.ZP)("div",{name:"ProfileMenuStyled",shouldForwardProp:e=>"sticky"!==e})(({theme:e,sticky:t})=>({flex:1,minWidth:0,transition:"all .2s",...t&&{marginLeft:e.spacing(2.5),transition:"all .2s"}})),C=({item:e,identity:t,profileMenu:a,profileActionMenu:i,blockProps:d,handleAction:g,state:f,actions:h})=>{let{ItemActionMenu:v,usePageParams:x,ProfileHeaderCover:E,ProfileHeaderAvatar:w,useSession:y,getAcl:C,getSetting:N,assetUrl:P,i18n:z}=(0,r.OgA)(),{id:M,tab:T="home"}=x(),S=Z(),U=y(),{user:B}=U||{},H=C(),L=N();if(!(null==e?void 0:e.profile_menu_settings)||!(null==e?void 0:e.profile_settings))return u.createElement(k,null);let{cover_photo_id:A,extra:$,cover_photo_position:j,profile_settings:F}=e,O=(0,s.Q4)(e.avatar,"200x200",P("user.no_image")),D=(0,s.Q4)(null==e?void 0:e.cover,"1024",P("user.cover_no_image")),G={item:e,acl:H,setting:L,session:U},Q=(0,s.W$)(a.items,G),Y=(0,s.W$)(i.items,G),K=Y.slice(0,2),V=Y.slice(2);return u.createElement(l.gO,null,u.createElement(l.sU,null,u.createElement("div",{className:S.root},u.createElement("div",{className:S.wrapper},u.createElement(c.Z,null,u.createElement(E,{identity:t,image:D,imageId:A,alt:"",left:0,top:+j||0}),u.createElement("div",{className:S.profileUserWrapper},u.createElement(o.W2,{maxWidth:"md",disableGutters:!0,className:S.profileHeaderContainer},u.createElement(c.Z,{display:"flex",justifyContent:"space-between",alignItems:"flex-start",p:2,className:S.userInfoContainer},u.createElement(c.Z,{display:"flex",justifyContent:"space-between",alignItems:"flex-start",className:S.userInfo},u.createElement(w,{alt:(0,s.vK)(e.full_name),canEdit:null==$?void 0:$.can_edit,onEdit:h.editProfileHeaderAvatar,avatar:O,avatarId:e.avatar_id}),u.createElement("div",null,u.createElement("h1",{className:S.title},e.full_name,e.is_featured?u.createElement(I,{icon:"ico-check-circle"}):null),(null==F?void 0:F.profile_view_profile)?u.createElement(W,null,u.createElement(n.ZP,{html:e.bio})):null)),u.createElement(c.Z,{display:"flex",flexDirection:"column",alignItems:{sm:"flex-end",xs:"flex-start"}},u.createElement("div",{className:S.wrapperButtonInline},K.map((e,t)=>u.createElement(m.Z,{key:e.label,variant:0===t?"contained":"outlined",startIcon:u.createElement(o.zb,{icon:e.icon}),onClick:()=>g(e.value),color:e.color||"primary",size:"small"},e.label)),(null==B?void 0:B.id)!==parseInt(M)&&(null==V?void 0:V.length)?u.createElement(v,{id:"actionMenu",label:"ActionMenu",handleAction:g,items:V,control:u.createElement(p.Z,{title:z.formatMessage({id:"more_options"})},u.createElement(m.Z,{variant:"outlined",color:"primary",size:"small",className:S.profileActionMenu},u.createElement(o.zb,{icon:"ico-dottedmore-o"})))}):null),(null==$?void 0:$.can_view_profile_activity_point)?u.createElement(b,{isOwner:(null==B?void 0:B.id)===parseInt(M)}):null)))),(null==F?void 0:F.profile_view_profile)&&u.createElement(o.PH,null,({sticky:t})=>u.createElement(o.W2,{maxWidth:"md",disableGutters:!0,className:S.profileHeaderContainer},u.createElement("div",{className:S.wrapperMenu},t?u.createElement(_,null,u.createElement(o.Yt,{user:e,size:48})):null,u.createElement(R,{sticky:t},u.createElement(o.DY,{items:Q,activeTab:T,maxDisplayTab:5}))))))))))};C.displayName="UserProfileHeaderView";let N=(0,r.Uh$)((0,r.jEo)(C,i.Z));var P=(0,r.j4Z)({name:"UserProfileHeaderBlock",extendBlock:N})}}]);