"use strict";(self.webpackChunk_metafox_react=self.webpackChunk_metafox_react||[]).push([["metafox-poll-components-AttachPollPreview"],{54880:function(e,l,t){t.r(l),t.d(l,{default:function(){return f}});var n=t(85597),o=t(77029),a=t(30120),i=t(21822),r=t(91647),s=t(81719),d=t(67294),c=t(30381),m=t.n(c);let u=(0,s.ZP)(a.Z,{name:"StatusPoll",slot:"Root"})(({theme:e})=>({borderRadius:e.spacing(1),border:e.mixins.border("secondary"),padding:e.spacing(3)})),p=(0,s.ZP)(a.Z,{name:"StatusPoll",slot:"Answer"})(({theme:e})=>({borderRadius:4,border:e.mixins.border("secondary"),fontSize:e.mixins.pxToRem(15),height:e.spacing(6),display:"flex",alignItems:"center",marginBottom:e.spacing(2),color:e.palette.text.hint,padding:e.spacing(0,2)}));function f({value:e,formUrl:l,handleEdit:t,handleRemove:s}){var c,f,g;let{i18n:h,dialogBackend:v}=(0,n.OgA)(),_=d.useCallback(()=>{v.confirm({message:h.formatMessage({id:"are_you_sure"})}).then(e=>{e&&s&&s()})},[]),b=()=>{v.present({component:"poll.dialog.AttachPollDialog",props:{initialValues:e,formUrl:l}}).then(e=>{e&&t(e)})};if(!e)return null;let{permissions:x}=e,E=null===(f=null==x?void 0:x.can_edit)||void 0===f||f,k=null===(g=null==x?void 0:x.can_delete)||void 0===g||g;return d.createElement(u,null,d.createElement(o.Ys,{showFull:!0,variant:"h4",fontSize:18,sx:{mb:2}},e.poll_question),d.createElement("div",null,null===(c=e.poll_answers)||void 0===c?void 0:c.map((e,l)=>{return e.answer?d.createElement(p,{key:l.toString()},e.answer):null})),d.createElement(o.ui,null,E?d.createElement(i.Z,{variant:"outlined",size:"smaller",sx:{fontWeight:"bold"},onClick:b},h.formatMessage({id:"edit"})):null,k?d.createElement(i.Z,{variant:"outlined",size:"smaller",sx:{fontWeight:"bold"},onClick:_},h.formatMessage({id:"remove"})):null),e.poll_close_time&&e.enable_close?d.createElement(a.Z,{sx:{mt:2}},d.createElement(r.Z,{variant:"body2",color:"text.hint",fontWeight:"bold"},h.formatMessage({id:"expire_on"})," ",m()(e.poll_close_time).format("LLL"))):null)}}}]);