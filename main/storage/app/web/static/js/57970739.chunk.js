"use strict";(self.webpackChunk_metafox_react=self.webpackChunk_metafox_react||[]).push([["pages.livestreaming"],{40837:function(e,a,i){i.r(a);var t=i(85597);a.default=(0,t.al0)({appName:"livestreaming",resourceName:"live_video",pageName:"livestreaming.browse",paramCreator:e=>{var a,i;return{tab:null===(a=e.tab)||void 0===a?void 0:a.replace(/-/g,"_"),view:null===(i=e.tab)||void 0===i?void 0:i.replace(/-/g,"_")}}})},80220:function(e,a,i){i.r(a);var t=i(85597);a.default=(0,t.oks)({appName:"livestreaming",pageName:"livestreaming.home",resourceName:"live_video"})},86402:function(e,a,i){i.r(a),i.d(a,{default:function(){return r}});var t=i(85597),l=i(21241),n=i(67294),r=function({appName:e,resourceName:a,pageName:i,idName:r="id",loginRequired:o=!1,paramCreator:s}){function u(u){let{dispatch:d,createErrorPage:m,createPageParams:p,jsxBackend:v,useGetItem:c,navigate:g}=(0,t.OgA)(),[f,N]=(0,n.useState)(!0),[_,$]=(0,n.useState)(!0),[b,w]=(0,n.useState)(0),T=(0,t.G9t)(),h=p(u,i=>({appName:e,id:i[r],module_name:e,resource_name:a,resourceName:a,item_type:a,pageMetaName:`${e}.${a}.view_detail`,identity:`${e}.entities.${a}.${i[r]}`,_pageType:"viewItem"}),s),k=(0,t.oHF)(e,a,"viewItem"),y=(0,n.useCallback)(e=>{w(e)},[]),C=(0,n.useCallback)(()=>{N(!1)},[]),E=c(`${null==h?void 0:h.appName}.entities.${null==h?void 0:h.resourceName}.${null==h?void 0:h.id}`);return(n.useEffect(()=>{_&&!f&&((null==E?void 0:E.is_streaming)&&(null==E?void 0:E.is_owner)?$(!1):g(null==E?void 0:E.link))},[null==E?void 0:E.is_streaming,f,_]),(0,n.useEffect)(()=>{d({type:`renderPage/${i}`,payload:h})},[h]),(0,n.useEffect)(()=>{d((0,t.RR$)(k.apiUrl,{apiParams:k.apiParams,pageParams:h},C,y,T))},[h.identity,h]),b)?m(b,{loginRequired:o}):f?v.render({component:"Loading"}):(null==E?void 0:E.is_streaming)&&(null==E?void 0:E.is_owner)?(0,n.createElement)(l.T3,{pageName:i,pageParams:h,loginRequired:o}):null}return u.displayName=`ViewItemDetail(${i})`,u}({appName:"livestreaming",pageName:"livestreaming.dashboard",resourceName:"live_video"})},21902:function(e,a,i){i.r(a),i.d(a,{default:function(){return d}});var t=i(85597),l=i(21241),n=i(89581),r=i(27361),o=i.n(r),s=i(67294),u=i(96974);function d(e){var a;let{createPageParams:i,createContentParams:r,useGetItem:d,dispatch:m,jsxBackend:p}=(0,t.OgA)(),[v,c]=s.useState(0),[g,f]=s.useState(!0),N=s.useCallback(e=>{c(e),f(!1)},[]),_=s.useCallback(()=>{f(!1)},[]),$=(0,t.oHF)(n.m,n.T,"viewAll"),b=(0,t.THL)(),w=null==b?void 0:null===(a=b.state)||void 0===a?void 0:a.asModal,T=(0,u.s0)(),h=i(e,e=>({appName:n.m,resourceName:n.T,tab:"landing",pageMetaName:`${n.m}.${n.T}.landing`,_pageType:"browseItem"})),k=r({mainListing:{canLoadMore:!0,contentType:n.T,title:null==h?void 0:h.heading,dataSource:{apiUrl:null==$?void 0:$.apiUrl,apiRules:null==$?void 0:$.apiRules,apiParams:{...null==$?void 0:$.apiParams,...h}}}}),y=d(`${null==h?void 0:h.appName}.entities.${null==h?void 0:h.resourceName}.${null==h?void 0:h.id}`);if(s.useEffect(()=>{(null==h?void 0:h.id)&&!w&&m((0,t.RR$)("/live-video/:id",{id:null==h?void 0:h.id},_,N))},[]),s.useEffect(()=>{if(g&&y&&!v){let e={pathname:b.pathname},a={asModal:!0,loadedDetail:!0,modalCloseTo:{pathname:"/live-video"}};setImmediate(()=>T(e,{state:a,replace:!0}))}},[y,g,v]),v){let C=o()(v,"response.data.error")||o()(v,"response.data.message"),E=403===o()(v,"response.status")?"core.error403":"core.error404";return s.createElement(l.T3,{pageName:E,pageParams:{title:C,variant:"h2"}})}return g?p.render({component:"Loading"}):s.createElement(l.T3,{pageName:"livestreaming.home",pageParams:h,contentParams:k})}}}]);