"use strict";(self.webpackChunk_metafox_react=self.webpackChunk_metafox_react||[]).push([["metafox-music-blocks-SongDetail-Mobile-Block"],{59765:function(){},20231:function(e,t,a){a.r(t),a.d(t,{default:function(){return E}});var n=a(85597),o=a(10316),i=a(84116),r=a(21241),l=a(77029),c=a(30120),s=a(81719),m=a(67294),p=a(8886);a(59765);var d=a(22410),g=a(73327);let u=(0,d.Z)(e=>(0,g.Z)({root:{},bgCoverWrapper:{minHeight:"388px",overflow:"hidden",position:"relative"},bgCover:{height:"100%",backgroundImage:"linear-gradient(to top, #aeacac, #121212)",position:"absolute",left:0,right:0,top:0,bottom:0,zIndex:-2},hasBgCover:{},header:{width:"100%",marginLeft:"auto",marginRight:"auto",color:"#fff",paddingTop:e.spacing(3),"& .rhap_container":{backgroundColor:"unset",boxShadow:"none"}},headerInner:{},imgSong:{width:160,height:160,margin:e.spacing(3,"auto")},audioPlayer:{margin:e.spacing(0,"auto",3),display:"block",boxShadow:"none",outline:"none","& .rhap_progress-section":{flexWrap:"wrap"},"& .rhap_progress-container":{width:"100%",flex:"none",margin:e.spacing(0,0,2),outline:"none",order:1,"& .rhap_progress-bar-show-download":{backgroundColor:e.mixins.backgroundColor("paper"),height:2,"& .rhap_progress-filled":{backgroundColor:e.palette.primary.main},"& .rhap_progress-indicator":{display:"none"}}},"& .rhap_current-time":{order:2,color:"#fff"},"& .rhap_total-time":{marginLeft:"auto",color:"#fff",order:3},"& .rhap_controls-section":{padding:e.spacing(0,2),alignItems:"baseline",flex:"none","& .rhap_main-controls":{flex:"none","& button":{fontSize:32,width:32,height:32,color:"#fff",outline:"none",overflow:"inherit","&.rhap_play-pause-button":{margin:e.spacing(1,5,0)}}},"& .rhap_additional-controls":{flex:"none","& button":{margin:e.spacing(0,0,0,"auto"),fontSize:18,width:18,height:18,color:"#fff",outline:"none"}}}},btnRepeatOn:{color:e.palette.primary.main},btnControlAudio:{fontSize:18,"&.ico-shuffle":{display:"flex",alignItems:"center",cursor:"pointer"}},btnDisable:{color:e.palette.text.disabled,cursor:"not-allowed !important"},viewContainer:{width:"100%",maxWidth:720,marginLeft:"auto",marginRight:"auto",backgroundColor:e.mixins.backgroundColor("paper"),border:e.mixins.border("secondary"),padding:e.spacing(2),position:"relative"},actionMenu:{width:32,height:32,position:"absolute !important",top:e.spacing(1),right:e.spacing(1),"& .ico":{color:e.palette.text.secondary,fontSize:13}},titleWrapper:{display:"flex",flexDirection:"column",alignItems:"center"},pageTitle:{fontWeight:e.typography.fontWeightBold,flex:1,minWidth:0,fontSize:18,lineHeight:1,maxHeight:72,overflow:"hidden",textOverflow:"ellipsis",wordBreak:"break-word",wordWrap:"break-word",whiteSpace:"normal",WebkitLineClamp:3,display:"-webkit-box",WebkitBoxOrient:"vertical",textAlign:"center",padding:e.spacing(0,2)},itemFlag:{marginBottom:e.spacing(2)},minorInfo:{marginTop:e.spacing(2),color:e.palette.text.secondary,fontSize:13,fontWeight:e.typography.fontWeightBold,textAlign:"center"},author:{display:"flex",marginTop:e.spacing(2)},authorInfo:{margin:e.spacing(0,2.5,0,1.5)},userName:{fontSize:15,fontWeight:"bold",color:e.palette.text.primary,paddingRight:e.spacing(.5)},date:{fontSize:13,color:e.palette.text.secondary,marginTop:e.spacing(.5)},itemContent:{fontSize:15,lineHeight:1.33,marginTop:e.spacing(3),"& p + p":{marginBottom:e.spacing(2.5)}}}),{name:"MuiSongViewDetail"});var h=a(27274),f=a(7390),b=a(43847);let v=(0,s.ZP)("span",{name:"HeadlineSpan"})(({theme:e})=>({paddingRight:e.spacing(.5),color:e.palette.text.secondary})),y=(0,s.ZP)(b.Z,{name:"OwnerStyled"})(({theme:e})=>({fontWeight:e.typography.fontWeightBold,color:e.palette.text.primary,fontSize:e.mixins.pxToRem(15),"&:hover":{textDecoration:"underline"}})),x=(0,n.Uh$)((0,o.ZP)(function({item:e,user:t,blockProps:a,identity:o,handleAction:s,state:d}){let{ItemActionMenu:g,ItemDetailInteraction:b,i18n:x,assetUrl:E,getSetting:w}=(0,n.OgA)(),_=u(),S=(0,n.z88)(null==e?void 0:e.owner),C=w("music.music_song.auto_play"),k=new AudioContext;if(!e)return null;let{creation_date:N,description:z,name:W,statistic:I,destination:Z,is_featured:A,is_sponsor:P,image:T,is_favorite:M,attachments:O}=e,R=(0,h.Q4)(T,"240",E("music.song_no_image"));return m.createElement(r.gO,{blockProps:a,testid:`detailview ${e.resource_name}`},m.createElement(r.sU,null,m.createElement("div",{className:_.root},m.createElement("div",{className:_.bgCoverWrapper},m.createElement("div",{className:_.bgCover}),m.createElement("div",{className:_.header},m.createElement("div",{className:_.headerInner},m.createElement("div",{className:_.titleWrapper},m.createElement("div",{className:_.itemFlag},m.createElement(l.K6,{variant:"itemView",value:A}),m.createElement(l.k5,{variant:"itemView",value:P})),m.createElement(c.Z,{className:_.pageTitle},m.createElement(l.zb,{icon:M?"ico-heart":"ico-heart-o",sx:{fontSize:18,mr:1.5}}),W)),Number.isInteger(null==I?void 0:I.total_play)?m.createElement("div",{className:_.minorInfo},x.formatMessage({id:"value_plays"},{value:I.total_play})):null),m.createElement(l.Gy,{src:R,className:_.imgSong,aspectRatio:"11"}),m.createElement(p.default,{autoPlay:C&&"running"===k.state,className:_.audioPlayer,src:Z,showJumpControls:!1,showSkipControls:!0,customVolumeControls:[],customControlsSection:[m.createElement(l.zb,{key:"shuffle",icon:"ico-shuffle",className:`${_.btnControlAudio} ${_.btnDisable}`}),p.RHAP_UI.MAIN_CONTROLS,p.RHAP_UI.ADDITIONAL_CONTROLS],customIcons:{play:m.createElement(l.zb,{icon:"ico-play"}),pause:m.createElement(l.zb,{icon:"ico-pause"}),previous:m.createElement(l.zb,{icon:"ico-play-prev",className:`${_.btnControlAudio} ${_.btnDisable}`}),next:m.createElement(l.zb,{icon:"ico-play-next",className:`${_.btnControlAudio} ${_.btnDisable}`}),loop:m.createElement(l.zb,{icon:"ico-play-repeat",className:_.btnRepeatOn}),loopOff:m.createElement(l.zb,{icon:"ico-play-repeat"})}}))),m.createElement("div",{className:_.viewContainer},m.createElement(g,{identity:o,icon:"ico-dottedmore-vertical-o",state:d,handleAction:s,className:_.actionMenu}),m.createElement("div",{className:_.author},m.createElement(c.Z,{component:"div"},m.createElement(l.Yt,{user:t,size:48})),m.createElement("div",{className:_.authorInfo},m.createElement(n.rUS,{color:"inherit",to:`/user/${null==t?void 0:t.id}`,children:t.full_name,className:_.userName}),(null==S?void 0:S.resource_name)!==(null==t?void 0:t.resource_name)&&m.createElement(v,null,x.formatMessage({id:"to_parent_user"},{icon:()=>m.createElement(l.zb,{icon:"ico-caret-right"}),parent_user:()=>m.createElement(y,{user:S})})),m.createElement(l.Ee,{sx:{color:"text.secondary",mt:.5}},m.createElement(l.r2,{value:N,format:"MMMM DD, yyyy"}),m.createElement(l.Cd,{value:null==e?void 0:e.privacy,item:null==e?void 0:e.privacy_detail})))),m.createElement(c.Z,{component:"div",mt:3,className:_.itemContent},m.createElement(i.ZP,{html:z})),m.createElement(f.Z,{attachments:O,size:"mini"}),m.createElement(b,{identity:o,handleAction:s})))))}));var E=(0,n.j4Z)({extendBlock:x,defaults:{placeholder:"Search",blockProps:{variant:"plained",titleComponent:"h2",titleVariant:"subtitle1",titleColor:"textPrimary",noFooter:!0,noHeader:!0,blockStyle:{},contentStyle:{borderRadius:"base"},headerStyle:{},footerStyle:{}}}})},7390:function(e,t,a){var n=a(85597),o=a(77029),i=a(81719),r=a(67294);let l=(0,i.ZP)("div",{name:"attachmentTitle"})(({theme:e})=>({fontSize:e.mixins.pxToRem(18),marginTop:e.spacing(2),color:e.palette.text.secondary,fontWeight:e.typography.fontWeightBold})),c=(0,i.ZP)("div",{name:"attachment"})(({theme:e})=>({width:"100%",display:"flex",flexWrap:"wrap",justifyContent:"space-between"})),s=(0,i.ZP)("div",{name:"attachmentItemWrapper"})(({theme:e})=>({marginTop:e.spacing(2),flexGrow:0,flexShrink:0,flexBasis:"calc(50% - 8px)",minWidth:300})),m=({attachments:e,size:t})=>{let{i18n:a}=(0,n.OgA)(),i=(0,n.mbX)(e);return i.length?r.createElement(r.Fragment,null,r.createElement(l,null,a.formatMessage({id:"attachments"})),r.createElement(c,null,i.map(e=>{return r.createElement(s,{key:e.id.toString()},r.createElement(o.M$,{fileName:e.file_name,downloadUrl:e.download_url,isImage:e.is_image,fileSizeText:e.file_size_text,size:t,image:null==e?void 0:e.image}))}))):null};t.Z=m},10316:function(e,t,a){a.d(t,{ZP:function(){return c}});var n=a(85597),o=a(27361),i=a.n(o);let r=(0,n.rMH)({},()=>({})),l=(0,n.$jX)(function(e,t){let a=i()(e,t.identity);if(!a)return{};let n=a.songs?a.songs.map(t=>i()(e,t)).filter(Boolean):[];return{item:a,songs:n,user:i()(e,a.user)}});function c(e){return l(r(e))}}}]);