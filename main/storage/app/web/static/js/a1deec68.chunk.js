"use strict";(self.webpackChunk_metafox_react=self.webpackChunk_metafox_react||[]).push([["metafox-bgstatus-components-StatusComposerAttachBgStatusButton"],{76018:function(t,e,r){r.r(e),r.d(e,{default:function(){return C}});var a=r(27274),n=r(67294),o=r(1771),l=r(85597),s=r(81719),u=r(38790),c=r(23560),i=r.n(c),d=r(86706);let g="AttachBackgroundStatus",m=(0,s.ZP)("div",{name:g,slot:"root"})(({theme:t})=>({display:"flex",flexWrap:"wrap",padding:t.spacing(0,.5)})),p=(0,s.ZP)("div",{name:g,slot:"root"})(({theme:t})=>({cursor:"pointer",padding:t.spacing(.5),border:"1px solid transparent"})),b=(0,s.ZP)("div",{name:g,slot:"root"})(({theme:t})=>({width:24,height:24,borderRadius:4,display:"flex",alignItems:"center",justifyContent:"center"})),k=(0,s.ZP)("div",{name:g,slot:"root"})(({theme:t})=>({width:24,height:24,borderRadius:4,border:"1px solid rgba(0,0,0,0.2)",backgroundColor:t.mixins.backgroundColor("paper")})),f=(0,s.ZP)("div",{name:g,slot:"root"})(({theme:t})=>({width:24,height:24,borderRadius:4,border:"1px solid transparent",backgroundImage:"linear-gradient(to top, #7ed290, #076e1e);"})),h=(0,s.ZP)("div",{name:g,slot:"root"})(({theme:t})=>({width:24,height:24,borderRadius:4,border:"1px solid rgba(0,0,0,0.2)",backgroundColor:t.mixins.backgroundColor("paper")}));function v(t){let{onClear:e,onSelectItem:r}=t,{loaded:a}=(0,d.v9)(o.D),[s,c]=n.useState(t.selectedId),{dispatch:g,i18n:v,dialogBackend:x}=(0,l.OgA)(),C=n.useCallback(t=>{c(t.id),i()(r)&&r(t)},[r]),_=n.useCallback(()=>{c(0),i()(e)&&e()},[e]),B=()=>{x.present({component:"bgstatus.dialog.BgStatusPicker",props:{onSelectItem:C,onClear:_,selectedId:s}})};return n.useEffect(()=>{a||g({type:"bgstatus/LOAD",payload:{}})},[g,a]),n.createElement(m,null,n.createElement(u.Z,{title:v.formatMessage({id:"select_background_status"})},n.createElement(p,null,n.createElement(b,{"aria-label":"select_background_status","data-testid":"selectBackgroundStatusButton",onClick:B,role:"button"},n.createElement(f,null)))),s>0&&n.createElement(u.Z,{title:v.formatMessage({id:"remove_background_status"})},n.createElement(p,null,n.createElement(k,{"data-testid":"removeBackgroundStatusButton","aria-label":"remove_background_status",onClick:_,role:"button"},n.createElement(h,null)))))}function x(){return(x=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t}).apply(this,arguments)}function C({composerRef:t,editorRef:e,disabled:r,value:o,...l}){var s,u;let c=()=>{t.current.removeBackground(),e.current.focus()},i=r=>{let n={fontSize:"28px",color:"white",textAlign:"center",backgroundSize:"cover",backgroundImage:`url("${(0,a.Q4)(r.image)}")`,minHeight:371,marginTop:16,marginBottom:16,cursor:"text"};t.current.setBackground({className:"withBackgroundStatus",textAlignment:"center",item:r,editorStyle:n}),setImmediate(()=>e.current.focus())};return r?null:n.createElement(v,x({},l,{selectedId:(null==o?void 0:o.status_background_id)||(null===(s=t.current.state.attachments.statusBackground)||void 0===s?void 0:null===(u=s.value)||void 0===u?void 0:u.id),onClear:c,onSelectItem:i}))}},1771:function(t,e,r){r.d(e,{D:function(){return n}});var a=r(22222);let n=(0,a.P1)(t=>t.bgstatus,t=>t)}}]);