(self.webpackChunk_metafox_react=self.webpackChunk_metafox_react||[]).push([["metafox-group-blocks-ProfileHeader-Block"],{88360:function(e,t,n){var a=n(65776);e.exports=function(e,t){var n=e.length;if(n)return a(t+=t<0?n:0,n)?e[t]:void 0}},98491:function(e,t,n){var a=n(88360),i=n(40554);e.exports=function(e,t){return e&&e.length?a(e,i(t)):void 0}},5839:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return A}});var a=n(85597),i=n(40271),r=n(9949),l=n(21241),o=n(77029),c=n(27274),m=n(7961),s=n(30120),d=n(21822),p=n(81719),u=n(91647),g=n(41609),h=n.n(g),f=n(98491),v=n.n(f),b=n(67294),E=n(90503),x=n(71682),Z=n(22410),w=n(73327),y=(0,Z.Z)(e=>(0,w.Z)({root:{},profileUserWrapper:{padding:e.spacing(2),background:e.palette.background.paper,borderBottom:e.mixins.border("secondary"),display:"flex"},name:{},type:{marginTop:e.spacing(1)},btn:{marginLeft:"auto"},menu:{marginBottom:e.spacing(2),background:e.palette.background.paper,borderBottomLeftRadius:e.shape.borderRadius,borderBottomRightRadius:e.shape.borderRadius,height:e.spacing(7.5),display:"flex",alignItems:"center","& > .MuiSkeleton-root":{padding:e.spacing(2),marginLeft:e.spacing(2)}},btnGroups:{display:"flex",marginLeft:"auto",marginRight:e.spacing(2),"& .MuiSkeleton-root":{padding:e.spacing(1),marginLeft:e.spacing(1)}}}),{name:"GroupProfileHeaderSkeleton"});function k(){let e=y();return b.createElement(o.W2,{maxWidth:"md",disableGutters:!0},b.createElement(x.Z,{variant:"rectangular",sx:{height:320},animation:!1}),b.createElement("div",{className:e.profileUserWrapper},b.createElement("div",{className:e.name},b.createElement(x.Z,{variant:"text",width:400,height:42}),b.createElement(x.Z,{variant:"text",width:120,className:e.type})),b.createElement("div",{className:e.btn},b.createElement(x.Z,{variant:"button",width:140,height:32}))),b.createElement("div",{className:e.menu},b.createElement(x.Z,{variant:"button",width:100,height:20}),b.createElement(x.Z,{variant:"button",width:100,height:20}),b.createElement(x.Z,{variant:"button",width:100,height:20}),b.createElement(x.Z,{variant:"button",width:100,height:20}),b.createElement(x.Z,{variant:"button",width:100,height:20}),b.createElement("div",{className:e.btnGroups},b.createElement(x.Z,{variant:"button",width:32,height:32}),b.createElement(x.Z,{variant:"button",width:32,height:32}))))}var _=n(76482),W=n(50130);let C=(0,p.ZP)(_.Z)(({theme:e})=>({display:"flex",justifyContent:"space-between",background:"light"===e.palette.mode?e.layoutSlot.background.paper:e.palette.background.default,padding:e.spacing(2),color:e.palette.text.secondary,boxShadow:"none"})),S=(0,p.ZP)(u.Z)(({theme:e})=>({})),z=({item:e})=>{let{i18n:t}=(0,a.OgA)();return(null==e?void 0:e.is_muted)?b.createElement(C,null,b.createElement(s.Z,{sx:{display:"flex",alignItems:"center"}},b.createElement(s.Z,null,b.createElement(W.Z,{size:"medium"},b.createElement(o.zb,{icon:"ico-volume-del-o"}))),b.createElement(s.Z,{sx:{paddingLeft:2}},b.createElement(u.Z,{variant:"h5",color:"text.primary",paddingBottom:.5},t.formatMessage({id:"you_have_been_muted_in_this_group"})),b.createElement(S,{variant:"body2"},t.formatMessage({id:"your_can_still_access_its_post_and_chat"}))))):null};var N=(0,Z.Z)(e=>{var t;return(0,w.Z)({profileUserWrapper:{},wrapperMenu:{display:"flex",maxWidth:"100%",flexGrow:1,[e.breakpoints.down("sm")]:{width:"auto",maxWidth:"calc(100% - 60px)",paddingLeft:e.spacing(2),flex:1,minWidth:0}},profileMenu:{flex:1,minWidth:0},profileHeaderContainer:{padding:0},profileHeaderBottom:{backgroundColor:e.mixins.backgroundColor("paper"),borderTop:"solid 1px",borderTopColor:null===(t=e.palette.border)||void 0===t?void 0:t.secondary,display:"flex",justifyContent:"space-between",alignItems:"center",borderBottomLeftRadius:"8px",borderBottomRightRadius:"8px",overflow:"hidden",height:e.spacing(9)},actionButtons:{display:"flex",paddingRight:e.spacing(2),"& button":{marginLeft:e.spacing(1),textTransform:"capitalize",fontWeight:"bold",whiteSpace:"nowrap",borderRadius:e.spacing(.5),fontSize:e.mixins.pxToRem(13),padding:e.spacing(.5,1.25),marginBottom:e.spacing(1),minWidth:e.spacing(4),height:e.spacing(4),"& .ico":{fontSize:e.mixins.pxToRem(13)}},[e.breakpoints.down("sm")]:{alignItems:"center",justifyContent:"center",paddingRight:e.spacing(1),"& button":{margin:e.spacing(2,1)}}},userStickyWrapper:{display:"flex",alignItems:"center",height:72},userAvatarSticky:{width:48,height:48},userNameSticky:{fontSize:e.mixins.pxToRem(18),fontWeight:"bold",marginLeft:e.spacing(1.5),WebkitLineClamp:2,display:"-webkit-box",padding:"0",overflow:"hidden",maxWidth:"100%",whiteSpace:"normal",textOverflow:"ellipsis",WebkitBoxOrient:"vertical"},buttonJoin:{"&.Mui-disabled":{..."dark"===e.palette.mode&&{color:`${e.palette.text.hint} !important`}}}})},{name:"GroupProfileHeader"}),B=n(86706);let L=(0,p.ZP)(s.Z)(({theme:e})=>({display:"flex",justifyContent:"end",alignItems:"center",marginLeft:e.spacing(4),"& button":{fontWeight:"bold",boxShadow:"none",width:"max-content",marginLeft:e.spacing(1),"& .ico":{fontSize:e.mixins.pxToRem(15)}},[e.breakpoints.down("sm")]:{justifyContent:"center",flexFlow:"row wrap",minHeight:40,padding:"4px 0",marginLeft:"0","& button":{minWidth:"120px"}}})),R=(0,p.ZP)(u.Z)(({theme:e})=>({fontWeight:"normal",paddingTop:e.spacing(1)})),M=(0,p.ZP)(s.Z)(({theme:e})=>({backgroundColor:e.mixins.backgroundColor("paper"),padding:e.spacing(2,2,2)})),I=(0,p.ZP)(s.Z)(({theme:e})=>({paddingTop:e.spacing(.5),display:"flex",justifyContent:"space-between",alignItems:"flex-start",[e.breakpoints.down("sm")]:{flexFlow:"column",width:"100%",alignItems:"center"}})),P=(0,p.ZP)(s.Z)(({theme:e})=>({display:"flex",justifyContent:"space-between",alignItems:"flex-start",[e.breakpoints.down("sm")]:{flexFlow:"column",width:"100%",alignItems:"flex-start",marginBottom:e.spacing(2)}})),T=(0,p.ZP)(s.Z)(({theme:e})=>({"> div":{marginTop:e.spacing(2)}})),j=(0,p.ZP)(o.zb,{name:"FeaturedIcon"})(({theme:e})=>({color:e.palette.primary.main,marginLeft:e.spacing(2),fontSize:24}));function G({item:e,user:t,identity:n,profileMenu:i,profileActionMenu:p,handleAction:g,actions:f,state:x}){var Z;let{i18n:w,usePageParams:y,ProfileHeaderCover:_,ItemActionMenu:W,dispatch:C,jsxBackend:S,getAcl:G,getSetting:H,assetUrl:A}=(0,a.OgA)(),$=G(),F=H(),{tab:O="home"}=y(),U=N(),{user:D}=(0,a.kPO)(),[Q,V]=b.useState(!1),J=S.get("group.itemView.pendingReviewCard"),Y=S.get("group.itemView.pendingReviewGroupCard"),q=(0,B.v9)(t=>{return(0,a.i$h)(t,null==e?void 0:e.module_name,null==e?void 0:e.resource_name,"itemActionInviteMenu")});if(!e)return b.createElement(k,null);let{cover_photo_id:K,extra:X,title:ee,id:et,statistic:en,cover_photo_position:ea,membership:ei}=e,er=(0,c.Q4)(e.cover,"240")||(0,c.Q4)(e.image,"240"),el={item:e,acl:$,setting:F},eo=(0,c.W$)(i.items,el),ec=(0,c.W$)(p.items,{item:{...e,is_admin:(null==t?void 0:t.id)===(null==D?void 0:D.id)},acl:$,setting:F}),em=(0,c.W$)(null==q?void 0:q.items,el),es=(null===(Z=v()(ec,0))||void 0===Z?void 0:Z.name)!=="manage"?v()(ec,0):void 0,ed=[r.Rk,r.cm,r.mG].includes(ei)?es:void 0,ep=ed?ec.slice(1):ec,eu=(0,c.Q4)(e.cover,"1024",A("group.cover_no_image")),eg=()=>{C({type:"group/search",payload:{identity:n}})},eh=()=>{C({type:"user/showDialogLogin"})},ef=()=>{C({type:"group/inviteFriends",payload:{identity:n}})},ev=e=>{V(!0),h()(D)?eh():g(null==ed?void 0:ed.value,{onSuccess:()=>V(!1)})};return b.createElement(l.gO,null,b.createElement(l.sU,null,b.createElement(s.Z,null,b.createElement(_,{identity:n,image:eu,imageId:K,alt:ee,left:0,top:+ea||0}),b.createElement(s.Z,null,b.createElement(o.W2,{maxWidth:"md",disableGutters:!0,sx:{padding:0}},b.createElement(M,null,b.createElement(o.k5,{variant:"itemView",value:e.is_sponsor}),b.createElement(I,null,b.createElement(P,null,b.createElement(s.Z,null,b.createElement(u.Z,{variant:"h2"},e.title,e.is_featured?b.createElement(j,{icon:"ico-check-circle"}):null),b.createElement(R,{variant:"subtitle1",color:"text.secondary"},e.reg_name,(null==en?void 0:en.total_member)&&(null==X?void 0:X.can_view_members)?b.createElement(b.Fragment,null," ","\xb7"," ",b.createElement(a.rUS,{to:`/group/${e.id}/member?stab=all_members`},w.formatMessage({id:"total_member"},{value:en.total_member}))):null))),b.createElement(L,null,ed&&b.createElement(d.Z,{size:"small",variant:null==ed?void 0:ed.variant,disabled:(null==ed?void 0:ed.disabled)||Q,startIcon:b.createElement(o.zb,{icon:null==ed?void 0:ed.icon}),color:"primary",onClick:()=>ev(ed.value),className:U.buttonJoin},null==ed?void 0:ed.label),1===em.length?b.createElement(d.Z,{onClick:ef,size:"small",variant:"outlined",startIcon:b.createElement(o.zb,{sx:{marginLeft:"0 !important"},icon:"ico-envelope"})},b.createElement("span",null,w.formatMessage({id:"invite_friends"}))):null,em.length>1?b.createElement(W,{items:em,state:x,handleAction:g,control:b.createElement(d.Z,{size:"small",variant:"outlined",startIcon:b.createElement(o.zb,{sx:{marginLeft:"0 !important"},icon:"ico-envelope"})},b.createElement("span",null,w.formatMessage({id:"invite"})))}):null)),b.createElement(T,null,b.createElement(E.Z,{item:e,actions:f}),b.createElement(J,{item:e,actions:f}),b.createElement(Y,{item:e,actions:f}),b.createElement(z,{item:e})))),b.createElement(o.PH,null,({sticky:t})=>{return b.createElement(o.W2,{maxWidth:"md",disableGutters:!0,className:U.profileHeaderContainer},t?b.createElement("div",{className:U.profileHeaderBottom},b.createElement("div",{className:U.wrapperMenu},b.createElement("div",{className:U.userStickyWrapper},b.createElement(m.Z,{className:U.userAvatarSticky,src:er}),b.createElement("div",{className:U.userNameSticky},e.title))),b.createElement("div",{className:U.actionButtons},0===e.reg_method||(null==ed?void 0:ed.name)==="joined"?b.createElement(d.Z,{variant:"outlined",color:"primary",onClick:eg,sx:{display:"none"}},b.createElement(o.zb,{icon:"ico-search-o"})):null,b.createElement(W,{id:"actionMenu",label:"ActionMenu",handleAction:g,items:ep,control:b.createElement(d.Z,{variant:"outlined",color:"primary",size:"large"},b.createElement(o.zb,{icon:"ico-dottedmore-o"}))}))):b.createElement("div",{className:U.profileHeaderBottom},b.createElement("div",{className:U.wrapperMenu},b.createElement("div",{className:U.profileMenu},b.createElement(o.DY,{items:eo,activeTab:O,prefix:`/group/${et}`,maxDisplayTab:5}))),b.createElement("div",{className:U.actionButtons},0===e.reg_method||(null==ed?void 0:ed.name)==="joined"?b.createElement(d.Z,{variant:"outlined",color:"primary",onClick:eg},b.createElement(o.zb,{icon:"ico-search-o"})):null,b.createElement(W,{id:"actionMenu",label:"ActionMenu",handleAction:g,items:ep,control:b.createElement(d.Z,{variant:"outlined",color:"primary",size:"large"},b.createElement(o.zb,{icon:"ico-dottedmore-o"}))}))))})))))}G.LoadingSkeleton=k;let H=(0,a.Uh$)((0,a.jEo)(G,i.Z));var A=(0,a.j4Z)({name:"GroupProfileHeaderBlock",extendBlock:H})}}]);